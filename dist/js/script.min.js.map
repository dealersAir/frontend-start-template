{"version":3,"sources":["global.js","accord.js","ajax.js","anchor.js","button.js","customform.js","diagram.js","floatslider.js","form.js","fsscroll.js","image.js","more.js","mouseparallax.js","numberspin.js","popup.js","share.js","tab.js","timer.js","validateform.js"],"names":["winW","winH","elementIsHidden","browser","document","documentElement","setAttribute","navigator","userAgent","toLowerCase","test","getWinSizes","window","innerWidth","innerHeight","addEventListener","CustomEvent","e","event","params","evt","bubbles","cancelable","detail","undefined","createEvent","initCustomEvent","prototype","Object","create","Event","winResizedEvent","rsz","setTimeout","dispatchEvent","Element","closest","ElProto","matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","selector","this","parentElement","elem","compStyles","getComputedStyle","display","visibility","opacity","$","ready","on","_$","Content","find","hasClass","slideUp","removeClass","slideDown","animate","scrollTop","offset","top","addClass","Ajax","take","url","data","id","fun","_","ajax","type","dataType","success","response","put","error","alert","resp","Block","html","Popup","show","append","coverImg","attr","page","length","width","height","scroll","Point","href","anch","split","scrTo","stop","location","hash","onload","openMenu","st","pos","css","removeAttr","actElements","targetElements","$elem","role","initClickOnElements","not","click","fstTxt","secTxt","CustomPlaceholder","CustomSelect","BindLabels","elementsStr","elements","querySelectorAll","i","label","querySelector","forID","hasAttribute","htmlFor","ChangeCheckbox","change","getAttribute","style","init","target","bind","ChangeRadio","checkedElem","name","j","placeholder","elemFor","createElement","className","innerHTML","insertBefore","removeAttribute","value","hidePlaceholder","hide","lSt","textIndent","paddingLeft","paddingRight","field","close","fields","classList","remove","listItems","open","add","selectMultipleVal","button","input","toButtonValue","toInputValue","inputsBlock","toggle","checkedElements","join","yetInput","appendChild","targetAction","contains","selectVal","lalueElements","varHeightTextarea","setHeight","ValidateForm","select","autocomplete","match","reg","RegExp","valueElements","valueElem","setOptions","fieldStr","optObj","val","options","li","keyboard","key","hoverItem","nextItem","item","nextElementSibling","getBoundingClientRect","firstElementChild","previousElementSibling","lastElementChild","fillAcHead","checkedValues","build","elementStr","parent","optionsList","require","head","multiple","class","inpDiv","hiddenInp","opt","which","keyCode","preventDefault","CustomFile","loadPreview","file","imgPreviewBlock","reader","FileReader","result","readAsDataURL","changeInput","self","fileItems","console","log","files","fileItem","mirror","mirrorOutput","replace","Diagram","values","set","maxVal","context","startingAngle","Math","PI","centerX","centerY","canvas","getElementById","getContext","round","draw","color","pid","once","endingAngle","calcPath","pathStyle","r","beginPath","arc","lineWidth","strokeStyle","c","stroke","newVal","Array","anim","clearRect","numId","diagram","diagramObject","FlSlider","animation","count","isLine","t","first","last","next","dots","ind","dotC","activeDot","clearTimeout","line","dir","ToNext","ToPrev","Curr","Next","Prev","prev","s","swipe","direction","triggerOnTouchEnd","excludedElements","threshold","Form","NextFieldset","nextFieldset","currentFieldset","validate","form","elemStr","formSelector","clear","textareaMirrors","actSubmitBtn","submit","onSubmit","obj","unlockSubmitButton","clearForm","FsScroll","scrolling","factor","scrChangedEv","beforeScrChangeEv","each","_item","current","midWinScrollTop","$item","itemOfsTop","itemH","move","moveTo","duration","easing","mouseScroll","delta","$nextScr","$curScr","winScrollTop","winScrollBottom","initFsS","returnValue","deltaY","deltaFactor","off","direct","allowPageScroll","flexImg","images","newImg","Img","imgSpl","FlexImg","CoverImg","forEach","image","imageProp","src","cover","img","currentTarget","imgWrap","imgProportion","offsetWidth","offsetHeight","imgWrapProportion","Infinity","margin","marginTop","marginLeft","reInit","parentElementStr","Date","getTime","moreHeight","content","_inner","_moreInner","minH","maxH","Mouseparallax","defaultOpt","listener","deltaX","rangeX","rangeY","extend","startMousePos","X","Y","listenerW","listenerH","cursorPos","translateElement","startElementPos","clientX","clientY","deltaMouse","translateX","translateY","mouseparallax","mousePlxObj","Numberspin","spin","interval","run","curVal","endVal","d","endValArr","String","curValArr","output","pattern","index","$Elem","def","start","numberspin","numberspinObj","closeCallback","play","group","position","$popWin","$popup","fadeIn","fadeOut","message","msg","prepend","media","args","Pop","$box","BtnPlay","Iframe","JSON","parse","imgSize","vid","utm","ifrSrc","$next","eq","Share","vkontakte","encodeURIComponent","popup","facebook","twitter","odnoklasniki","Tab","tabBlock","_btn","$btn","tab","changeItem","$tabItem","$container","$activeItem","Timer","min","sec","Interval","onStop","initVal","setCookies","date","now","cookie","toUTCString","cokValue","cokArr","keyVal","floor","counter","setInterval","clearInterval","minO","errorTip","err","errInd","errTip","customErrorTip","$inp","errorTxt","$input","_reg","exec","cDate","getMonth","getDate","getFullYear","valueOf","email","tel","pass","minLng","validateOnInputOrBlur","errCount","size","maxSize","inpType","checked","groups","checkedElement"],"mappings":"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","file":"script.min.js","sourcesContent":["//global variables\r\nvar winW, winH, elementIsHidden, browser;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n//get useragent\r\ndocument.documentElement.setAttribute('data-useragent', navigator.userAgent);\r\n\r\n//browser identify\r\nbrowser = (function(userAgent) {\r\n\r\n\tuserAgent = userAgent.toLowerCase();\r\n\r\n\tif (/(msie|rv:11\\.0)/.test(userAgent)) {\r\n\t\treturn 'ie';\r\n\t}\r\n\r\n}(navigator.userAgent));\r\n\r\n//get window sizes\r\n(function getWinSizes() {\r\n\twinW = window.innerWidth;\r\n\twinH = window.innerHeight;\r\n\r\n\twindow.addEventListener('winResized', getWinSizes);\r\n}());\r\n\r\n//add support CustomEvent constructor for IE\r\ntry {\r\n\tnew CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\r\n} catch (e) {\r\n\r\n\twindow.CustomEvent = function(event, params) {\r\n\t\tvar evt;\r\n\r\n\t\tparams = params || {\r\n\t\t\tbubbles: false,\r\n\t\t\tcancelable: false,\r\n\t\t\tdetail: undefined\r\n\t\t};\r\n\r\n\t\tevt = document.createEvent(\"CustomEvent\");\r\n\r\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\r\n\t\treturn evt;\r\n\t}\r\n\r\n\tCustomEvent.prototype = Object.create(window.Event.prototype);\r\n}\r\n\r\n//window Resized Event\r\nvar winResizedEvent = new CustomEvent('winResized');\r\nvar rsz = true;\r\n\r\nwindow.addEventListener('resize', function() {\r\n\r\n\tif (rsz) {\r\n\r\n\t\trsz = false;\r\n\t\tsetTimeout(function() {\r\n\t\t\twindow.dispatchEvent(winResizedEvent);\r\n\t\t\trsz = true;\r\n\t\t}, 1021);\r\n\r\n\t}\r\n\r\n});\r\n\r\n//closest polyfill\r\nif (!Element.prototype.closest) {\r\n\t(function(ElProto) {\r\n\t\tElProto.matches = ElProto.matches || ElProto.mozMatchesSelector || ElProto.msMatchesSelector || ElProto.oMatchesSelector || ElProto.webkitMatchesSelector;\r\n\t\tElProto.closest = ElProto.closest || function closest(selector) {\r\n\t\t\tif (!this) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (this.matches(selector)) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tif (!this.parentElement) {\r\n\t\t\t\treturn null;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.parentElement.closest(selector);\r\n\t\t\t}\r\n\t\t};\r\n\t}(Element.prototype));\r\n}\r\n\r\n//check element for hidden\r\nelementIsHidden = function(elem) {\r\n\r\n\tif (!elem) {\r\n\t\treturn;\r\n\t}\r\n\r\n\twhile (elem) {\r\n\r\n\t\tif (!elem) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tvar compStyles = getComputedStyle(elem);\r\n\r\n\t\tif (compStyles.display == 'none' || compStyles.visibility == 'hidden' || compStyles.opacity == '0') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\telem = elem.parentElement;\r\n\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\n}());","$(document).ready(function() {\r\n\r\n\t$('body').on('click', '.accord__button', function() {\r\n\t\tvar _$ = $(this),\r\n\t\tContent = _$.closest('.accord__item').find('.accord__content');\r\n\r\n\t\tif (!_$.hasClass('accord__button_active')) {\r\n\t\t\t_$.closest('.accord').find('.accord__content').slideUp(321);\r\n\t\t\t_$.closest('.accord').find('.accord__button').removeClass('accord__button_active');\r\n\t\t\tContent.slideDown(321, function() {\r\n\t\t\t\t$('body,html').animate({scrollTop: (_$.offset().top - $('.header').innerHeight())}, 900, 'easeOutExpo');\r\n\t\t\t});\r\n\t\t\t_$.addClass('accord__button_active');\r\n\t\t} else {\r\n\t\t\tContent.slideUp(321);\r\n\t\t\t_$.removeClass('accord__button_active');\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t});\r\n});","var Ajax = {\r\n\ttake: function(url,data,id,fun) {\r\n\t\tvar _ = this;\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: url,\r\n\t\t\ttype:\"POST\",\r\n\t\t\tdataType:\"html\",\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: function(response){\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\t_.put(response, id);\r\n\t\t\t\t\tsetTimeout(fun, 721);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror: function() {\r\n\t\t\t\talert('Send Error');\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tput: function(resp,id) {\r\n\t\tvar Block = $(id);\r\n\t\tif (Block.hasClass('popup__window')) {\r\n\t\t\tBlock.find('.popup__inner').html(resp);\r\n\t\t\tPopup.show(id);\r\n\t\t} else {\r\n\t\t\tBlock.append(resp);\r\n\t\t\tcoverImg();\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\n$(document).ready(function() {\r\n\r\n\t$('body').on('click', '.js-ajax', function () {\r\n\t\tvar _$ = $(this);\r\n\r\n\t\tif (!_$.hasClass('lock')) {\r\n\t\t\t_$.addClass('lock');\r\n\r\n\t\t\tvar id = _$.attr('href') || '#'+ _$.attr('data-id'),\r\n\t\t\turl = _$.attr('data-url'),\r\n\t\t\tdata = _$.attr('data-data');\r\n\r\n\t\t\tif (_$.attr('data-page')) {\r\n\t\t\t\tvar page = +_$.attr('data-page');\r\n\r\n\t\t\t\tdata += '&page='+ page;\r\n\r\n\t\t\t\tAjax.take(url, data, id, function() {\r\n\t\t\t\t\tpage++;\r\n\t\t\t\t\t_$.attr('data-page', page).removeClass('lock');\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\t\t\t\tAjax.take(url, data, id, function() {\r\n\t\t\t\t\t_$.removeClass('lock');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t});\r\n\r\n\tif ($('.js-ajax-scroll').length && $(window).width() > 1000) {\r\n\t\tvar winH = $(window).height(),\r\n\t\ti = 0;\r\n\r\n\t\t$(window).scroll(function() {\r\n\t\t\tvar winScrTop = $(window).scrollTop(),\r\n\t\t\tPoint = $('.js-ajax-scroll');\r\n\r\n\t\t\tif (Point.offset().top < winH && !Point.hasClass('lock')) {\r\n\t\t\t\tPoint.addClass('lock');\r\n\r\n\t\t\t\tvar id = '#'+ Point.attr('data-id'),\r\n\t\t\t\turl = Point.attr('data-url'),\r\n\t\t\t\tdata = Point.attr('data-data'),\r\n\t\t\t\tpage = +Point.attr('data-page');\r\n\r\n\t\t\t\tdata += '&page='+ page;\r\n\r\n\t\t\t\tAjax.take(url, data, id, function() {\r\n\t\t\t\t\tpage++;\r\n\t\t\t\t\tPoint.attr('data-page', page).removeClass('lock');\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\t\r\n\r\n});","$(document).ready(function() {\r\n\r\n\t$('body').on('click', '.js-anchor', function () {\r\n\t\tvar href = $(this).attr('href'),\r\n\t\tanch = '#'+ href.split('#')[1];\r\n\r\n\t\tif($(anch).length){\r\n\t\t\tvar scrTo = ($(anch).attr('data-anchor-offset')) ? $(anch).offset().top : ($(anch).offset().top - $('.header').innerHeight() - 35);\r\n\r\n\t\t\t$('html, body').stop().animate({scrollTop: scrTo}, 1021, 'easeInOutQuart');\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tif (window.location.hash) {\r\n\r\n\t\tvar anch = window.location.hash;\r\n\r\n\t\tif($(anch).length && !$(anch).hasClass('popup__window')){\r\n\r\n\t\t\t$('html, body').stop().animate({scrollTop: 0}, 1);\r\n\r\n\t\t\twindow.onload = function() {\r\n\t\t\t\tvar scrTo = ($(anch).attr('data-anchor-offset')) ? $(anch).offset().top : ($(anch).offset().top - $('.header').innerHeight() - 35);\r\n\r\n\t\t\t\t$('html, body').stop().animate({scrollTop: scrTo}, 1021, 'easeInOutQuart');\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n});","$(document).ready(function() {\r\n\r\n\t/*Toggle*/\r\n\t$('body').on('click', '.js-toggle', function() {\r\n\t\tvar _$ = $(this),\r\n\t\ttargetElements = _$.attr('data-target-elements'),\r\n\t\tinitClickOnElements = _$.attr('data-init-click-on-elements');\r\n\r\n\t\tif (initClickOnElements) {\r\n\t\t\t$(initClickOnElements).not(this).click();\r\n\t\t}\r\n\r\n\t\tfunction openMenu(st) {\r\n\t\t\tif (st) {\r\n\t\t\t\tvar pos = $(window).scrollTop();\r\n\t\t\t\t$('body').css('top', -pos).attr('data-position', pos).addClass('is-menu-opened');\r\n\t\t\t} else {\r\n\t\t\t\t$('body').removeClass('is-menu-opened').removeAttr('style');\r\n\t\t\t\t$('html,body').scrollTop($('body').attr('data-position'));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction actElements(st) {\r\n\t\t\tif (targetElements) {\r\n\r\n\t\t\t\tvar $elem = $(targetElements),\r\n\t\t\t\trole = _$.attr('data-role');\r\n\r\n\t\t\t\tif (st) {\r\n\t\t\t\t\t$elem.addClass('toggled');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$elem.removeClass('toggled');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (role && role == 'menu') {\r\n\t\t\t\t\topenMenu(st);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (!_$.hasClass('toggled')) {\r\n\t\t\tactElements(1);\r\n\t\t\t_$.addClass('toggled');\r\n\t\t\tvar secTxt = _$.attr('data-second-button-text');\r\n\t\t\tif (secTxt) {\r\n\t\t\t\tif (!_$.attr('data-first-button-text')) {\r\n\t\t\t\t\t_$.attr('data-first-button-text', _$.html());\r\n\t\t\t\t}\r\n\t\t\t\t_$.html(secTxt);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tactElements(0);\r\n\t\t\t_$.removeClass('toggled');\r\n\t\t\tvar fstTxt = _$.attr('data-first-button-text');\r\n\t\t\tif (fstTxt) {\r\n\t\t\t\t_$.html(fstTxt);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\treturn false;\r\n\t});\r\n\r\n});","var CustomPlaceholder, CustomSelect;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//bind labels\r\n\tfunction BindLabels(elementsStr) {\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\tvar elem = elements[i],\r\n\t\t\tlabel = elem.parentElement.querySelector('label'),\r\n\t\t\tforID = (elem.hasAttribute('id')) ? elem.id : 'keylabel-'+ i;\r\n\r\n\t\t\tif (!label.hasAttribute('for')) {\r\n\t\t\t\tlabel.htmlFor = forID;\r\n\t\t\t\telem.id = forID;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//show element on checkbox change\r\n\tvar ChangeCheckbox = {\r\n\r\n\t\tchange: function(elem) {\r\n\r\n\t\t\tvar targetElements = (elem.hasAttribute('data-target-elements')) ? document.querySelectorAll(elem.getAttribute('data-target-elements')) : {};\r\n\r\n\t\t\tif (!targetElements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\ttargetElements[i].style.display = (elem.checked) ? 'block' : 'none';\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('change', function(e) {\r\n\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.change(elem);\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//show element on radio button change\r\n\tvar ChangeRadio = {\r\n\r\n\t\tchange: function(checkedElem) {\r\n\r\n\t\t\tvar elements = document.querySelectorAll('input[type=\"radio\"][name=\"'+ checkedElem.name +'\"]');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\ttargetElements = (elem.hasAttribute('data-target-elements')) ? document.querySelectorAll(elem.getAttribute('data-target-elements')) : {};\r\n\r\n\t\t\t\tif (!targetElements.length) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var j = 0; j < targetElements.length; j++) {\r\n\t\t\t\t\ttargetElements[j].style.display = (elem.checked) ? 'block' : 'none';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('change', function(e) {\r\n\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"radio\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.change(elem);\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//form custom placeholder\r\n\tCustomPlaceholder = {\r\n\r\n\t\tinit: function(elementsStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.placeholder) {\r\n\r\n\t\t\t\t\tvar elemFor = (elem.id) ? elem.id : 'placeholder-index-'+ i,\r\n\t\t\t\t\tlabel = document.createElement('label');\r\n\r\n\t\t\t\t\tlabel.htmlFor = elemFor;\r\n\t\t\t\t\tlabel.className = 'custom-placeholder';\r\n\t\t\t\t\tlabel.innerHTML = elem.placeholder;\r\n\r\n\t\t\t\t\telem.parentElement.insertBefore(label, elem);\r\n\r\n\t\t\t\t\telem.removeAttribute('placeholder');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!elem.id) {\r\n\t\t\t\t\t\telem.id = elemFor;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\t\t\t\t\tthis.hidePlaceholder(elem, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//events\r\n\t\t\tdocument.addEventListener('focus', function(e) {\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hidePlaceholder(elem, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this), true);\r\n\r\n\r\n\t\t\tdocument.addEventListener('blur', function(e) {\r\n\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hidePlaceholder(elem, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this), true);\r\n\r\n\t\t},\r\n\t\t\r\n\t\thidePlaceholder: function(elem, hide) {\r\n\r\n\t\t\tvar label = document.querySelector('label[for=\"'+ elem.id +'\"]');\r\n\r\n\t\t\tif (!label) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar lSt = label.style;\r\n\r\n\t\t\tif (hide) {\r\n\r\n\t\t\t\tlSt.textIndent = '-9999px';\r\n\t\t\t\tlSt.paddingLeft = '0px';\r\n\t\t\t\tlSt.paddingRight = '0px';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (!elem.value.length) {\r\n\t\t\t\t\tlSt.textIndent = '';\r\n\t\t\t\t\tlSt.paddingLeft = '';\r\n\t\t\t\t\tlSt.paddingRight = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//Form CustomSelect\r\n\tCustomSelect = {\r\n\r\n\t\tfield: null,\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar fields = document.querySelectorAll('.custom-select');\r\n\r\n\t\t\tfor (var i = 0; i < fields.length; i++) {\r\n\t\t\t\tfields[i].classList.remove('custom-select_opened');\r\n\t\t\t}\r\n\r\n\t\t\tvar listItems = document.querySelectorAll('.custom-select__options li');\r\n\r\n\t\t\tfor (var i = 0; i < listItems.length; i++) {\r\n\t\t\t\tlistItems[i].classList.remove('hover');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\topen: function() {\r\n\r\n\t\t\tthis.field.classList.add('custom-select_opened');\r\n\r\n\t\t\tthis.field.querySelector('.custom-select__options').scrollTop = 0;\r\n\r\n\t\t},\r\n\r\n\t\tselectMultipleVal: function(elem, button, input) {\r\n\t\t\tvar toButtonValue = [],\r\n\t\t\ttoInputValue = [],\r\n\t\t\tinputsBlock = this.field.querySelector('.custom-select__multiple-inputs');\r\n\r\n\t\t\telem.classList.toggle('custom-select__val_checked');\r\n\r\n\t\t\tvar checkedElements = this.field.querySelectorAll('.custom-select__val_checked');\r\n\r\n\t\t\tfor (var i = 0; i < checkedElements.length; i++) {\r\n\t\t\t\tvar elem = checkedElements[i];\r\n\r\n\t\t\t\ttoButtonValue[i] = elem.innerHTML;\r\n\t\t\t\ttoInputValue[i] = (elem.hasAttribute('data-value')) ? elem.getAttribute('data-value') : elem.innerHTML;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (toButtonValue.length) {\r\n\t\t\t\tbutton.innerHTML = toButtonValue.join(', ');\r\n\r\n\t\t\t\tinput.value = toInputValue[0];\r\n\r\n\t\t\t\tinputsBlock.innerHTML = '';\r\n\r\n\t\t\t\tif (toInputValue.length > 1) {\r\n\r\n\t\t\t\t\tfor (var i = 1; i < toInputValue.length; i++) {\r\n\t\t\t\t\t\tvar yetInput = document.createElement('input');\r\n\r\n\t\t\t\t\t\tyetInput.type = 'hidden';\r\n\t\t\t\t\t\tyetInput.name = input.name;\r\n\t\t\t\t\t\tyetInput.value = toInputValue[i];\r\n\r\n\t\t\t\t\t\tinputsBlock.appendChild(yetInput);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tbutton.innerHTML = button.getAttribute('data-placeholder');\r\n\t\t\t\tinput.value = '';\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\ttargetAction: function() {\r\n\t\t\tvar elements = this.field.querySelectorAll('.custom-select__val');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.hasAttribute('data-target-elements')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar targetElem = document.querySelector(elem.getAttribute('data-target-elements'));\r\n\t\t\t\ttargetElem.style.display = (elem.classList.contains('custom-select__val_checked')) ? 'block' : 'none';\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tselectVal: function(elem) {\r\n\t\t\tvar button = this.field.querySelector('.custom-select__button'),\r\n\t\t\tinput = this.field.querySelector('.custom-select__input');\r\n\r\n\t\t\tif (this.field.classList.contains('custom-select_multiple')) {\r\n\t\t\t\t\r\n\t\t\t\tthis.selectMultipleVal(elem, button, input);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tvar toButtonValue = elem.innerHTML,\r\n\t\t\t\ttoInputValue = (elem.hasAttribute('data-value')) ? elem.getAttribute('data-value') : elem.innerHTML;\r\n\r\n\t\t\t\tvar lalueElements = this.field.querySelectorAll('.custom-select__val');\r\n\r\n\t\t\t\tfor (var i = 0; i < lalueElements.length; i++) {\r\n\t\t\t\t\tlalueElements[i].classList.remove('custom-select__val_checked');\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.add('custom-select__val_checked');\r\n\r\n\t\t\t\tif (button) {\r\n\t\t\t\t\tbutton.innerHTML = toButtonValue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinput.value = toInputValue;\r\n\t\t\t\t\r\n\t\t\t\tthis.close();\r\n\r\n\t\t\t\tCustomPlaceholder.hidePlaceholder(input, true);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.targetAction();\r\n\r\n\t\t\tif (input.classList.contains('var-height-textarea__textarea')) {\r\n\t\t\t\tvarHeightTextarea.setHeight(input);\r\n\t\t\t}\r\n\r\n\t\t\tthis.field.classList.add('custom-select_changed');\r\n\r\n\t\t\tValidateForm.select(input);\r\n\r\n\t\t},\r\n\r\n\t\tautocomplete: function(elem) {\r\n\t\t\tvar match = false,\r\n\t\t\treg = new RegExp(elem.value, 'gi'),\r\n\t\t\tvalueElements = this.field.querySelectorAll('.custom-select__val');\r\n\r\n\t\t\tfor (var i = 0; i < valueElements.length; i++) {\r\n\t\t\t\tvar valueElem = valueElements[i];\r\n\r\n\t\t\t\tif (!elem.value.length) {\r\n\t\t\t\t\tvalueElem.classList.remove('custom-select__val_checked');\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (valueElem.innerHTML.match(reg)) {\r\n\t\t\t\t\tvalueElem.parentElement.classList.remove('hidden');\r\n\t\t\t\t\tmatch = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalueElem.parentElement.classList.add('hidden');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (!match) {\r\n\t\t\t\tfor (var i = 0; i < valueElements.length; i++) {\r\n\t\t\t\t\tvalueElements[i].parentElement.classList.remove('hidden');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tsetOptions: function(fieldStr, optObj, val, name) {\r\n\t\t\tvar fields = document.querySelectorAll(fieldStr);\r\n\r\n\t\t\tfor (var i = 0; i < fields.length; i++) {\r\n\t\t\t\tvar options = fields[i].querySelector('.custom-select__options');\r\n\r\n\t\t\t\tfor (var i = 0; i < optObj.length; i++) {\r\n\t\t\t\t\tvar li = document.createElement('li');\r\n\r\n\t\t\t\t\tli.innerHTML = '<button type=\"button\" class=\"custom-select__val\" data-value=\"'+ optObj[i][val] +'\">'+ optObj[i][name] +'</button>';\r\n\r\n\t\t\t\t\toptions.appendChild(li);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tkeyboard: function(key) {\r\n\t\t\tvar options = this.field.querySelector('.custom-select__options'),\r\n\t\t\thoverItem = options.querySelector('li.hover');\r\n\r\n\t\t\tswitch (key) {\r\n\t\t\t\t\r\n\t\t\t\tcase 40:\r\n\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = function(item) {\r\n\r\n\t\t\t\t\t\tvar elem = item.nextElementSibling;\r\n\r\n\t\t\t\t\t\twhile (elem) {\r\n\r\n\t\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!elementIsHidden(elem)) {\r\n\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem = elem.nextElementSibling;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}(hoverItem);\r\n\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\r\n\t\t\t\t\t\toptions.scrollTop = options.scrollTop + (nextItem.getBoundingClientRect().top - options.getBoundingClientRect().top);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar elem = options.firstElementChild;\r\n\r\n\t\t\t\t\twhile (elem) {\r\n\r\n\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!elementIsHidden(elem)) {\r\n\t\t\t\t\t\t\telem.classList.add('hover');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem = elem.nextElementSibling;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 38:\r\n\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = function(item) {\r\n\r\n\t\t\t\t\t\tvar elem = item.previousElementSibling;\r\n\r\n\t\t\t\t\t\twhile (elem) {\r\n\r\n\t\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!elementIsHidden(elem)) {\r\n\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem = elem.previousElementSibling;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}(hoverItem);\r\n\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\r\n\t\t\t\t\t\toptions.scrollTop = options.scrollTop + (nextItem.getBoundingClientRect().top - options.getBoundingClientRect().top);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar elem = options.lastElementChild;\r\n\r\n\t\t\t\t\twhile (elem) {\r\n\r\n\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!elementIsHidden(elem)) {\r\n\t\t\t\t\t\t\telem.classList.add('hover');\r\n\t\t\t\t\t\t\toptions.scrollTop = 9999;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem = elem.previousElementSibling;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 13:\r\n\t\t\t\tthis.selectVal(hoverItem.querySelector('.custom-select__val'));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tfillAcHead: function() {\r\n\t\t\tvar elements = document.querySelectorAll('.custom-select__autocomplete');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\tcheckedValues = elem.closest('.custom-select').querySelectorAll('.custom-select__val_checked');\r\n\r\n\t\t\t\tif (!checkedValues) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\r\n\t\t\t\t\tfor (var j = 0; j < checkedValues.length; j++) {\r\n\t\t\t\t\t\tthis.selectVal(checkedValues[j]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tfor (var j = 0; j < checkedValues.length; j++) {\r\n\t\t\t\t\t\tcheckedValues[j].classList.remove('custom-select__val_checked');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tbuild: function(elementStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementStr);\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\toptions = elem.querySelectorAll('option'),\r\n\t\t\t\tparent = elem.parentElement,\r\n\t\t\t\toptionsList = '',\r\n\t\t\t\trequire = (elem.hasAttribute('data-required')) ? ' data-required=\"'+ elem.getAttribute('data-required') +'\" ' : '',\r\n\t\t\t\thead = (elem.getAttribute('data-type') == 'autocomplete') ? '<input type=\"text\" name=\"'+ elem.name +'\"'+ require +'placeholder=\"'+ elem.getAttribute('data-placeholder') +'\" class=\"custom-select__input custom-select__autocomplete form__text-input\" value=\"\">' : '<button type=\"button\" data-placeholder=\"'+ elem.getAttribute('data-placeholder') +'\" class=\"custom-select__button\">'+ elem.getAttribute('data-placeholder') +'</button>',\r\n\t\t\t\tmultiple = {\r\n\t\t\t\t\tclass: (elem.multiple) ? ' custom-select_multiple' : '',\r\n\t\t\t\t\tinpDiv: (elem.multiple) ? '<div class=\"custom-select__multiple-inputs\"></div>' : ''\r\n\t\t\t\t},\r\n\t\t\t\thiddenInp = (elem.getAttribute('data-type') != 'autocomplete') ? '<input type=\"hidden\" name=\"'+ elem.name +'\"'+ require +'class=\"custom-select__input\" value=\"\">' : '';\r\n\r\n\t\t\t\t//option list\r\n\t\t\t\tfor (var j = 0; j < options.length; j++) {\r\n\t\t\t\t\tvar opt = options[j];\r\n\r\n\t\t\t\t\toptionsList += '<li><button type=\"button\" class=\"custom-select__val\"'+ ( (opt.hasAttribute('value')) ? ' data-value=\"'+ opt.value +'\"' : '' ) + ( (opt.hasAttribute('data-target-elements')) ? ' data-target-elements=\"'+ opt.getAttribute('data-target-elements') +'\"' : '' ) +'>'+ opt.innerHTML +'</button></li>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//output select\r\n\t\t\t\tparent.innerHTML = '<div class=\"custom-select'+ multiple.class +'\">'+ head +'<ul class=\"custom-select__options\">'+ optionsList +'</ul>'+ hiddenInp + multiple.inpDiv +'</div>';\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\r\n\t\t\tthis.build(elementStr);\r\n\r\n\t\t\t//click on select button event\r\n\t\t\tdocument.addEventListener('click', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__button');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tif (this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.fillAcHead();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t\t//click on value button event\r\n\t\t\tdocument.addEventListener('click', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__val');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tthis.selectVal(elem);\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t\t//focus autocomplete\r\n\t\t\tdocument.addEventListener('focus', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__autocomplete');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tif (!this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\tthis.fillAcHead();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this), true);\r\n\r\n\t\t\t//input autocomplete\r\n\t\t\tdocument.addEventListener('input', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__autocomplete');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tthis.autocomplete(elem);\r\n\r\n\t\t\t\tif (!this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t\t//keyboard events\r\n\t\t\tdocument.addEventListener('keydown', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select_opened');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tvar key = e.which || e.keyCode || 0;\r\n\r\n\t\t\t\tif (key == 40 || key == 38 || key == 13) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.keyboard(key);\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t\t//close all\r\n\t\t\tdocument.addEventListener('click', function(e) {\r\n\t\t\t\tif (!e.target.closest('.custom-select_opened')) {\r\n\t\t\t\t\tthis.fillAcHead();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//custom file\r\n\tvar CustomFile = {\r\n\r\n\t\tfield: null,\r\n\r\n\t\tloadPreview: function(file, i) {\r\n\t\t\tvar imgPreviewBlock = this.field.querySelectorAll('.custom-file__preview')[i];\r\n\r\n\t\t\tif (file.type.match('image')) {\r\n\t\t\t\tvar reader = new FileReader();\r\n\r\n\t\t\t\treader.onload = function(e) {\r\n\t\t\t\t\timgPreviewBlock.innerHTML = '<img src=\"'+ e.target.result +'\" class=\"cover-img\">';\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tcoverImg('.custom-file__item');\r\n\t\t\t\t\t}, 721);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t} else {\r\n\t\t\t\timgPreviewBlock.innerHTML = '<img src=\"images/preview.svg\" class=\"full-width-img\">';\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tchangeInput: function(elem) {\r\n\r\n\t\t\tthis.field = elem.closest('.custom-file');\r\n\r\n\t\t\tvar self = this,\r\n\t\t\tfileItems = this.field.querySelector('.custom-file__items');\r\n\r\n\t\t\tfileItems.innerHTML = '';\r\n\r\n\t\t\tconsole.log(elem.files);\r\n\r\n\t\t\tfor (var i = 0; i < elem.files.length; i++) {\r\n\t\t\t\tvar file = elem.files[i],\r\n\t\t\t\tfileItem = document.createElement('div');\r\n\r\n\t\t\t\tfileItem.className = 'custom-file__item';\r\n\t\t\t\tfileItem.innerHTML = '<div class=\"custom-file__preview cover-img-wrap\"></div><div class=\"custom-file__name\">'+ file.name +'</div>';\r\n\r\n\t\t\t\tfileItems.appendChild(fileItem);\r\n\r\n\t\t\t\tself.loadPreview(file, i);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('change', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"file\"]');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.changeInput(elem);\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//variable height textarea\r\n\tvar varHeightTextarea = {\r\n\r\n\t\tsetHeight: function(elem) {\r\n\t\t\tvar mirror = elem.parentElement.querySelector('.var-height-textarea__mirror'),\r\n\t\t\tmirrorOutput = elem.value.replace(/\\n/g, '<br>');\r\n\r\n\t\t\tmirror.innerHTML = mirrorOutput +'&nbsp;';\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('input', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('.var-height-textarea__textarea');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setHeight(elem);\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//init scripts\r\n\tdocument.addEventListener(\"DOMContentLoaded\", function() {\r\n\t\tCustomSelect.init('select');\r\n\t\tCustomFile.init();\r\n\t\tvarHeightTextarea.init();\r\n\t\tCustomPlaceholder.init('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\tBindLabels('input[type=\"checkbox\"], input[type=\"radio\"]');\r\n\t\tChangeCheckbox.init();\r\n\t\tChangeRadio.init();\r\n\t});\r\n\r\n}());","function Diagram(id,values,set) {\r\n\r\n\tvar _ = this;\r\n\r\n\t_.maxVal = 0;\r\n\t_.context = null;\r\n\t_.startingAngle = 1.5*Math.PI;\r\n\t_.centerX = 80;\r\n\t_.centerY = 80;\r\n\r\n\t_.set = set || {};\r\n\r\n\t_.init = function(id,values) {\r\n\r\n\t\tvar canvas = document.getElementById(id);\r\n\r\n\t\tif (canvas && values) {\r\n\t\t\t_.context = canvas.getContext('2d');\r\n\r\n\t\t\tif (_.set.type) {\r\n\t\t\t\t_.centerX = 70;\r\n\t\t\t\t_.centerY = 70;\r\n\r\n\t\t\t\tif (_.set.type == 'percent') {\r\n\t\t\t\t\t_.maxVal = 100;\r\n\t\t\t\t\tvar val = Math.round(values[1]/(values[0]/100));\r\n\t\t\t\t\t_.draw(val, _.set.color, true, _.set.pid);\r\n\t\t\t\t} \r\n\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < values.length; i++) {\r\n\t\t\t\t\t_.maxVal += values[i];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_.set.animate) {\r\n\t\t\t\t\t_.animate(values);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var i = 0; i < values.length; i++) {\r\n\t\t\t\t\t\t_.draw(values[i],i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_.draw = function(val,i,once,pid) {\r\n\r\n\t\tvar endingAngle = _.calcPath(val),\r\n\t\tstyle = _.pathStyle(i);\r\n\r\n\t\tif (once) {\r\n\t\t\tstyle.r = 63;\r\n\t\t}\r\n\r\n\t\tif (pid) {\r\n\t\t\t$('#'+ pid).html(val);\r\n\t\t}\r\n\r\n\t\t\r\n\t\t_.context.beginPath();\r\n\t\t_.context.arc(_.centerX, _.centerY, style.r, _.startingAngle, endingAngle);\r\n\t\t_.context.lineWidth = 11;\r\n\t\t_.context.strokeStyle = style.c;\r\n\t\t_.context.stroke();\r\n\r\n\t}\r\n\r\n\t_.calcPath = function(val) {\r\n\t\tvar pi2 = 2*Math.PI;\r\n\t\treturn (pi2*val/_.maxVal+_.startingAngle);\r\n\t}\r\n\r\n\t_.pathStyle = function(i) {\r\n\t\tvar style = {};\r\n\t\tswitch (i) {\r\n\t\t\tcase 0:\r\n\t\t\tstyle = {r: 69, c: '#fd8d40'}\r\n\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\tstyle = {r: 57, c: '#d0295e'}\r\n\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\tstyle = {r: 45, c: '#78c574'}\r\n\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\tstyle = {r: 33, c: '#5195cb'}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn style;\r\n\t}\r\n\r\n\t_.animate = function(values) {\r\n\r\n\t\t\r\n\t\tvar newVal = new Array(values.length);\r\n\t\t\r\n\t\tfor (var i = 0; i < newVal.length; i++) {\r\n\t\t\tnewVal[i] = 0;\r\n\t\t}\r\n\r\n\t\tsetTimeout(function anim(st) {\r\n\r\n\t\t\t_.context.clearRect(0,0,(_.centerX*2),(_.centerY*2));\r\n\r\n\t\t\tvar c = 0;\r\n\t\t\tfor (var i = 0; i < values.length; i++) {\r\n\t\t\t\tif (newVal[i] < values[i]) {\r\n\t\t\t\t\tnewVal[i] = newVal[i] + 2;\r\n\t\t\t\t\tc++;\r\n\t\t\t\t}\r\n\t\t\t\t_.draw(newVal[i],i);\r\n\t\t\t\t$('#'+ _.set.numId + i).html(newVal[i]);\r\n\t\t\t}\r\n\r\n\t\t\tif (c) {\r\n\t\t\t\tsetTimeout(anim, 1);\r\n\t\t\t} else {\r\n\t\t\t\t_.context.clearRect(0,0,(_.centerX*2),(_.centerY*2));\r\n\t\t\t\tfor (var i = 0; i < values.length; i++) {\r\n\t\t\t\t\t_.draw(values[i],i);\r\n\t\t\t\t\t$('#'+ _.set.numId + i).html(values[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}, 1);\r\n\r\n\t}\r\n\r\n\t_.init(id,values,set);\r\n\t\r\n}\r\n\r\nvar diagramObject = [];\r\nfunction diagram(id,values,set) {\r\n\tif (!(diagramObject[id] instanceof Diagram)) {\r\n\t\tdiagramObject[id] = new Diagram(id,values,set);\r\n\t}\r\n}","var FlSlider = {\r\n\r\n\tanimation: false,\r\n\tcount: 0,\r\n\tisLine: false,\r\n\tt: null,\r\n\r\n\tinit: function() {\r\n\t\tvar _ = this;\r\n\r\n\t\t_.count = $('.float-slider__float-item').length;\r\n\r\n\t\t$('.float-slider__float-item').first().addClass('float-slider__float-item_curr');\r\n\t\t$('.float-slider__fade-item').first().addClass('float-slider__fade-item_curr');\r\n\r\n\r\n\t\tif (_.count > 1) {\r\n\r\n\t\t\t$('.float-slider__float-item').last().addClass('float-slider__float-item_prev');\r\n\r\n\t\t\t$('.float-slider__float-item').first().next('.float-slider__float-item').removeClass('float-slider__float-item_prev').addClass('float-slider__float-item_next');\r\n\r\n\t\t\tvar dots = '';\r\n\t\t\tfor (var i = 0; i < _.count; i++) {\r\n\t\t\t\tdots += '<li'+ ((i == 0) ? ' class=\"float-slider__dots-active\"' : '') +'><button type=\"button\" data-index=\"'+ i +'\"></button></li>';\r\n\t\t\t}\r\n\r\n\t\t\t$('.float-slider__float').append('<ul class=\"float-slider__dots\">'+ dots +'</ul>');\r\n\r\n\t\t\tif ($('.float-slider').attr('data-line')) {\r\n\t\t\t\t_.isLine = true;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t$('.float-slider__arrow').remove();\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tdots: function(ind) {\r\n\t\tvar _ = this;\r\n\t\tfunction dotC() {\r\n\t\t\tif (!$('.float-slider__float-item[data-index=\"'+ ind +'\"]').hasClass('float-slider__float-item_curr')) {\r\n\r\n\t\t\t\tif (_.count == 2 && ind === 0) {\r\n\t\t\t\t\t_.change('prev');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_.change('next');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetTimeout(dotC, 1121);\r\n\t\t\t}\r\n\t\t}\r\n\t\tdotC();\r\n\t},\r\n\r\n\tactiveDot: function() {\r\n\t\tvar _ = this;\r\n\t\tvar ind = $('.float-slider__float-item_curr').attr('data-index');\r\n\t\t$('.float-slider__dots li').removeClass('float-slider__dots-active');\r\n\t\t$('.float-slider__dots').find('button[data-index=\"'+ ind +'\"]').parent().addClass('float-slider__dots-active');\r\n\t\t$('.float-slider-control__btn').removeClass('float-slider-control__btn_active');\r\n\t\t$('#float-sl-cont-'+ ind).addClass('float-slider-control__btn_active');\r\n\t\tif (_.isLine) {\r\n\t\t\tclearTimeout(_.t);\r\n\t\t\t_.line();\r\n\t\t}\r\n\t},\r\n\r\n\tline: function() {\r\n\t\tvar _ = this;\r\n\t\t$('.float-slider-control__line span').removeClass('crawl');\r\n\t\t$('.float-slider-control__btn_active .float-slider-control__line span').addClass('crawl');\r\n\t\t_.t = setTimeout(function() {\r\n\t\t\t_.change('next');\r\n\t\t}, 5000);\r\n\t},\r\n\r\n\tchange: function(dir) {\r\n\r\n\t\tvar _ = this,\r\n\t\tCurr = $('.float-slider__float-item_curr'),\r\n\t\tNext = $('.float-slider__float-item_next'),\r\n\t\tPrev = $('.float-slider__float-item_prev'),\r\n\t\tToNext,\r\n\t\tToPrev;\r\n\r\n\t\tif (_.count > 3) {\r\n\t\t\tToNext = (Next.next('.float-slider__float-item').length) ? Next.next('.float-slider__float-item') : $('.float-slider__float-item').first();\r\n\t\t\tToPrev = (Prev.prev('.float-slider__float-item').length) ? Prev.prev('.float-slider__float-item') : $('.float-slider__float-item').last();\r\n\t\t}\r\n\r\n\t\tif (_.count == 2) {\r\n\t\t\tif (Next.attr('data-index') === '1') {\r\n\t\t\t\tif (dir == 'prev') {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else if (Prev.attr('data-index') === '0') {\r\n\t\t\t\tif (dir == 'next') {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (_.count == 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif (!_.animation) {\r\n\r\n\t\t\tif (dir == 'next') {\r\n\t\t\t\t_.animation = true;\r\n\r\n\t\t\t\tNext.addClass('next-to-curr');\r\n\t\t\t\tCurr.addClass('curr-to-prev');\r\n\r\n\t\t\t\tif (_.count > 3) {\r\n\t\t\t\t\tToNext.addClass('to-next');\r\n\t\t\t\t\tPrev.addClass('from-prev');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tPrev.addClass('prev-to-next');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('.float-slider__fade-item').removeClass('float-slider__fade-item_curr');\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t$('.float-slider__fade-item[data-index=\"'+ Next.attr('data-index') +'\"]').addClass('float-slider__fade-item_curr');\r\n\r\n\t\t\t\t\tif (_.count > 3) {\r\n\t\t\t\t\t\tToNext.addClass('float-slider__float-item_next').removeClass('to-next');\r\n\t\t\t\t\t\tPrev.removeClass('float-slider__float-item_prev from-prev');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tPrev.addClass('float-slider__float-item_next').removeClass('float-slider__float-item_prev prev-to-next');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tCurr.addClass('float-slider__float-item_prev').removeClass('float-slider__float-item_curr curr-to-prev');\r\n\r\n\t\t\t\t\tNext.addClass('float-slider__float-item_curr').removeClass('float-slider__float-item_next next-to-curr');\r\n\r\n\t\t\t\t\t_.animation = false;\r\n\t\t\t\t\t_.activeDot();\r\n\r\n\t\t\t\t}, 1021);\r\n\t\t\t\t\r\n\t\t\t} else if (dir == 'prev') {\r\n\t\t\t\t_.animation = true;\r\n\r\n\t\t\t\tPrev.addClass('prev-to-curr');\r\n\t\t\t\tCurr.addClass('curr-to-next');\r\n\t\t\t\t\r\n\r\n\t\t\t\tif (_.count > 3) {\r\n\t\t\t\t\tToPrev.addClass('to-prev');\r\n\t\t\t\t\tNext.addClass('from-next');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tNext.addClass('next-to-prev');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('.float-slider__fade-item').removeClass('float-slider__fade-item_curr');\r\n\t\t\t\t\r\n\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t$('.float-slider__fade-item[data-index=\"'+ Prev.attr('data-index') +'\"]').addClass('float-slider__fade-item_curr');\r\n\r\n\t\t\t\t\tPrev.addClass('float-slider__float-item_curr').removeClass('float-slider__float-item_prev prev-to-curr');\r\n\r\n\t\t\t\t\tCurr.addClass('float-slider__float-item_next').removeClass('float-slider__float-item_curr curr-to-next');\r\n\r\n\t\t\t\t\tif (_.count > 3) {\r\n\t\t\t\t\t\tToPrev.addClass('float-slider__float-item_prev').removeClass('to-prev');\r\n\t\t\t\t\t\tNext.removeClass('float-slider__float-item_next from-next');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tNext.addClass('float-slider__float-item_prev').removeClass('float-slider__float-item_next next-to-prev');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_.animation = false;\r\n\t\t\t\t\t_.activeDot();\r\n\r\n\t\t\t\t}, 1021);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n};\r\n\r\n\r\n$('document').ready(function() {\r\n\r\n\tFlSlider.init();\r\n\r\n\tif ($('.float-slider-control').length) {\r\n\t\tvar s = true;\r\n\t\t$(window).scroll(function() {\r\n\t\t\tif ( $('.float-slider-control').offset().top < (($(window).height()/2)+$(window).scrollTop()) ) {\r\n\t\t\t\tif (s) {\r\n\t\t\t\t\ts = false;\r\n\t\t\t\t\tFlSlider.line();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t$('body').on('click', '.float-slider-control__btn-btn', function() {\r\n\t\tif (!$(this).parent().hasClass('float-slider-control__btn_active')) {\r\n\t\t\tvar ind = +$(this).attr('data-index');\r\n\t\t\tFlSlider.dots(ind);\r\n\t\t}\r\n\t});\r\n\r\n\t$('body').on('click', '.float-slider__dots button', function() {\r\n\t\tif (!$(this).parent().hasClass('float-slider__dots-active')) {\r\n\t\t\tvar ind = +$(this).attr('data-index');\r\n\t\t\tFlSlider.dots(ind);\r\n\t\t}\r\n\t});\r\n\r\n\t$('body').on('click', '.float-slider__arrow', function() {\r\n\t\tvar dir = $(this).attr('data-direct');\r\n\t\tFlSlider.change(dir);\r\n\t});\r\n\r\n\tif (winW < 1200) {\r\n\t\t$('.float-slider').swipe({\r\n\t\t\tswipe: function(event, direction) {\r\n\t\t\t\tif (direction == 'right') {\r\n\t\t\t\t\tFlSlider.change('prev');\r\n\t\t\t\t} else if(direction == 'left') {\r\n\t\t\t\t\tFlSlider.change('next');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttriggerOnTouchEnd: false,\r\n\t\t\texcludedElements: '',\r\n\t\t\tthreshold: 21,\r\n\t\t});\r\n\t}\r\n\r\n});","var Form;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//next fieldset\r\n\tvar NextFieldset = {\r\n\r\n\t\tnext: function(elem) {\r\n\t\t\tvar nextFieldset = (elem.hasAttribute('data-next-fieldset-item')) ? document.querySelector(elem.getAttribute('data-next-fieldset-item')) : false;\r\n\r\n\t\t\tif (!nextFieldset) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar currentFieldset = elem.closest('.fieldset__item');\r\n\r\n\t\t\tif (ValidateForm.validate(currentFieldset)) {\r\n\t\t\t\tcurrentFieldset.classList.add('fieldset__item_hidden');\r\n\t\t\t\tnextFieldset.classList.remove('fieldset__item_hidden');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(form, elemStr) {\r\n\r\n\t\t\tform.addEventListener('click', function(e) {\r\n\r\n\t\t\t\tvar elem = e.target.closest(elemStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.next(elem);\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//init forms\r\n\tForm = function(formSelector) {\r\n\r\n\t\tthis.onSubmit = null;\r\n\r\n\t\tvar form = document.querySelector(formSelector);\r\n\r\n\t\tif (!form) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//clear form\r\n\t\tfunction clear() {\r\n\t\t\t//clear inputs\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\telem.value = '';\r\n\t\t\t\tCustomPlaceholder.hidePlaceholder(elem, false);\r\n\t\t\t}\r\n\r\n\t\t\tvar textareaMirrors = form.querySelectorAll('.form__textarea-mirror');\r\n\r\n\t\t\tfor (var i = 0; i < textareaMirrors.length; i++) {\r\n\t\t\t\ttextareaMirrors[i].innerHTML = '';\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//submit button\r\n\t\tfunction actSubmitBtn(st) {\r\n\t\t\tvar elements = form.querySelectorAll('button[type=\"submit\"], input[type=\"submit\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elementIsHidden(elem)) {\r\n\t\t\t\t\tif (st) {\r\n\t\t\t\t\t\telem.removeAttribute('disabled');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\telem.setAttribute('disabled', 'disable');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//submit\r\n\t\tfunction submit(e) {\r\n\r\n\t\t\tif (ValidateForm.submit(form)) {\r\n\r\n\t\t\t\tactSubmitBtn(false);\r\n\r\n\t\t\t\tform.classList.add('form_sending');\r\n\r\n\t\t\t\tif (this.onSubmit) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.onSubmit(form, function(obj) {\r\n\t\t\t\t\t\tobj = obj || {};\r\n\r\n\t\t\t\t\t\tactSubmitBtn(obj.unlockSubmitButton);\r\n\r\n\t\t\t\t\t\tform.classList.remove('form_sending');\r\n\r\n\t\t\t\t\t\tif (obj.clearForm == true) {\r\n\t\t\t\t\t\t\tclear();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tform.classList.remove('form_error');\r\n\r\n\t\t\t} else {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tform.classList.add('form_error');\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//add submit event\r\n\t\tform.addEventListener('submit', submit.bind(this));\r\n\r\n\t\tValidateForm.init(form);\r\n\r\n\t\tNextFieldset.init(form, '.form__button');\r\n\r\n\t}\r\n\t\r\n\r\n}());","var FsScroll = {\r\n\twinH: null,\r\n\tscrolling: false,\r\n\tfactor: 0,\r\n\tscrChangedEv: null,\r\n\tbeforeScrChangeEv: null,\r\n\r\n\tinit: function() {\r\n\t\tvar _ = this;\r\n\t\t_.winH =  winH;\r\n\r\n\t\t$('.fsscroll__screen').removeClass('fsscroll__screen_scroll').css('height', 'auto');\r\n\r\n\t\t$('.fsscroll__screen').each(function() {\r\n\t\t\tvar _item = $(this),\r\n\t\t\titemH = _item.innerHeight();\r\n\t\t\tif (itemH <= _.winH) {\r\n\t\t\t\t_item.css('height', _.winH);\r\n\t\t\t} else {\r\n\t\t\t\t_item.addClass('fsscroll__screen_scroll');\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t$('.fsscroll__screen').first().addClass('fsscroll__screen_first fsscroll__screen_current');\r\n\t\t$('.fsscroll__screen').last().addClass('fsscroll__screen_last');\r\n\r\n\t\tsetTimeout(function() {\r\n\t\t\t_.current();\r\n\t\t}, 21);\r\n\r\n\t\t$(window).scroll(function() {\r\n\t\t\tif (!_.scrolling) {\r\n\t\t\t\t_.current();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t_.scrChangedEv = new CustomEvent('scrChanged');\r\n\t\t_.beforeScrChangeEv = new CustomEvent('beforeScrChange');\r\n\r\n\t},\r\n\r\n\tcurrent: function() {\r\n\t\tvar _ = this,\r\n\t\tmidWinScrollTop = $(window).scrollTop() + _.winH / 2;\r\n\r\n\t\t$('.fsscroll__screen').removeClass('fsscroll__screen_current');\r\n\r\n\t\t$('.fsscroll__screen').each(function() {\r\n\t\t\tvar $item = $(this),\r\n\t\t\titemOfsTop = $item.offset().top,\r\n\t\t\titemH = $item.innerHeight();\r\n\r\n\t\t\tif (itemOfsTop <= midWinScrollTop && (itemOfsTop + itemH) >= midWinScrollTop) {\r\n\t\t\t\t$item.addClass('fsscroll__screen_current');\r\n\t\t\t\twindow.dispatchEvent(_.scrChangedEv);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t},\r\n\t\r\n\tmove: function(moveTo, scroll) {\r\n\t\tvar _ = this,\r\n\t\tduration = 1500,\r\n\t\teasing = 'easeInOutCubic';\r\n\r\n\t\t_.scrolling = true;\r\n\r\n\t\tif (scroll) {\r\n\t\t\tduration = 900;\r\n\t\t\teasing = 'easeInOutCubic';\r\n\t\t}\r\n\r\n\t\twindow.dispatchEvent(_.beforeScrChangeEv);\r\n\r\n\t\t$('body, html').stop().animate({scrollTop: moveTo}, duration, easing, function() {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_.current();\r\n\t\t\t\t_.scrolling = false;\r\n\t\t\t\t_.factor = 0;\r\n\t\t\t}, 21);\r\n\t\t});\r\n\t},\r\n\r\n\tmouseScroll: function(delta, factor, fun) {\r\n\t\tvar _ = this,\r\n\t\t$curScr = $('.fsscroll__screen_current'),\r\n\t\twinScrollTop = $(window).scrollTop(),\r\n\t\twinScrollBottom = winScrollTop + _.winH,\r\n\t\t$nextScr;\r\n\r\n\t\tif (delta < 0) {\r\n\t\t\t$nextScr = $curScr.next('.fsscroll__screen');\r\n\r\n\t\t\tif ($curScr.length && !$curScr.hasClass('fsscroll__screen_scroll') && !$curScr.hasClass('fsscroll__screen_last')) {\r\n\t\t\t\tif (!_.scrolling) {\r\n\t\t\t\t\tif ((winScrollTop + 21) < $curScr.offset().top) {\r\n\t\t\t\t\t\t_.move($curScr.offset().top);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_.move($nextScr.offset().top);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif ($nextScr.length && winScrollBottom > $nextScr.offset().top) {\r\n\t\t\t\t\tif (!_.scrolling) {\r\n\t\t\t\t\t\t_.move($nextScr.offset().top);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_.factor = _.factor + factor / 2;\r\n\t\t\t\t\t_.move(winScrollTop + _.factor, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} else if (delta > 0) {\r\n\r\n\t\t\t$nextScr = $curScr.prev('.fsscroll__screen');\r\n\r\n\t\t\tif ($curScr.length && !$curScr.hasClass('fsscroll__screen_scroll') && !$curScr.hasClass('fsscroll__screen_first')) {\r\n\t\t\t\tif (!_.scrolling) {\r\n\t\t\t\t\tif ((winScrollBottom - 21) > ($curScr.offset().top + $curScr.innerHeight())) {\r\n\t\t\t\t\t\t_.move($curScr.offset().top + $curScr.innerHeight() - _.winH);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_.move($nextScr.offset().top + $nextScr.innerHeight() - _.winH);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif ($nextScr.length && ($nextScr.offset().top + $nextScr.innerHeight()) > winScrollTop) {\r\n\t\t\t\t\tif (!_.scrolling) {\r\n\t\t\t\t\t\t_.move($nextScr.offset().top);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_.factor = _.factor + factor / 2;\r\n\t\t\t\t\t_.move(winScrollTop - _.factor, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n};\r\n\r\n\r\n$(document).ready(function() {\r\n\r\n\tif ($('.fsscroll').length) {\r\n\t\t$('.fsscroll').attr('id', 'js-fsscroll');\r\n\r\n\t\t(function initFsS() {\r\n\r\n\t\t\tif (winW > 1030) {\r\n\r\n\t\t\t\tFsScroll.init();\r\n\r\n\t\t\t\t$('#js-fsscroll').on('mousewheel', function(e) {\r\n\t\t\t\t\te.preventDefault ? e.preventDefault() : (e.returnValue = false);\r\n\t\t\t\t\tFsScroll.mouseScroll(e.deltaY, e.deltaFactor);\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t$('#js-fsscroll').off('mousewheel');\r\n\r\n\t\t\t\tif (winW > 1000) {\r\n\r\n\t\t\t\t\tFsScroll.init();\r\n\r\n\t\t\t\t\t$('.wrapper_fsscroll').swipe({\r\n\t\t\t\t\t\tswipe: function(e, direct, factor) {\r\n\t\t\t\t\t\t\tvar delta;\r\n\t\t\t\t\t\t\tswitch (direct) {\r\n\t\t\t\t\t\t\t\tcase 'down': delta = 1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'up': delta = -1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tdefault: delta = 0;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tFsScroll.mouseScroll(delta, factor);\r\n\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tallowPageScroll: 'none',\r\n\t\t\t\t\t\texcludedElements: '',\r\n\t\t\t\t\t\tthreshold: 21,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t$(window).on('winResized', initFsS);\r\n\r\n\t\t})();\r\n\r\n\t}\r\n\r\n});","var FlexImg, CoverImg;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//flexible image\r\n\tflexImg = function(elementsStr) {\r\n\r\n\t\tfunction load(elem) {\r\n\r\n\t\t\tif (!elem.hasAttribute('data-images')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar images = elem.getAttribute('data-images').split(',');\r\n\r\n\t\t\timages.forEach(function(image) {\r\n\r\n\t\t\t\tvar imageProp = image.split('->');\r\n\r\n\t\t\t\tif (winW < (+imageProp[0])) {\r\n\t\t\t\t\telem.src = imageProp[1];\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\t//init\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\tif (elements.length) {\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tload(elements[i]);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//cover image\r\n\tCoverImg = {\r\n\r\n\t\tcover: function(e) {\r\n\t\t\tvar img = e.currentTarget,\r\n\t\t\timgWrap = img.closest('.cover-img-wrap'),\r\n\t\t\timgProportion = img.offsetWidth/img.offsetHeight,\r\n\t\t\timgWrapProportion = imgWrap.offsetWidth/imgWrap.offsetHeight;\r\n\r\n\t\t\tif (imgWrapProportion != Infinity && imgWrapProportion < 21) {\r\n\r\n\t\t\t\tif (imgProportion <= imgWrapProportion) {\r\n\t\t\t\t\tvar margin = Math.round(-(imgWrap.offsetWidth / imgProportion - imgWrap.offsetHeight) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t\t\timg.style.marginTop = margin +'px';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar margin = Math.round(-(imgWrap.offsetHeight * imgProportion - imgWrap.offsetWidth) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_h');\r\n\t\t\t\t\timg.style.marginLeft = margin +'px';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\treInit: function(parentElementStr) {\r\n\t\t\tvar elements = (parentElementStr) ? document.querySelectorAll(parentElementStr +' .cover-img') : document.querySelectorAll('.cover-img');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar img = elements[i];\r\n\r\n\t\t\t\timg.classList.remove('cover-img_w');\r\n\t\t\t\timg.classList.remove('cover-img_h');\r\n\t\t\t\timg.style.marginTop = '';\r\n\t\t\t\timg.style.marginLeft = '';\r\n\t\t\t\timg.src = (browser == 'ie') ? (img.src +'?'+ new Date().getTime()) : img.src;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(parentElementStr) {\r\n\t\t\tvar elements = (parentElementStr) ? document.querySelectorAll(parentElementStr +' .cover-img, '+ parentElementStr +' .cover-img-wrap') : document.querySelectorAll('.cover-img, .cover-img-wrap');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\timg;\r\n\r\n\t\t\t\tif (elem.classList.contains('cover-img-wrap')) {\r\n\r\n\t\t\t\t\timg = elem.querySelector('img');\r\n\r\n\t\t\t\t\timg.classList.add('cover-img');\r\n\r\n\t\t\t\t} else if (elem.classList.contains('cover-img')) {\r\n\r\n\t\t\t\t\timg = elem;\r\n\r\n\t\t\t\t\timg.parentElement.classList.add('cover-img-wrap');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!img.hasAttribute('data-event')) {\r\n\r\n\t\t\t\t\timg.addEventListener('load', this.cover);\r\n\r\n\t\t\t\t\timg.setAttribute('data-event', 'true');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (browser == 'ie') {\r\n\t\t\t\t\timg.src = img.src +'?'+ new Date().getTime();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}());\r\n\r\n\r\nfunction flexImg() {\r\n\t$('.flex-img').each(function() {\r\n\t\tvar Img = $(this),\r\n\t\tdata = Img.attr('data-images'),\r\n\t\timages,\r\n\t\tnewImg;\r\n\r\n\t\tif (data) {\r\n\t\t\timages = data.split(',');\r\n\r\n\t\t\tfor (var i = 0; i < images.length; i++) {\r\n\t\t\t\tvar imgSpl = images[i].split(':');\r\n\r\n\t\t\t\tif (winW < imgSpl[0]) {\r\n\t\t\t\t\tif (imgSpl[1] == 'http' || imgSpl[1] == 'https') {\r\n\t\t\t\t\t\tnewImg = imgSpl[1]+ ':'+ imgSpl[2];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnewImg = imgSpl[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tif (newImg) {\r\n\t\t\tImg.attr('src', newImg);\r\n\t\t}\r\n\t\t\r\n\t});\r\n\r\n}","$(document).ready(function() {\r\n\r\n\t$('body').find('.more').each(function() {\r\n\t\tvar _ = $(this),\r\n\t\tmoreHeight = _.height(),\r\n\t\tcontent = _.html();\r\n\r\n\t\t_.html('<div class=\"more__inner\">'+ content +'</div>');\r\n\r\n\t\tvar _inner = _.find('.more__inner'),\r\n\t\tinnerHeight = _inner.innerHeight();\r\n\r\n\t\tif (moreHeight < innerHeight) {\r\n\t\t\t_.addClass('more_apply').append('<button class=\"more__button\">Показать</button>');\r\n\t\t\t_inner.css({height: moreHeight}).attr('data-min-height', moreHeight).attr('data-max-height', innerHeight);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$('body').on('click', '.more__button', function() {\r\n\t\tvar _ = $(this),\r\n\t\t_moreInner = _.parent('.more').find('.more__inner'),\r\n\t\tminH = _moreInner.attr('data-min-height'),\r\n\t\tmaxH = _moreInner.attr('data-max-height');\r\n\t\tif (!_.hasClass('more__button_active')) {\r\n\t\t\t_moreInner.css('height', maxH);\r\n\t\t\t_.addClass('more__button_active').html('Скрыть');\r\n\t\t} else {\r\n\t\t\t_moreInner.css('height', minH);\r\n\t\t\t_.removeClass('more__button_active').html('Показать');\r\n\t\t}\r\n\t\treturn false;\r\n\t});\r\n\r\n});","function Mouseparallax(elem, options) {\r\n\tvar _ = this,\r\n\tdefaultOpt = {\r\n\t\tlistener: document,\r\n\t\tdeltaX: 21,\r\n\t\tdeltaY: 21,\r\n\t\trangeX: [],\r\n\t\trangeY: [],\r\n\t},\r\n\toptions = options || {},\r\n\topt = $.extend({}, defaultOpt, options),\r\n\t$elem = $(elem),\r\n\tstartMousePos = {X: 0, Y: 0},\r\n\tlistenerW = $(opt.listener).innerWidth(),\r\n\tlistenerH = $(opt.listener).innerHeight(),\r\n\tcursorPos = {X: 0, Y: 0},\r\n\tdirect = {};\r\n\r\n\t_.translateElement = {X: 0, Y: 0};\r\n\t_.startElementPos = {X: 0, Y: 0};\r\n\r\n\tif ($elem.attr('data-delta-x') != undefined) {\r\n\t\topt.deltaX = +$elem.attr('data-delta-x');\r\n\t}\r\n\r\n\tif ($elem.attr('data-delta-y') != undefined) {\r\n\t\topt.deltaY = +$elem.attr('data-delta-y');\r\n\t}\r\n\r\n\tif ($elem.attr('data-range-x') != undefined) {\r\n\t\topt.rangeX = $elem.attr('data-range-x').split(',');\r\n\t}\r\n\r\n\tif ($elem.attr('data-range-y') != undefined) {\r\n\t\topt.rangeY = $elem.attr('data-range-y').split(',');\r\n\t}\r\n\t\r\n\t$(document).on('mouseenter', opt.listener, function(e) {\r\n\t\tstartMousePos.X = e.clientX;\r\n\t\tstartMousePos.Y = e.clientY;\r\n\t});\r\n\r\n\t$(document).on('mousemove', opt.listener, function(e) {\r\n\r\n\t\tif (e.clientX > cursorPos.X) {\r\n\t\t\tdirect.X = 'right';\r\n\t\t} else {\r\n\t\t\tdirect.X = 'left';\r\n\t\t}\r\n\t\tcursorPos.X = e.clientX;\r\n\r\n\t\tif (e.clientY > cursorPos.Y) {\r\n\t\t\tdirect.Y = 'up';\r\n\t\t} else {\r\n\t\t\tdirect.Y = 'down';\r\n\t\t}\r\n\t\tcursorPos.Y = e.clientY;\r\n\r\n\t\tvar deltaMouse = {\r\n\t\t\tX: e.clientX - startMousePos.X,\r\n\t\t\tY: e.clientY - startMousePos.Y\r\n\t\t};\r\n\r\n\t\t_.translateElement = {\r\n\t\t\tX: deltaMouse.X * (opt.deltaX / listenerW) + _.startElementPos.X,\r\n\t\t\tY: deltaMouse.Y * (opt.deltaY / listenerH) + _.startElementPos.Y\r\n\t\t};\r\n\r\n\t\tvar translateX = _.translateElement.X,\r\n\t\ttranslateY = _.translateElement.Y;\r\n\r\n\t\tif (opt.rangeX) {\r\n\t\t\tif (_.translateElement.X >= opt.rangeX[0]) {\r\n\t\t\t\tif (direct.X == 'left') {\r\n\t\t\t\t\tstartMousePos.X = e.clientX;\r\n\t\t\t\t\t_.startElementPos.X = +opt.rangeX[0];\r\n\t\t\t\t}\r\n\t\t\t\ttranslateX = opt.rangeX[0];\r\n\t\t\t} else if (_.translateElement.X <= opt.rangeX[1]) {\r\n\t\t\t\tif (direct.X == 'right') {\r\n\t\t\t\t\tstartMousePos.X = e.clientX;\r\n\t\t\t\t\t_.startElementPos.X = +opt.rangeX[1];\r\n\t\t\t\t}\r\n\t\t\t\ttranslateX = opt.rangeX[1];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (opt.rangeY) {\r\n\t\t\tif (_.translateElement.Y >= opt.rangeY[0]) {\r\n\t\t\t\tif (direct.Y == 'down') {\r\n\t\t\t\t\tstartMousePos.Y = e.clientY;\r\n\t\t\t\t\t_.startElementPos.Y = +opt.rangeY[0];\r\n\t\t\t\t}\r\n\t\t\t\ttranslateY = opt.rangeY[0];\r\n\t\t\t} else if (_.translateElement.Y <= opt.rangeY[1]) {\r\n\t\t\t\tif (direct.Y == 'up') {\r\n\t\t\t\t\tstartMousePos.Y = e.clientY;\r\n\t\t\t\t\t_.startElementPos.Y = +opt.rangeY[1];\r\n\t\t\t\t}\r\n\t\t\t\ttranslateY = opt.rangeY[1];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$elem.css('transform', 'translate('+ translateX +'px, '+ translateY +'px)');\r\n\r\n\t});\r\n\r\n\t$(document).on('mouseleave', opt.listener, function(e) {\r\n\t\t_.startElementPos.X = _.translateElement.X;\r\n\t\t_.startElementPos.Y = _.translateElement.Y;\r\n\t});\r\n\r\n}\r\n\r\nvar mousePlxObj = [], i = 0, ind;\r\nfunction mouseparallax(elem, options) {\r\n\r\n\tif ($(elem)[0].ind == undefined) {\r\n\t\t$(elem)[0].ind = ind = i;\r\n\t} else {\r\n\t\tind = $(elem)[0].ind;\r\n\t}\r\n\r\n\ti++;\r\n\r\n\tif (!(mousePlxObj[elem+ind] instanceof Mouseparallax)) {\r\n\t\tmousePlxObj[elem+ind] = new Mouseparallax(elem, options);\r\n\t}\r\n\r\n\treturn mousePlxObj[elem+ind];\r\n}","function Numberspin(elem, opt) {\r\n\tvar def = {\r\n\t\tanimation: 1\r\n\t},\r\n\topt = opt || {},\r\n\toptions = $.extend({}, def, opt),\r\n\tinterval = null,\r\n\tanimate = false,\r\n\t$Elem = $(elem),\r\n\tcurVal = 0,\r\n\tval = $Elem.html().replace(/[\\s]/g, ''),\r\n\tpattern = val.match(/[\\.,]/),\r\n\tendVal = +val.replace(/[\\D]/g, '');\r\n\r\n\t$Elem.html(0);\r\n\r\n\tthis.start = function() {\r\n\t\t\r\n\t\tif (!animate) {\r\n\t\t\tanimate = true;\r\n\t\t\tspin();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction spin() {\r\n\r\n\t\tinterval = setTimeout(function run() {\r\n\r\n\t\t\t\tif (curVal < endVal) {\r\n\r\n\t\t\t\t\tif (options.animation == 1) {\r\n\r\n\t\t\t\t\t\tvar d = endVal - curVal;\r\n\r\n\t\t\t\t\t\tif (d > 1213214321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 1213214321321;\r\n\t\t\t\t\t\t} else if (d > 3214321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 3214321321;\r\n\t\t\t\t\t\t} else if (d > 4321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 4321321;\r\n\t\t\t\t\t\t} else if (d > 321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 321321;\r\n\t\t\t\t\t\t} else if (d > 32321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 32321;\r\n\t\t\t\t\t\t} else if (d > 2321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 2321;\r\n\t\t\t\t\t\t} else if (d > 1321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 1321;\r\n\t\t\t\t\t\t} else if (d > 321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 321;\r\n\t\t\t\t\t\t} else if (d > 21) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 21;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcurVal++;\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t} else if (options.animation == 2) {\r\n\r\n\t\t\t\t\t\tvar endValArr = String(endVal).split(''),\r\n\t\t\t\t\t\tcurValArr = String(curVal).split('');\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < endValArr.length; i++) {\r\n\t\t\t\t\t\t\tif (curValArr[i]) {\r\n\t\t\t\t\t\t\t\tif (curValArr[i] < endValArr[i] && curValArr[i-1] == endValArr[i-1]) {\r\n\t\t\t\t\t\t\t\t\tcurValArr[i]++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (curValArr[i-1] && curValArr[i-1] == endValArr[i-1]) {\r\n\t\t\t\t\t\t\t\tcurValArr[i] = 0;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcurVal = curValArr.join('');\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar output = String(curVal);\r\n\r\n\t\t\t\t\tif (pattern) {\r\n\t\t\t\t\t\toutput = output.replace(new RegExp('(\\\\d{'+ pattern.index +'})'), '$1'+ pattern[0]);\r\n\t\t\t\t\t\toutput = output.replace(new RegExp('(\\\\d)?(?=(\\\\d{3})+?\\\\'+ pattern[0] +')', 'g'), '$1 ');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toutput = output.replace(/(\\d)?(?=(\\d{3})+$)/g, '$1 ');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t$Elem.html(output);\r\n\r\n\t\t\t\t\tsetTimeout(run, 85);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstop();\r\n\t\t\t\t}\r\n\r\n\t\t}, 1);\r\n\r\n\t}\r\n\r\n\tfunction stop() {\r\n\t\tclearTimeout(interval);\r\n\t}\r\n\r\n}\r\n\r\nvar numberspinObj = [], i = 0, ind;\r\nfunction numberspin(elem, opt) {\r\n\tif ($(elem)[0].ind == undefined) {\r\n\t\t$(elem)[0].ind = ind = i;\r\n\t} else {\r\n\t\tind = $(elem)[0].ind;\r\n\t}\r\n\r\n\tif (!(numberspinObj[elem+ind] instanceof Numberspin)) {\r\n\t\tnumberspinObj[elem+ind] = new Numberspin(elem, opt);\r\n\t}\r\n\ti++;\r\n\r\n\treturn numberspinObj[elem+ind];\r\n}","var Popup = {\r\n\tcloseCallback: function() {},\r\n\tplay: null,\r\n\tind: 0,\r\n\tgroup: null,\r\n\tposition: 0,\r\n\r\n\tshow: function(id, fun) {\r\n\t\tvar _ = this,\r\n\t\t$popWin = $(id),\r\n\t\t$popup = $popWin.closest('.popup');\r\n\t\t\r\n\t\tif ($popWin.length && $popWin.hasClass('popup__window')) {\r\n\t\t\t_.position = $(window).scrollTop();\r\n\t\t\t$popup.fadeIn(321).scrollTop(0);\r\n\t\t\t$('.popup__window').removeClass('popup__window_visible');\r\n\t\t\t$popWin.addClass('popup__window_visible');\r\n\t\t\t$('body').css('top', -_.position).addClass('is-popup-opened');\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tcoverImg('#media-popup');\r\n\t\t\t}, 721);\r\n\r\n\t\t}\r\n\r\n\t\t_.closeCallback = fun || function() {};\r\n\t},\r\n\r\n\thide: function() {\r\n\t\tvar _ = this;\r\n\t\t$('.popup__window').removeClass('popup__window_visible');\r\n\t\t$('.popup').fadeOut(321);\r\n\t\t$('.popup__message').remove();\r\n\t\t$('body').removeClass('is-popup-opened').removeAttr('style');\r\n\t\t$('html, body').scrollTop(_.position);\r\n\t\t_.closeCallback();\r\n\t},\r\n\r\n\tmessage: function(id,msg,fun) {\r\n\t\tvar _ = this;\r\n\t\t$(id).find('.popup__inner').prepend('<div class=\"popup__message\">'+ msg +'</div>');\r\n\t\t_.show(id);\r\n\t\t_.closeCallback = fun || function() {};\r\n\t},\r\n\r\n\t/*resize: function($pop, $img) {\r\n\t\tvar popH = $pop.innerHeight();\r\n\t\tif (popH > winH) {\r\n\t\t\t$pop.css('max-width', (winH * ($pop.innerWidth() / popH)));\r\n\t\t}\r\n\t},*/\r\n\r\n\tmedia: function(_$,args,show) {\r\n\t\tvar _ = this,\r\n\t\tid = $(_$).attr('data-popup'),\r\n\t\tPop = $(id),\r\n\t\t$box = Pop.find('.popup-media__box'),\r\n\t\tImg = Pop.find('.popup-media__image'),\r\n\t\tBtnPlay = Pop.find('.popup-media__play'),\r\n\t\tIframe = Pop.find('.popup-media__iframe');\r\n\r\n\t\tif (args.data) {\r\n\t\t\tPop.find('.popup-media__bar').css('display', 'block');\r\n\t\t\tvar data = JSON.parse( args.data );\r\n\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\tPop.find('.popup-media__data-'+ i).html(data[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (args.imgSize) {\r\n\t\t\tvar imgSize = JSON.parse(args.imgSize);\r\n\t\t\tImg.attr('width', imgSize[0]).attr('height', imgSize[1]);\r\n\t\t} else {\r\n\t\t\tImg.attr('width', '').attr('height', '');\r\n\t\t}\r\n\r\n\t\tif (args.img) {\r\n\t\t\tImg.css({visibility: 'visible', marginLeft: '', marginTop: ''}).removeClass('cover-img_w cover-img_h').attr('src', args.img);\r\n\t\t}\r\n\t\t\r\n\t\t//Pop.css('max-width', '');\r\n\t\tIframe.css('visibility', 'hidden').attr('src', '');\r\n\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t\r\n\t\tif (args.vid) {\r\n\t\t\t$box.removeClass('middle').addClass('cover-img-wrap');\r\n\t\t\tImg.removeClass('middle__img').addClass('cover-img');\r\n\t\t\tBtnPlay.css('visibility', 'visible').attr('href', args.vid);\r\n\r\n\t\t\t_.play = function() {\r\n\t\t\t\tvar utm = args.vid.match(/(?:youtu\\.be\\/|youtube\\.com\\/watch\\?v\\=|youtube\\.com\\/embed\\/)+?([\\w-]+)/i),\r\n\t\t\t\tifrSrc = 'https://www.youtube.com/embed/'+ utm[1] +'?autoplay=1';\r\n\t\t\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t\t\tImg.css('visibility', 'hidden');\r\n\t\t\t\tIframe.css('visibility', 'visible').attr('src', ifrSrc);\r\n\t\t\t}\r\n\r\n\t\t\tif (!args.img) {\r\n\t\t\t\t_.play();\r\n\t\t\t}\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tcoverImg(id);\r\n\t\t\t}, 721);\r\n\r\n\t\t} else {\r\n\t\t\t$box.removeClass('cover-img-wrap').addClass('middle');\r\n\t\t\tImg.removeClass('cover-img').addClass('middle__img');\r\n\t\t}\r\n\r\n\t\tif (args.group) {\r\n\t\t\tPop.find('.popup-media__arr').css('display', 'block');\r\n\t\t\t_.group =  $(_$).attr('data-group');\r\n\t\t\t_.ind = $('[data-group=\"'+ _.group +'\"]').index(_$);\r\n\t\t}\r\n\r\n\t\tif (show) {\r\n\t\t\t_.show(id);\r\n\t\t}\r\n\r\n\t\t/*if (!args.vid) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_.resize(Pop, Img);\r\n\t\t\t}, 721);\r\n\t\t}*/\r\n\r\n\t\t_.closeCallback = function() {\r\n\t\t\tImg.css('visibility', 'hidden').attr('src', '');\r\n\t\t\tIframe.css('visibility', 'hidden').attr('src', '');\r\n\t\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tnext: function(dir) {\r\n\t\tvar _ = this,\r\n\t\t$next,\r\n\t\tind = _.ind;\r\n\r\n\t\tif (dir == 'next') {\r\n\t\t\tind++;\r\n\t\t\tif ($('[data-group=\"'+ _.group +'\"]').eq(ind).length) {\r\n\t\t\t\t$next = $('[data-group=\"'+ _.group +'\"]').eq(ind);\r\n\t\t\t}\r\n\t\t} else if (dir == 'prev' && ind > 0) {\r\n\t\t\tind--;\r\n\t\t\tif ($('[data-group=\"'+ _.group +'\"]').eq(ind).length) {\r\n\t\t\t\t$next = $('[data-group=\"'+ _.group +'\"]').eq(ind);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ($next) {\r\n\t\t\tvar args;\r\n\r\n\t\t\tif ($next.hasClass('js-open-popup-image')) {\r\n\t\t\t\targs = {\r\n\t\t\t\t\timg: $next.attr('href'),\r\n\t\t\t\t\timgSize: $next.attr('data-image-size'),\r\n\t\t\t\t\tgroup: $next.attr('data-group'),\r\n\t\t\t\t\tdata: $next.attr('data-data')\r\n\t\t\t\t};\r\n\t\t\t} else if ($next.hasClass('js-open-popup-video')) {\r\n\t\t\t\targs = {\r\n\t\t\t\t\tvid: $next.attr('href'),\r\n\t\t\t\t\timg: $next.attr('data-preview'),\r\n\t\t\t\t\timgSize: $next.attr('data-preview-size'),\r\n\t\t\t\t\tgroup: $next.attr('data-group'),\r\n\t\t\t\t\tdata: $next.attr('data-data')\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t_.media($next, args);\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n\r\n$(document).ready(function() {\r\n\t$('body').on('click', '.js-open-popup', function () {\r\n\t\tPopup.show($(this).attr('data-popup'));\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-popup-image', function () {\r\n\t\tvar args = {\r\n\t\t\timg: $(this).attr('href'),\r\n\t\t\timgSize: $(this).attr('data-image-size'),\r\n\t\t\tgroup: $(this).attr('data-group'),\r\n\t\t\tdata: $(this).attr('data-data')\r\n\t\t};\r\n\t\tPopup.media(this, args, true);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-popup-video', function () {\r\n\t\tvar args = {\r\n\t\t\tvid: $(this).attr('href'),\r\n\t\t\timg: $(this).attr('data-preview'),\r\n\t\t\timgSize: $(this).attr('data-preview-size'),\r\n\t\t\tgroup: $(this).attr('data-group'),\r\n\t\t\tdata: $(this).attr('data-data')\r\n\t\t};\r\n\t\tPopup.media(this, args, true);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup-media__play', function () {\r\n\t\tPopup.play();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup-media__arr', function () {\r\n\t\tPopup.next($(this).attr('data-dir'));\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-msg-popup', function () {\r\n\t\tPopup.message('#message-popup', 'Это всплывашка с сообщением.<br> вызов: <span class=\"c-red\">Popup.message(\"#id\", \"Текст или html\");</span>', function() { alert('После закрытия'); });\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup__close', function () {\r\n\t\tPopup.hide();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup', function(e) {\r\n\t\tif (!$(e.target).closest('.popup__window').length) {\r\n\t\t\tPopup.hide();\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tif (window.location.hash) {\r\n\t\tvar hash = window.location.hash;\r\n\t\tif($(hash).length && $(hash).hasClass('popup__window')){\r\n\t\t\tPopup.show(hash);\r\n\t\t}\r\n\t}\r\n\r\n});",";(function() {\r\n\r\n\t\tvar href = window.location.href;\r\n\r\n\t\tvar Share = {\r\n\t\t\tvkontakte: function() {\r\n\t\t\t\turl  = 'http://vkontakte.ru/share.php?';\r\n\t\t\t\turl += 'url=' + encodeURIComponent( href );\r\n\t\t\t\tShare.popup(url);\r\n\t\t\t},\r\n\t\t\tfacebook: function() {\r\n\t\t\t\turl  = 'http://www.facebook.com/sharer.php?';\r\n\t\t\t\turl += 'u=' + encodeURIComponent( href );\r\n\t\t\t\tShare.popup(url);\r\n\t\t\t},\r\n\t\t\ttwitter: function() {\r\n\t\t\t\turl  = 'http://twitter.com/share?';\r\n\t\t\t\turl += 'url=' + encodeURIComponent( href );\r\n\t\t\t\tShare.popup(url);\r\n\t\t\t},\r\n\t\t\todnoklasniki: function() {\r\n\t\t\t\turl  = 'https://connect.ok.ru/dk?st.cmd=WidgetSharePreview';\r\n\t\t\t\turl += '&st.shareUrl=' + encodeURIComponent( href );\r\n\t\t\t\tShare.popup(url);\r\n\t\t\t},\r\n\r\n\t\t\tpopup: function(url) {\r\n\t\t\t\twindow.open(url,'','toolbar=0,status=0,width=626,height=436');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t$(document).ready(function() {\r\n\r\n\t\t$('.js-share-vk').click(function() {\r\n\t\t\tShare.vkontakte();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\t$('.js-share-fb').click(function() {\r\n\t\t\tShare.facebook();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\t$('.js-share-tw').click(function() {\r\n\t\t\tShare.twitter();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\t$('.js-share-ok').click(function() {\r\n\t\t\tShare.odnoklasniki();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t});\r\n\r\n\r\n}());","var Tab = {\r\n\ttabBlock: null,\r\n\tinit: function() {\r\n\t\tvar _ = this;\r\n\t\t$('.tab').each(function() {\r\n\t\t\t_.tabBlock = $(this);\r\n\t\t\t_.setHeight();\r\n\t\t});\r\n\t},\r\n\tbutton: function(_btn) {\r\n\t\tvar _ = this,\r\n\t\t$btn = $(_btn);\r\n\t\ttab = $btn.attr('data-tab');\r\n\t\t_.tabBlock = $(_btn).closest('.tab');\r\n\r\n\t\tif (!$btn.hasClass('tab__button_active')) {\r\n\t\t\t_.tabBlock.find('.tab__button').removeClass('tab__button_active');\r\n\t\t\t$btn.addClass('tab__button_active');\r\n\r\n\t\t\t_.changeItem(tab);\r\n\t\t}\r\n\t\t\r\n\t},\r\n\tchangeItem: function(tab) {\r\n\t\tvar _ = this,\r\n\t\t$tabItem = this.tabBlock.find('.tab__item_'+ tab);\r\n\t\t_.tabBlock.find('.tab__item').removeClass('tab__item_active');\r\n\t\t_.setHeight($tabItem);\r\n\t\tsetTimeout(function() {\r\n\t\t\t$tabItem.addClass('tab__item_active');\r\n\t\t}, 321);\r\n\t},\r\n\tsetHeight: function($tabItem) {\r\n\t\tvar _ = this,\r\n\t\t$container = this.tabBlock.find('.tab__container'),\r\n\t\t$activeItem = ($tabItem) ? $tabItem : _.tabBlock.find('.tab__item_active');\r\n\t\t$container.css('height', $activeItem.innerHeight());\r\n\t}\r\n};\r\n\r\n$(document).ready(function() {\r\n\tTab.init();\r\n\t$('body').on('click', '.tab__button', function() {\r\n\t\tTab.button(this);\r\n\t});\r\n});","var Timer = {\r\n\tmin: 0,\r\n\tsec: 0,\r\n\tInterval: null,\r\n\tonStop: null,\r\n\tinit: function(initVal, onStop) {\r\n\r\n\t\tthis.onStop = onStop || null;\r\n\t\t\r\n\t\tfunction setCookies() {\r\n\t\t\tvar date = new Date(Date.now() + 86400000);\r\n\t\t\tdocument.cookie = 'lastTimer='+ Date.now() +'; expires='+ date.toUTCString();\r\n\t\t}\r\n\r\n\t\tfunction getCookies() {\r\n\t\t\tvar val;\r\n\t\t\tif (document.cookie) {\r\n\t\t\t\tvar cokArr = document.cookie.replace(/(\\s)+/g, '').split(';');\r\n\t\t\t\tfor (var i = 0; i < cokArr.length; i++) {\r\n\t\t\t\t\tvar keyVal = cokArr[i].split('=');\r\n\t\t\t\t\tif (keyVal[0] == 'lastTimer') {\r\n\t\t\t\t\t\tval = keyVal[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn val || undefined;\r\n\t\t}\r\n\r\n\t\tvar cokValue = getCookies();\r\n\r\n\t\tif (cokValue) {\r\n\t\t\tvar delta = Math.round((Date.now()-cokValue)/1000);\r\n\t\t\tif (delta < initVal) {\r\n\t\t\t\tinitVal = initVal-delta;\r\n\t\t\t} else {\r\n\t\t\t\tsetCookies();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetCookies();\r\n\t\t}\r\n\r\n\t\tthis.min = (initVal > 60) ? Math.floor(initVal/60) : 0;\r\n\t\tthis.sec = (initVal > 60) ? Math.round(initVal%60) : initVal;\r\n\r\n\t\tthis.start();\r\n\t},\r\n\tcounter: function() {\r\n\t\tvar _ = this;\r\n\t\t_.Interval = setInterval(function() {\r\n\t\t\tif (_.sec == 0) {\r\n\t\t\t\tif (_.min == 0) {\r\n\t\t\t\t\t_.stop();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_.sec = 59;\r\n\t\t\t\t\t_.min--;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t_.sec--;\r\n\t\t\t}\r\n\t\t\t_.output();\r\n\t\t}, 1000);\r\n\t},\r\n\tstart: function() {\r\n\t\tthis.counter();\r\n\t},\r\n\tstop: function() {\r\n\t\tclearInterval(this.Interval);\r\n\t\tif (this.onStop) {\r\n\t\t\tthis.onStop();\r\n\t\t}\r\n\t},\r\n\toutput: function() {\r\n\t\tvar _ = this, \r\n\t\tminO  = '',\r\n\t\tsecTxt = 'секунд',\r\n\t\tsec,\r\n\t\toutput;\r\n\r\n\t\tif (_.min != 0) {\r\n\t\t\tif (_.min == 1) {\r\n\t\t\t\tminO = _.min +' минуту';\r\n\t\t\t} else if (_.min < 5) {\r\n\t\t\t\tminO = _.min +' минуты';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (_.sec == 1 || _.sec == 21) {\r\n\t\t\tsecTxt = 'секунду';\r\n\t\t} else if (_.sec < 5) {\r\n\t\t\tsecTxt = 'секунды';\r\n\t\t} else if (_.sec < 21) {\r\n\t\t\tsecTxt = 'секунд';\r\n\t\t}\r\n\r\n\t\tsec = (_.sec < 10) ? '0'+ _.sec : _.sec;\r\n\t\t\r\n\t\toutput = [minO, sec, secTxt].join(' '); \r\n\t\t\r\n\t\tvar el = document.getElementById('timer');\r\n\t\tel.innerHTML = output;\r\n\t}\r\n};","var ValidateForm;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tValidateForm = {\r\n\r\n\t\tinput: null,\r\n\r\n\t\terrorTip: function(err, errInd) {\r\n\t\t\tvar field = this.input.closest('.form__field'),\r\n\t\t\terrTip = field.querySelector('.form__error-tip');\r\n\r\n\t\t\tif (err) {\r\n\r\n\t\t\t\tfield.classList.add('form__field_error');\r\n\r\n\t\t\t\tif (errInd) {\r\n\t\t\t\t\tif (!errTip.getAttribute('data-error-text')) {\r\n\t\t\t\t\t\terrTip.setAttribute('data-error-text', errTip.innerHTML);\r\n\t\t\t\t\t}\r\n\t\t\t\t\terrTip.innerHTML = errTip.getAttribute('data-error-text-'+ errInd);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tfield.classList.remove('form__field_error');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tcustomErrorTip: function($inp, errorTxt) {\r\n\t\t\tvar _ = this;\r\n\r\n\t\t\t_.$input = $inp;\r\n\t\t\t_.errorTip(true, 'custom', errorTxt);\r\n\t\t},\r\n\r\n\t\tdate: function() {\r\n\t\t\tvar err = false,\r\n\t\t\tvalidDate = function(val) {\r\n\t\t\t\tvar _reg = new RegExp(\"^([0-9]{2}).([0-9]{2}).([0-9]{4})$\"),\r\n\t\t\t\tmatches = _reg.exec(val);\r\n\t\t\t\tif (!matches) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar now = new Date(),\r\n\t\t\t\tcDate = new Date(matches[3], (matches[2] - 1), matches[1]);\r\n\t\t\t\treturn ((cDate.getMonth() == (matches[2] - 1)) && (cDate.getDate() == matches[1]) && (cDate.getFullYear() == matches[3]) && (cDate.valueOf() < now.valueOf()));\r\n\t\t\t};\r\n\r\n\t\t\tif (!validDate(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\temail: function() {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^[a-z0-9]+[\\w\\-\\.]*@[\\w\\-]{2,}\\.[a-z]{2,6}$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\ttel: function() {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^\\+7\\([0-9]{3}\\)[0-9]{3}-[0-9]{2}-[0-9]{2}$/.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tpass: function() {\r\n\t\t\tvar err = false,\r\n\t\t\tminLng = this.input.getAttribute('data-min-length');\r\n\r\n\t\t\tif (minLng && this.input.value.length < minLng) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tselect: function(elem) {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tvalidateOnInputOrBlur: function(e) {\r\n\r\n\t\t\tvar elem = e.target.closest('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tif (!elem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tif (e.type == 'blur') {\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\t\t\t} else if (e.type == 'input' && !elem.getAttribute('data-tested')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar type = elem.getAttribute('data-type'),\r\n\t\t\tval = elem.value;\r\n\r\n\t\t\tif (elem.getAttribute('data-required') && !val.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t} else if (val.length && type) {\r\n\t\t\t\tthis[type]();\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tfile: function(e) {\r\n\r\n\t\t\tif (e) {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"file\"]');\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.input = elem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar err = false,\r\n\t\t\terrCount = {type: 0, size: 0},\r\n\t\t\tfiles = this.input.files,\r\n\t\t\ttype = this.input.getAttribute('data-type'),\r\n\t\t\tmaxSize = +this.input.getAttribute('data-max-size');\r\n\r\n\t\t\tfor (var i = 0; i < files.length; i++) {\r\n\r\n\t\t\t\tvar file = files[i];\r\n\r\n\t\t\t\tif (!file.type.match(type)) {\r\n\t\t\t\t\terrCount.type++;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (file.size > maxSize) {\r\n\t\t\t\t\terrCount.size++;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (errCount.type) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.size) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tvalidate: function(form) {\r\n\t\t\tvar err = 0;\r\n\r\n\t\t\t//text, password, textarea\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elementIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\r\n\t\t\t\tvar inpType = elem.getAttribute('data-type');\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\t\t\t\t\tif (inpType && this[inpType]()) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (elem.getAttribute('data-required')) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//select\r\n\t\t\tvar elements = form.querySelectorAll('.custom-select__input');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elementIsHidden(elem.parentElement)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.select(elem)) {\r\n\t\t\t\t\terr++;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//checkboxes\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"checkbox\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elementIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.checked) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//checkbox group\r\n\t\t\tvar groups = form.querySelectorAll('.form__chbox-group');\r\n\r\n\t\t\tfor (var i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElements = 0;\r\n\r\n\t\t\t\tif (elementIsHidden(group)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tfor (var j = 0; j < elements.length; j++) {\r\n\t\t\t\t\tif (elements[j].checked) {\r\n\t\t\t\t\t\tcheckedElements++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (checkedElements < group.getAttribute('data-min')) {\r\n\t\t\t\t\tgroup.classList.add('form__chbox-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__chbox-group_error');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//radio group\r\n\t\t\tvar groups = form.querySelectorAll('.form__radio-group');\r\n\r\n\t\t\tfor (var i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElement = false;\r\n\r\n\t\t\t\tif (elementIsHidden(group)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"radio\"]');\r\n\r\n\t\t\t\tfor (var j = 0; j < elements.length; j++) {\r\n\t\t\t\t\tif (elements[j].checked) {\r\n\t\t\t\t\t\tcheckedElement = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!checkedElement) {\r\n\t\t\t\t\tgroup.classList.add('form__radio-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__radio-group_error');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//file\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"file\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elementIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tif (elem.files.length) {\r\n\t\t\t\t\tif (this.file()) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (elem.getAttribute('data-required')) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//passwords compare\r\n\t\t\tvar elements = form.querySelectorAll('input[data-pass-compare-input]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elementIsHidden(elem)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tvar val = elem.value;\r\n\r\n\t\t\t\tif (val.length) {\r\n\t\t\t\t\tvar compElemVal = form.querySelector(elem.getAttribute('data-pass-compare-input')).value;\r\n\r\n\t\t\t\t\tif (val !== compElemVal) {\r\n\t\t\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn (err) ? false : true;\r\n\t\t},\r\n\r\n\t\tsubmit: function(form) {\r\n\r\n\t\t\treturn this.validate(form);\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(form) {\r\n\r\n\t\t\tform.addEventListener('input', this.validateOnInputOrBlur.bind(this));\r\n\r\n\t\t\tform.addEventListener('blur', this.validateOnInputOrBlur.bind(this), true);\r\n\r\n\t\t\tform.addEventListener('change', this.file.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}());"]}