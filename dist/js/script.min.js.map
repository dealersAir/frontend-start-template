{"version":3,"sources":["global.js","accord.js","ajax.js","anchor.js","button.js","customform.js","diagram.js","floatslider.js","form.js","fsscroll.js","image.js","more.js","mouseparallax.js","numberspin.js","popup.js","share.js","tab.js","timer.js","validateform.js"],"names":["browser","document","documentElement","setAttribute","navigator","userAgent","toLowerCase","test","CustomEvent","e","window","event","params","evt","bubbles","cancelable","detail","undefined","createEvent","initCustomEvent","prototype","Object","create","Event","winResizedEvent","rsz","addEventListener","setTimeout","dispatchEvent","Element","closest","ElProto","matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","selector","this","parentElement","elementIsHidden","elem","compStyles","getComputedStyle","display","visibility","opacity","$","ready","on","_$","Content","find","hasClass","slideUp","removeClass","slideDown","animate","scrollTop","offset","top","innerHeight","addClass","Ajax","take","url","data","id","fun","_","ajax","type","dataType","success","response","put","error","alert","resp","Block","html","Popup","show","append","coverImg","attr","page","length","width","scroll","Point","href","anch","split","scrTo","stop","location","hash","onload","openMenu","st","pos","css","removeAttr","actElements","targetElements","$elem","role","initClickOnElements","not","click","fstTxt","secTxt","CustomPlaceholder","CustomSelect","BindLabels","elementsStr","elements","querySelectorAll","i","label","querySelector","forID","hasAttribute","htmlFor","ChangeCheckbox","change","getAttribute","style","init","target","bind","ChangeRadio","checkedElem","name","j","placeholder","elemFor","createElement","className","innerHTML","insertBefore","removeAttribute","value","hidePlaceholder","hide","lSt","textIndent","paddingLeft","paddingRight","field","close","fields","classList","remove","listItems","open","add","selectMultipleVal","button","input","toButtonValue","toInputValue","inputsBlock","toggle","checkedElements","join","yetInput","appendChild","targetAction","contains","selectVal","lalueElements","varHeightTextarea","setHeight","ValidateForm","select","autocomplete","match","reg","RegExp","valueElements","valueElem","setOptions","fieldStr","optObj","val","options","li","keyboard","key","hoverItem","nextItem","item","nextElementSibling","getBoundingClientRect","firstElementChild","previousElementSibling","lastElementChild","fillAcHead","checkedValues","build","elementStr","parent","optionsList","require","head","multiple","class","inpDiv","hiddenInp","opt","which","keyCode","preventDefault","CustomFile","loadPreview","file","imgPreviewBlock","reader","FileReader","result","readAsDataURL","changeInput","self","fileItems","console","log","files","fileItem","mirror","mirrorOutput","replace","Diagram","values","set","maxVal","context","startingAngle","Math","PI","centerX","centerY","canvas","getElementById","getContext","round","draw","color","pid","once","endingAngle","calcPath","pathStyle","r","beginPath","arc","lineWidth","strokeStyle","c","stroke","newVal","Array","anim","clearRect","numId","diagram","diagramObject","FlSlider","animation","count","isLine","t","first","last","next","dots","ind","dotC","activeDot","clearTimeout","line","dir","ToNext","ToPrev","Curr","Next","Prev","prev","s","height","innerWidth","swipe","direction","triggerOnTouchEnd","excludedElements","threshold","Form","NextFieldset","nextFieldset","currentFieldset","validate","form","elemStr","formSelector","clear","textareaMirrors","actSubmitBtn","submit","onSubmit","obj","unlockSubmitButton","clearForm","FsScroll","winH","scrolling","factor","scrChangedEv","beforeScrChangeEv","each","_item","current","midWinScrollTop","$item","itemOfsTop","itemH","move","moveTo","duration","easing","mouseScroll","delta","$nextScr","$curScr","winScrollTop","winScrollBottom","initFsS","returnValue","deltaY","deltaFactor","off","direct","allowPageScroll","flexImg","CoverImg","forEach","image","imageProp","src","cover","img","currentTarget","imgWrap","imgProportion","offsetWidth","offsetHeight","imgWrapProportion","Infinity","margin","marginTop","marginLeft","reInit","parentElementStr","Date","getTime","moreHeight","content","_inner","_moreInner","minH","maxH","Mouseparallax","defaultOpt","listener","deltaX","rangeX","rangeY","extend","startMousePos","X","Y","listenerW","listenerH","cursorPos","translateElement","startElementPos","clientX","clientY","deltaMouse","translateX","translateY","mouseparallax","mousePlxObj","Numberspin","spin","interval","run","curVal","endVal","d","endValArr","String","curValArr","output","pattern","index","$Elem","def","start","numberspin","numberspinObj","fixBody","pageYOffset","body","scrollTo","elenentStr","elemParent","element","closeElem","pPopup","closeCallback","play","group","position","$popWin","$popup","fadeIn","fadeOut","message","msg","prepend","media","args","Pop","$box","Img","BtnPlay","Iframe","JSON","parse","imgSize","vid","utm","ifrSrc","$next","eq","Share","vkontakte","encodeURIComponent","popup","facebook","twitter","odnoklasniki","Tab","tabBlock","_btn","$btn","tab","changeItem","$tabItem","$container","$activeItem","Timer","min","sec","Interval","onStop","initVal","setCookies","date","now","cookie","toUTCString","cokValue","cokArr","keyVal","floor","counter","setInterval","clearInterval","minO","errorTip","err","errInd","errTip","customErrorTip","$inp","errorTxt","$input","_reg","exec","cDate","getMonth","getDate","getFullYear","valueOf","email","tel","pass","minLng","validateOnInputOrBlur","errCount","size","maxSize","inpType","checked","groups","checkedElement"],"mappings":"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","file":"script.min.js","sourcesContent":["//global variables\r\nvar browser;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n//get useragent\r\ndocument.documentElement.setAttribute('data-useragent', navigator.userAgent);\r\n\r\n//browser identify\r\nbrowser = (function(userAgent) {\r\n\r\n\tuserAgent = userAgent.toLowerCase();\r\n\r\n\tif (/(msie|rv:11\\.0)/.test(userAgent)) {\r\n\t\treturn 'ie';\r\n\t}\r\n\r\n}(navigator.userAgent));\r\n\r\n//add support CustomEvent constructor for IE\r\ntry {\r\n\tnew CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\r\n} catch (e) {\r\n\r\n\twindow.CustomEvent = function(event, params) {\r\n\t\tvar evt;\r\n\r\n\t\tparams = params || {\r\n\t\t\tbubbles: false,\r\n\t\t\tcancelable: false,\r\n\t\t\tdetail: undefined\r\n\t\t};\r\n\r\n\t\tevt = document.createEvent(\"CustomEvent\");\r\n\r\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\r\n\t\treturn evt;\r\n\t}\r\n\r\n\tCustomEvent.prototype = Object.create(window.Event.prototype);\r\n}\r\n\r\n//window Resized Event\r\nvar winResizedEvent = new CustomEvent('winResized');\r\nvar rsz = true;\r\n\r\nwindow.addEventListener('resize', function() {\r\n\r\n\tif (rsz) {\r\n\r\n\t\trsz = false;\r\n\t\tsetTimeout(function() {\r\n\t\t\twindow.dispatchEvent(winResizedEvent);\r\n\t\t\trsz = true;\r\n\t\t}, 1021);\r\n\r\n\t}\r\n\r\n});\r\n\r\n//closest polyfill\r\nif (!Element.prototype.closest) {\r\n\t(function(ElProto) {\r\n\t\tElProto.matches = ElProto.matches || ElProto.mozMatchesSelector || ElProto.msMatchesSelector || ElProto.oMatchesSelector || ElProto.webkitMatchesSelector;\r\n\t\tElProto.closest = ElProto.closest || function closest(selector) {\r\n\t\t\tif (!this) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tif (this.matches(selector)) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tif (!this.parentElement) {\r\n\t\t\t\treturn null;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.parentElement.closest(selector);\r\n\t\t\t}\r\n\t\t};\r\n\t}(Element.prototype));\r\n}\r\n\r\n//check element for hidden\r\nElement.prototype.elementIsHidden = function() {\r\n\r\n\tvar elem = this;\r\n\r\n\twhile (elem) {\r\n\r\n\t\tif (!elem) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tvar compStyles = getComputedStyle(elem);\r\n\r\n\t\tif (compStyles.display == 'none' || compStyles.visibility == 'hidden' || compStyles.opacity == '0') {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\telem = elem.parentElement;\r\n\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\n}());","$(document).ready(function() {\r\n\r\n\t$('body').on('click', '.accord__button', function() {\r\n\t\tvar _$ = $(this),\r\n\t\tContent = _$.closest('.accord__item').find('.accord__content');\r\n\r\n\t\tif (!_$.hasClass('accord__button_active')) {\r\n\t\t\t_$.closest('.accord').find('.accord__content').slideUp(321);\r\n\t\t\t_$.closest('.accord').find('.accord__button').removeClass('accord__button_active');\r\n\t\t\tContent.slideDown(321, function() {\r\n\t\t\t\t$('body,html').animate({scrollTop: (_$.offset().top - $('.header').innerHeight())}, 900, 'easeOutExpo');\r\n\t\t\t});\r\n\t\t\t_$.addClass('accord__button_active');\r\n\t\t} else {\r\n\t\t\tContent.slideUp(321);\r\n\t\t\t_$.removeClass('accord__button_active');\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t});\r\n});","var Ajax = {\r\n\ttake: function(url,data,id,fun) {\r\n\t\tvar _ = this;\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: url,\r\n\t\t\ttype:\"POST\",\r\n\t\t\tdataType:\"html\",\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: function(response){\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\t_.put(response, id);\r\n\t\t\t\t\tsetTimeout(fun, 721);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror: function() {\r\n\t\t\t\talert('Send Error');\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tput: function(resp,id) {\r\n\t\tvar Block = $(id);\r\n\t\tif (Block.hasClass('popup__window')) {\r\n\t\t\tBlock.find('.popup__inner').html(resp);\r\n\t\t\tPopup.show(id);\r\n\t\t} else {\r\n\t\t\tBlock.append(resp);\r\n\t\t\tcoverImg();\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\n$(document).ready(function() {\r\n\r\n\t$('body').on('click', '.js-ajax', function () {\r\n\t\tvar _$ = $(this);\r\n\r\n\t\tif (!_$.hasClass('lock')) {\r\n\t\t\t_$.addClass('lock');\r\n\r\n\t\t\tvar id = _$.attr('href') || '#'+ _$.attr('data-id'),\r\n\t\t\turl = _$.attr('data-url'),\r\n\t\t\tdata = _$.attr('data-data');\r\n\r\n\t\t\tif (_$.attr('data-page')) {\r\n\t\t\t\tvar page = +_$.attr('data-page');\r\n\r\n\t\t\t\tdata += '&page='+ page;\r\n\r\n\t\t\t\tAjax.take(url, data, id, function() {\r\n\t\t\t\t\tpage++;\r\n\t\t\t\t\t_$.attr('data-page', page).removeClass('lock');\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\t\t\t\tAjax.take(url, data, id, function() {\r\n\t\t\t\t\t_$.removeClass('lock');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t});\r\n\r\n\tif ($('.js-ajax-scroll').length && $(window).width() > 1000) {\r\n\t\tvar i = 0;\r\n\r\n\t\t$(window).scroll(function() {\r\n\t\t\tvar winScrTop = $(window).scrollTop(),\r\n\t\t\tPoint = $('.js-ajax-scroll');\r\n\r\n\t\t\tif (Point.offset().top < window.innerHeight && !Point.hasClass('lock')) {\r\n\t\t\t\tPoint.addClass('lock');\r\n\r\n\t\t\t\tvar id = '#'+ Point.attr('data-id'),\r\n\t\t\t\turl = Point.attr('data-url'),\r\n\t\t\t\tdata = Point.attr('data-data'),\r\n\t\t\t\tpage = +Point.attr('data-page');\r\n\r\n\t\t\t\tdata += '&page='+ page;\r\n\r\n\t\t\t\tAjax.take(url, data, id, function() {\r\n\t\t\t\t\tpage++;\r\n\t\t\t\t\tPoint.attr('data-page', page).removeClass('lock');\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\t\r\n\r\n});","$(document).ready(function() {\r\n\r\n\t$('body').on('click', '.js-anchor', function () {\r\n\t\tvar href = $(this).attr('href'),\r\n\t\tanch = '#'+ href.split('#')[1];\r\n\r\n\t\tif($(anch).length){\r\n\t\t\tvar scrTo = ($(anch).attr('data-anchor-offset')) ? $(anch).offset().top : ($(anch).offset().top - $('.header').innerHeight() - 35);\r\n\r\n\t\t\t$('html, body').stop().animate({scrollTop: scrTo}, 1021, 'easeInOutQuart');\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tif (window.location.hash) {\r\n\r\n\t\tvar anch = window.location.hash;\r\n\r\n\t\tif($(anch).length && !$(anch).hasClass('popup__window')){\r\n\r\n\t\t\t$('html, body').stop().animate({scrollTop: 0}, 1);\r\n\r\n\t\t\twindow.onload = function() {\r\n\t\t\t\tvar scrTo = ($(anch).attr('data-anchor-offset')) ? $(anch).offset().top : ($(anch).offset().top - $('.header').innerHeight() - 35);\r\n\r\n\t\t\t\t$('html, body').stop().animate({scrollTop: scrTo}, 1021, 'easeInOutQuart');\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n});","$(document).ready(function() {\r\n\r\n\t/*Toggle*/\r\n\t$('body').on('click', '.js-toggle', function() {\r\n\t\tvar _$ = $(this),\r\n\t\ttargetElements = _$.attr('data-target-elements'),\r\n\t\tinitClickOnElements = _$.attr('data-init-click-on-elements');\r\n\r\n\t\tif (initClickOnElements) {\r\n\t\t\t$(initClickOnElements).not(this).click();\r\n\t\t}\r\n\r\n\t\tfunction openMenu(st) {\r\n\t\t\tif (st) {\r\n\t\t\t\tvar pos = $(window).scrollTop();\r\n\t\t\t\t$('body').css('top', -pos).attr('data-position', pos).addClass('is-menu-opened');\r\n\t\t\t} else {\r\n\t\t\t\t$('body').removeClass('is-menu-opened').removeAttr('style');\r\n\t\t\t\t$('html,body').scrollTop($('body').attr('data-position'));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction actElements(st) {\r\n\t\t\tif (targetElements) {\r\n\r\n\t\t\t\tvar $elem = $(targetElements),\r\n\t\t\t\trole = _$.attr('data-role');\r\n\r\n\t\t\t\tif (st) {\r\n\t\t\t\t\t$elem.addClass('toggled');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$elem.removeClass('toggled');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (role && role == 'menu') {\r\n\t\t\t\t\topenMenu(st);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (!_$.hasClass('toggled')) {\r\n\t\t\tactElements(1);\r\n\t\t\t_$.addClass('toggled');\r\n\t\t\tvar secTxt = _$.attr('data-second-button-text');\r\n\t\t\tif (secTxt) {\r\n\t\t\t\tif (!_$.attr('data-first-button-text')) {\r\n\t\t\t\t\t_$.attr('data-first-button-text', _$.html());\r\n\t\t\t\t}\r\n\t\t\t\t_$.html(secTxt);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tactElements(0);\r\n\t\t\t_$.removeClass('toggled');\r\n\t\t\tvar fstTxt = _$.attr('data-first-button-text');\r\n\t\t\tif (fstTxt) {\r\n\t\t\t\t_$.html(fstTxt);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\treturn false;\r\n\t});\r\n\r\n});","var CustomPlaceholder, CustomSelect;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//bind labels\r\n\tfunction BindLabels(elementsStr) {\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\tvar elem = elements[i],\r\n\t\t\tlabel = elem.parentElement.querySelector('label'),\r\n\t\t\tforID = (elem.hasAttribute('id')) ? elem.id : 'keylabel-'+ i;\r\n\r\n\t\t\tif (!label.hasAttribute('for')) {\r\n\t\t\t\tlabel.htmlFor = forID;\r\n\t\t\t\telem.id = forID;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//show element on checkbox change\r\n\tvar ChangeCheckbox = {\r\n\r\n\t\tchange: function(elem) {\r\n\r\n\t\t\tvar targetElements = (elem.hasAttribute('data-target-elements')) ? document.querySelectorAll(elem.getAttribute('data-target-elements')) : {};\r\n\r\n\t\t\tif (!targetElements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\ttargetElements[i].style.display = (elem.checked) ? 'block' : 'none';\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('change', function(e) {\r\n\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.change(elem);\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//show element on radio button change\r\n\tvar ChangeRadio = {\r\n\r\n\t\tchange: function(checkedElem) {\r\n\r\n\t\t\tvar elements = document.querySelectorAll('input[type=\"radio\"][name=\"'+ checkedElem.name +'\"]');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\ttargetElements = (elem.hasAttribute('data-target-elements')) ? document.querySelectorAll(elem.getAttribute('data-target-elements')) : {};\r\n\r\n\t\t\t\tif (!targetElements.length) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var j = 0; j < targetElements.length; j++) {\r\n\t\t\t\t\ttargetElements[j].style.display = (elem.checked) ? 'block' : 'none';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('change', function(e) {\r\n\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"radio\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.change(elem);\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//form custom placeholder\r\n\tCustomPlaceholder = {\r\n\r\n\t\tinit: function(elementsStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.placeholder) {\r\n\r\n\t\t\t\t\tvar elemFor = (elem.id) ? elem.id : 'placeholder-index-'+ i,\r\n\t\t\t\t\tlabel = document.createElement('label');\r\n\r\n\t\t\t\t\tlabel.htmlFor = elemFor;\r\n\t\t\t\t\tlabel.className = 'custom-placeholder';\r\n\t\t\t\t\tlabel.innerHTML = elem.placeholder;\r\n\r\n\t\t\t\t\telem.parentElement.insertBefore(label, elem);\r\n\r\n\t\t\t\t\telem.removeAttribute('placeholder');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!elem.id) {\r\n\t\t\t\t\t\telem.id = elemFor;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\t\t\t\t\tthis.hidePlaceholder(elem, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//events\r\n\t\t\tdocument.addEventListener('focus', function(e) {\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hidePlaceholder(elem, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this), true);\r\n\r\n\r\n\t\t\tdocument.addEventListener('blur', function(e) {\r\n\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hidePlaceholder(elem, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this), true);\r\n\r\n\t\t},\r\n\t\t\r\n\t\thidePlaceholder: function(elem, hide) {\r\n\r\n\t\t\tvar label = document.querySelector('label[for=\"'+ elem.id +'\"]');\r\n\r\n\t\t\tif (!label) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar lSt = label.style;\r\n\r\n\t\t\tif (hide) {\r\n\r\n\t\t\t\tlSt.textIndent = '-9999px';\r\n\t\t\t\tlSt.paddingLeft = '0px';\r\n\t\t\t\tlSt.paddingRight = '0px';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (!elem.value.length) {\r\n\t\t\t\t\tlSt.textIndent = '';\r\n\t\t\t\t\tlSt.paddingLeft = '';\r\n\t\t\t\t\tlSt.paddingRight = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//Form CustomSelect\r\n\tCustomSelect = {\r\n\r\n\t\tfield: null,\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar fields = document.querySelectorAll('.custom-select');\r\n\r\n\t\t\tfor (var i = 0; i < fields.length; i++) {\r\n\t\t\t\tfields[i].classList.remove('custom-select_opened');\r\n\t\t\t}\r\n\r\n\t\t\tvar listItems = document.querySelectorAll('.custom-select__options li');\r\n\r\n\t\t\tfor (var i = 0; i < listItems.length; i++) {\r\n\t\t\t\tlistItems[i].classList.remove('hover');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\topen: function() {\r\n\r\n\t\t\tthis.field.classList.add('custom-select_opened');\r\n\r\n\t\t\tthis.field.querySelector('.custom-select__options').scrollTop = 0;\r\n\r\n\t\t},\r\n\r\n\t\tselectMultipleVal: function(elem, button, input) {\r\n\t\t\tvar toButtonValue = [],\r\n\t\t\ttoInputValue = [],\r\n\t\t\tinputsBlock = this.field.querySelector('.custom-select__multiple-inputs');\r\n\r\n\t\t\telem.classList.toggle('custom-select__val_checked');\r\n\r\n\t\t\tvar checkedElements = this.field.querySelectorAll('.custom-select__val_checked');\r\n\r\n\t\t\tfor (var i = 0; i < checkedElements.length; i++) {\r\n\t\t\t\tvar elem = checkedElements[i];\r\n\r\n\t\t\t\ttoButtonValue[i] = elem.innerHTML;\r\n\t\t\t\ttoInputValue[i] = (elem.hasAttribute('data-value')) ? elem.getAttribute('data-value') : elem.innerHTML;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (toButtonValue.length) {\r\n\t\t\t\tbutton.innerHTML = toButtonValue.join(', ');\r\n\r\n\t\t\t\tinput.value = toInputValue[0];\r\n\r\n\t\t\t\tinputsBlock.innerHTML = '';\r\n\r\n\t\t\t\tif (toInputValue.length > 1) {\r\n\r\n\t\t\t\t\tfor (var i = 1; i < toInputValue.length; i++) {\r\n\t\t\t\t\t\tvar yetInput = document.createElement('input');\r\n\r\n\t\t\t\t\t\tyetInput.type = 'hidden';\r\n\t\t\t\t\t\tyetInput.name = input.name;\r\n\t\t\t\t\t\tyetInput.value = toInputValue[i];\r\n\r\n\t\t\t\t\t\tinputsBlock.appendChild(yetInput);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tbutton.innerHTML = button.getAttribute('data-placeholder');\r\n\t\t\t\tinput.value = '';\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\ttargetAction: function() {\r\n\t\t\tvar elements = this.field.querySelectorAll('.custom-select__val');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.hasAttribute('data-target-elements')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar targetElem = document.querySelector(elem.getAttribute('data-target-elements'));\r\n\t\t\t\ttargetElem.style.display = (elem.classList.contains('custom-select__val_checked')) ? 'block' : 'none';\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tselectVal: function(elem) {\r\n\t\t\tvar button = this.field.querySelector('.custom-select__button'),\r\n\t\t\tinput = this.field.querySelector('.custom-select__input');\r\n\r\n\t\t\tif (this.field.classList.contains('custom-select_multiple')) {\r\n\t\t\t\t\r\n\t\t\t\tthis.selectMultipleVal(elem, button, input);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tvar toButtonValue = elem.innerHTML,\r\n\t\t\t\ttoInputValue = (elem.hasAttribute('data-value')) ? elem.getAttribute('data-value') : elem.innerHTML;\r\n\r\n\t\t\t\tvar lalueElements = this.field.querySelectorAll('.custom-select__val');\r\n\r\n\t\t\t\tfor (var i = 0; i < lalueElements.length; i++) {\r\n\t\t\t\t\tlalueElements[i].classList.remove('custom-select__val_checked');\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.add('custom-select__val_checked');\r\n\r\n\t\t\t\tif (button) {\r\n\t\t\t\t\tbutton.innerHTML = toButtonValue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinput.value = toInputValue;\r\n\t\t\t\t\r\n\t\t\t\tthis.close();\r\n\r\n\t\t\t\tCustomPlaceholder.hidePlaceholder(input, true);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.targetAction();\r\n\r\n\t\t\tif (input.classList.contains('var-height-textarea__textarea')) {\r\n\t\t\t\tvarHeightTextarea.setHeight(input);\r\n\t\t\t}\r\n\r\n\t\t\tthis.field.classList.add('custom-select_changed');\r\n\r\n\t\t\tValidateForm.select(input);\r\n\r\n\t\t},\r\n\r\n\t\tautocomplete: function(elem) {\r\n\t\t\tvar match = false,\r\n\t\t\treg = new RegExp(elem.value, 'gi'),\r\n\t\t\tvalueElements = this.field.querySelectorAll('.custom-select__val');\r\n\r\n\t\t\tfor (var i = 0; i < valueElements.length; i++) {\r\n\t\t\t\tvar valueElem = valueElements[i];\r\n\r\n\t\t\t\tif (!elem.value.length) {\r\n\t\t\t\t\tvalueElem.classList.remove('custom-select__val_checked');\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (valueElem.innerHTML.match(reg)) {\r\n\t\t\t\t\tvalueElem.parentElement.classList.remove('hidden');\r\n\t\t\t\t\tmatch = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvalueElem.parentElement.classList.add('hidden');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (!match) {\r\n\t\t\t\tfor (var i = 0; i < valueElements.length; i++) {\r\n\t\t\t\t\tvalueElements[i].parentElement.classList.remove('hidden');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tsetOptions: function(fieldStr, optObj, val, name) {\r\n\t\t\tvar fields = document.querySelectorAll(fieldStr);\r\n\r\n\t\t\tfor (var i = 0; i < fields.length; i++) {\r\n\t\t\t\tvar options = fields[i].querySelector('.custom-select__options');\r\n\r\n\t\t\t\tfor (var i = 0; i < optObj.length; i++) {\r\n\t\t\t\t\tvar li = document.createElement('li');\r\n\r\n\t\t\t\t\tli.innerHTML = '<button type=\"button\" class=\"custom-select__val\" data-value=\"'+ optObj[i][val] +'\">'+ optObj[i][name] +'</button>';\r\n\r\n\t\t\t\t\toptions.appendChild(li);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tkeyboard: function(key) {\r\n\t\t\tvar options = this.field.querySelector('.custom-select__options'),\r\n\t\t\thoverItem = options.querySelector('li.hover');\r\n\r\n\t\t\tswitch (key) {\r\n\t\t\t\t\r\n\t\t\t\tcase 40:\r\n\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = function(item) {\r\n\r\n\t\t\t\t\t\tvar elem = item.nextElementSibling;\r\n\r\n\t\t\t\t\t\twhile (elem) {\r\n\r\n\t\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem = elem.nextElementSibling;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}(hoverItem);\r\n\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\r\n\t\t\t\t\t\toptions.scrollTop = options.scrollTop + (nextItem.getBoundingClientRect().top - options.getBoundingClientRect().top);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar elem = options.firstElementChild;\r\n\r\n\t\t\t\t\twhile (elem) {\r\n\r\n\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\telem.classList.add('hover');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem = elem.nextElementSibling;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 38:\r\n\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = function(item) {\r\n\r\n\t\t\t\t\t\tvar elem = item.previousElementSibling;\r\n\r\n\t\t\t\t\t\twhile (elem) {\r\n\r\n\t\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem = elem.previousElementSibling;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}(hoverItem);\r\n\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\r\n\t\t\t\t\t\toptions.scrollTop = options.scrollTop + (nextItem.getBoundingClientRect().top - options.getBoundingClientRect().top);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar elem = options.lastElementChild;\r\n\r\n\t\t\t\t\twhile (elem) {\r\n\r\n\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\telem.classList.add('hover');\r\n\t\t\t\t\t\t\toptions.scrollTop = 9999;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem = elem.previousElementSibling;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 13:\r\n\t\t\t\tthis.selectVal(hoverItem.querySelector('.custom-select__val'));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tfillAcHead: function() {\r\n\t\t\tvar elements = document.querySelectorAll('.custom-select__autocomplete');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\tcheckedValues = elem.closest('.custom-select').querySelectorAll('.custom-select__val_checked');\r\n\r\n\t\t\t\tif (!checkedValues) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\r\n\t\t\t\t\tfor (var j = 0; j < checkedValues.length; j++) {\r\n\t\t\t\t\t\tthis.selectVal(checkedValues[j]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tfor (var j = 0; j < checkedValues.length; j++) {\r\n\t\t\t\t\t\tcheckedValues[j].classList.remove('custom-select__val_checked');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tbuild: function(elementStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementStr);\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\toptions = elem.querySelectorAll('option'),\r\n\t\t\t\tparent = elem.parentElement,\r\n\t\t\t\toptionsList = '',\r\n\t\t\t\trequire = (elem.hasAttribute('data-required')) ? ' data-required=\"'+ elem.getAttribute('data-required') +'\" ' : '',\r\n\t\t\t\thead = (elem.getAttribute('data-type') == 'autocomplete') ? '<input type=\"text\" name=\"'+ elem.name +'\"'+ require +'placeholder=\"'+ elem.getAttribute('data-placeholder') +'\" class=\"custom-select__input custom-select__autocomplete form__text-input\" value=\"\">' : '<button type=\"button\" data-placeholder=\"'+ elem.getAttribute('data-placeholder') +'\" class=\"custom-select__button\">'+ elem.getAttribute('data-placeholder') +'</button>',\r\n\t\t\t\tmultiple = {\r\n\t\t\t\t\tclass: (elem.multiple) ? ' custom-select_multiple' : '',\r\n\t\t\t\t\tinpDiv: (elem.multiple) ? '<div class=\"custom-select__multiple-inputs\"></div>' : ''\r\n\t\t\t\t},\r\n\t\t\t\thiddenInp = (elem.getAttribute('data-type') != 'autocomplete') ? '<input type=\"hidden\" name=\"'+ elem.name +'\"'+ require +'class=\"custom-select__input\" value=\"\">' : '';\r\n\r\n\t\t\t\t//option list\r\n\t\t\t\tfor (var j = 0; j < options.length; j++) {\r\n\t\t\t\t\tvar opt = options[j];\r\n\r\n\t\t\t\t\toptionsList += '<li><button type=\"button\" class=\"custom-select__val\"'+ ( (opt.hasAttribute('value')) ? ' data-value=\"'+ opt.value +'\"' : '' ) + ( (opt.hasAttribute('data-target-elements')) ? ' data-target-elements=\"'+ opt.getAttribute('data-target-elements') +'\"' : '' ) +'>'+ opt.innerHTML +'</button></li>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//output select\r\n\t\t\t\tparent.innerHTML = '<div class=\"custom-select'+ multiple.class +'\">'+ head +'<ul class=\"custom-select__options\">'+ optionsList +'</ul>'+ hiddenInp + multiple.inpDiv +'</div>';\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\r\n\t\t\tthis.build(elementStr);\r\n\r\n\t\t\t//click on select button event\r\n\t\t\tdocument.addEventListener('click', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__button');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tif (this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.fillAcHead();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t\t//click on value button event\r\n\t\t\tdocument.addEventListener('click', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__val');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tthis.selectVal(elem);\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t\t//focus autocomplete\r\n\t\t\tdocument.addEventListener('focus', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__autocomplete');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tif (!this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\tthis.fillAcHead();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this), true);\r\n\r\n\t\t\t//input autocomplete\r\n\t\t\tdocument.addEventListener('input', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__autocomplete');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tthis.autocomplete(elem);\r\n\r\n\t\t\t\tif (!this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t\t//keyboard events\r\n\t\t\tdocument.addEventListener('keydown', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select_opened');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tvar key = e.which || e.keyCode || 0;\r\n\r\n\t\t\t\tif (key == 40 || key == 38 || key == 13) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.keyboard(key);\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t\t//close all\r\n\t\t\tdocument.addEventListener('click', function(e) {\r\n\t\t\t\tif (!e.target.closest('.custom-select_opened')) {\r\n\t\t\t\t\tthis.fillAcHead();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//custom file\r\n\tvar CustomFile = {\r\n\r\n\t\tfield: null,\r\n\r\n\t\tloadPreview: function(file, i) {\r\n\t\t\tvar imgPreviewBlock = this.field.querySelectorAll('.custom-file__preview')[i];\r\n\r\n\t\t\tif (file.type.match('image')) {\r\n\t\t\t\tvar reader = new FileReader();\r\n\r\n\t\t\t\treader.onload = function(e) {\r\n\t\t\t\t\timgPreviewBlock.innerHTML = '<img src=\"'+ e.target.result +'\" class=\"cover-img\">';\r\n\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tcoverImg('.custom-file__item');\r\n\t\t\t\t\t}, 721);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t} else {\r\n\t\t\t\timgPreviewBlock.innerHTML = '<img src=\"images/preview.svg\" class=\"full-width-img\">';\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tchangeInput: function(elem) {\r\n\r\n\t\t\tthis.field = elem.closest('.custom-file');\r\n\r\n\t\t\tvar self = this,\r\n\t\t\tfileItems = this.field.querySelector('.custom-file__items');\r\n\r\n\t\t\tfileItems.innerHTML = '';\r\n\r\n\t\t\tconsole.log(elem.files);\r\n\r\n\t\t\tfor (var i = 0; i < elem.files.length; i++) {\r\n\t\t\t\tvar file = elem.files[i],\r\n\t\t\t\tfileItem = document.createElement('div');\r\n\r\n\t\t\t\tfileItem.className = 'custom-file__item';\r\n\t\t\t\tfileItem.innerHTML = '<div class=\"custom-file__preview cover-img-wrap\"></div><div class=\"custom-file__name\">'+ file.name +'</div>';\r\n\r\n\t\t\t\tfileItems.appendChild(fileItem);\r\n\r\n\t\t\t\tself.loadPreview(file, i);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('change', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"file\"]');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.changeInput(elem);\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//variable height textarea\r\n\tvar varHeightTextarea = {\r\n\r\n\t\tsetHeight: function(elem) {\r\n\t\t\tvar mirror = elem.parentElement.querySelector('.var-height-textarea__mirror'),\r\n\t\t\tmirrorOutput = elem.value.replace(/\\n/g, '<br>');\r\n\r\n\t\t\tmirror.innerHTML = mirrorOutput +'&nbsp;';\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('input', function(e) {\r\n\t\t\t\tvar elem = e.target.closest('.var-height-textarea__textarea');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setHeight(elem);\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//init scripts\r\n\tdocument.addEventListener(\"DOMContentLoaded\", function() {\r\n\t\tCustomSelect.init('select');\r\n\t\tCustomFile.init();\r\n\t\tvarHeightTextarea.init();\r\n\t\tCustomPlaceholder.init('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\tBindLabels('input[type=\"checkbox\"], input[type=\"radio\"]');\r\n\t\tChangeCheckbox.init();\r\n\t\tChangeRadio.init();\r\n\t});\r\n\r\n}());","function Diagram(id,values,set) {\r\n\r\n\tvar _ = this;\r\n\r\n\t_.maxVal = 0;\r\n\t_.context = null;\r\n\t_.startingAngle = 1.5*Math.PI;\r\n\t_.centerX = 80;\r\n\t_.centerY = 80;\r\n\r\n\t_.set = set || {};\r\n\r\n\t_.init = function(id,values) {\r\n\r\n\t\tvar canvas = document.getElementById(id);\r\n\r\n\t\tif (canvas && values) {\r\n\t\t\t_.context = canvas.getContext('2d');\r\n\r\n\t\t\tif (_.set.type) {\r\n\t\t\t\t_.centerX = 70;\r\n\t\t\t\t_.centerY = 70;\r\n\r\n\t\t\t\tif (_.set.type == 'percent') {\r\n\t\t\t\t\t_.maxVal = 100;\r\n\t\t\t\t\tvar val = Math.round(values[1]/(values[0]/100));\r\n\t\t\t\t\t_.draw(val, _.set.color, true, _.set.pid);\r\n\t\t\t\t} \r\n\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < values.length; i++) {\r\n\t\t\t\t\t_.maxVal += values[i];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (_.set.animate) {\r\n\t\t\t\t\t_.animate(values);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var i = 0; i < values.length; i++) {\r\n\t\t\t\t\t\t_.draw(values[i],i);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t_.draw = function(val,i,once,pid) {\r\n\r\n\t\tvar endingAngle = _.calcPath(val),\r\n\t\tstyle = _.pathStyle(i);\r\n\r\n\t\tif (once) {\r\n\t\t\tstyle.r = 63;\r\n\t\t}\r\n\r\n\t\tif (pid) {\r\n\t\t\t$('#'+ pid).html(val);\r\n\t\t}\r\n\r\n\t\t\r\n\t\t_.context.beginPath();\r\n\t\t_.context.arc(_.centerX, _.centerY, style.r, _.startingAngle, endingAngle);\r\n\t\t_.context.lineWidth = 11;\r\n\t\t_.context.strokeStyle = style.c;\r\n\t\t_.context.stroke();\r\n\r\n\t}\r\n\r\n\t_.calcPath = function(val) {\r\n\t\tvar pi2 = 2*Math.PI;\r\n\t\treturn (pi2*val/_.maxVal+_.startingAngle);\r\n\t}\r\n\r\n\t_.pathStyle = function(i) {\r\n\t\tvar style = {};\r\n\t\tswitch (i) {\r\n\t\t\tcase 0:\r\n\t\t\tstyle = {r: 69, c: '#fd8d40'}\r\n\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\tstyle = {r: 57, c: '#d0295e'}\r\n\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\tstyle = {r: 45, c: '#78c574'}\r\n\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\tstyle = {r: 33, c: '#5195cb'}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn style;\r\n\t}\r\n\r\n\t_.animate = function(values) {\r\n\r\n\t\t\r\n\t\tvar newVal = new Array(values.length);\r\n\t\t\r\n\t\tfor (var i = 0; i < newVal.length; i++) {\r\n\t\t\tnewVal[i] = 0;\r\n\t\t}\r\n\r\n\t\tsetTimeout(function anim(st) {\r\n\r\n\t\t\t_.context.clearRect(0,0,(_.centerX*2),(_.centerY*2));\r\n\r\n\t\t\tvar c = 0;\r\n\t\t\tfor (var i = 0; i < values.length; i++) {\r\n\t\t\t\tif (newVal[i] < values[i]) {\r\n\t\t\t\t\tnewVal[i] = newVal[i] + 2;\r\n\t\t\t\t\tc++;\r\n\t\t\t\t}\r\n\t\t\t\t_.draw(newVal[i],i);\r\n\t\t\t\t$('#'+ _.set.numId + i).html(newVal[i]);\r\n\t\t\t}\r\n\r\n\t\t\tif (c) {\r\n\t\t\t\tsetTimeout(anim, 1);\r\n\t\t\t} else {\r\n\t\t\t\t_.context.clearRect(0,0,(_.centerX*2),(_.centerY*2));\r\n\t\t\t\tfor (var i = 0; i < values.length; i++) {\r\n\t\t\t\t\t_.draw(values[i],i);\r\n\t\t\t\t\t$('#'+ _.set.numId + i).html(values[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}, 1);\r\n\r\n\t}\r\n\r\n\t_.init(id,values,set);\r\n\t\r\n}\r\n\r\nvar diagramObject = [];\r\nfunction diagram(id,values,set) {\r\n\tif (!(diagramObject[id] instanceof Diagram)) {\r\n\t\tdiagramObject[id] = new Diagram(id,values,set);\r\n\t}\r\n}","var FlSlider = {\r\n\r\n\tanimation: false,\r\n\tcount: 0,\r\n\tisLine: false,\r\n\tt: null,\r\n\r\n\tinit: function() {\r\n\t\tvar _ = this;\r\n\r\n\t\t_.count = $('.float-slider__float-item').length;\r\n\r\n\t\t$('.float-slider__float-item').first().addClass('float-slider__float-item_curr');\r\n\t\t$('.float-slider__fade-item').first().addClass('float-slider__fade-item_curr');\r\n\r\n\r\n\t\tif (_.count > 1) {\r\n\r\n\t\t\t$('.float-slider__float-item').last().addClass('float-slider__float-item_prev');\r\n\r\n\t\t\t$('.float-slider__float-item').first().next('.float-slider__float-item').removeClass('float-slider__float-item_prev').addClass('float-slider__float-item_next');\r\n\r\n\t\t\tvar dots = '';\r\n\t\t\tfor (var i = 0; i < _.count; i++) {\r\n\t\t\t\tdots += '<li'+ ((i == 0) ? ' class=\"float-slider__dots-active\"' : '') +'><button type=\"button\" data-index=\"'+ i +'\"></button></li>';\r\n\t\t\t}\r\n\r\n\t\t\t$('.float-slider__float').append('<ul class=\"float-slider__dots\">'+ dots +'</ul>');\r\n\r\n\t\t\tif ($('.float-slider').attr('data-line')) {\r\n\t\t\t\t_.isLine = true;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t$('.float-slider__arrow').remove();\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tdots: function(ind) {\r\n\t\tvar _ = this;\r\n\t\tfunction dotC() {\r\n\t\t\tif (!$('.float-slider__float-item[data-index=\"'+ ind +'\"]').hasClass('float-slider__float-item_curr')) {\r\n\r\n\t\t\t\tif (_.count == 2 && ind === 0) {\r\n\t\t\t\t\t_.change('prev');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_.change('next');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetTimeout(dotC, 1121);\r\n\t\t\t}\r\n\t\t}\r\n\t\tdotC();\r\n\t},\r\n\r\n\tactiveDot: function() {\r\n\t\tvar _ = this;\r\n\t\tvar ind = $('.float-slider__float-item_curr').attr('data-index');\r\n\t\t$('.float-slider__dots li').removeClass('float-slider__dots-active');\r\n\t\t$('.float-slider__dots').find('button[data-index=\"'+ ind +'\"]').parent().addClass('float-slider__dots-active');\r\n\t\t$('.float-slider-control__btn').removeClass('float-slider-control__btn_active');\r\n\t\t$('#float-sl-cont-'+ ind).addClass('float-slider-control__btn_active');\r\n\t\tif (_.isLine) {\r\n\t\t\tclearTimeout(_.t);\r\n\t\t\t_.line();\r\n\t\t}\r\n\t},\r\n\r\n\tline: function() {\r\n\t\tvar _ = this;\r\n\t\t$('.float-slider-control__line span').removeClass('crawl');\r\n\t\t$('.float-slider-control__btn_active .float-slider-control__line span').addClass('crawl');\r\n\t\t_.t = setTimeout(function() {\r\n\t\t\t_.change('next');\r\n\t\t}, 5000);\r\n\t},\r\n\r\n\tchange: function(dir) {\r\n\r\n\t\tvar _ = this,\r\n\t\tCurr = $('.float-slider__float-item_curr'),\r\n\t\tNext = $('.float-slider__float-item_next'),\r\n\t\tPrev = $('.float-slider__float-item_prev'),\r\n\t\tToNext,\r\n\t\tToPrev;\r\n\r\n\t\tif (_.count > 3) {\r\n\t\t\tToNext = (Next.next('.float-slider__float-item').length) ? Next.next('.float-slider__float-item') : $('.float-slider__float-item').first();\r\n\t\t\tToPrev = (Prev.prev('.float-slider__float-item').length) ? Prev.prev('.float-slider__float-item') : $('.float-slider__float-item').last();\r\n\t\t}\r\n\r\n\t\tif (_.count == 2) {\r\n\t\t\tif (Next.attr('data-index') === '1') {\r\n\t\t\t\tif (dir == 'prev') {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} else if (Prev.attr('data-index') === '0') {\r\n\t\t\t\tif (dir == 'next') {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (_.count == 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tif (!_.animation) {\r\n\r\n\t\t\tif (dir == 'next') {\r\n\t\t\t\t_.animation = true;\r\n\r\n\t\t\t\tNext.addClass('next-to-curr');\r\n\t\t\t\tCurr.addClass('curr-to-prev');\r\n\r\n\t\t\t\tif (_.count > 3) {\r\n\t\t\t\t\tToNext.addClass('to-next');\r\n\t\t\t\t\tPrev.addClass('from-prev');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tPrev.addClass('prev-to-next');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('.float-slider__fade-item').removeClass('float-slider__fade-item_curr');\r\n\r\n\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t$('.float-slider__fade-item[data-index=\"'+ Next.attr('data-index') +'\"]').addClass('float-slider__fade-item_curr');\r\n\r\n\t\t\t\t\tif (_.count > 3) {\r\n\t\t\t\t\t\tToNext.addClass('float-slider__float-item_next').removeClass('to-next');\r\n\t\t\t\t\t\tPrev.removeClass('float-slider__float-item_prev from-prev');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tPrev.addClass('float-slider__float-item_next').removeClass('float-slider__float-item_prev prev-to-next');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tCurr.addClass('float-slider__float-item_prev').removeClass('float-slider__float-item_curr curr-to-prev');\r\n\r\n\t\t\t\t\tNext.addClass('float-slider__float-item_curr').removeClass('float-slider__float-item_next next-to-curr');\r\n\r\n\t\t\t\t\t_.animation = false;\r\n\t\t\t\t\t_.activeDot();\r\n\r\n\t\t\t\t}, 1021);\r\n\t\t\t\t\r\n\t\t\t} else if (dir == 'prev') {\r\n\t\t\t\t_.animation = true;\r\n\r\n\t\t\t\tPrev.addClass('prev-to-curr');\r\n\t\t\t\tCurr.addClass('curr-to-next');\r\n\t\t\t\t\r\n\r\n\t\t\t\tif (_.count > 3) {\r\n\t\t\t\t\tToPrev.addClass('to-prev');\r\n\t\t\t\t\tNext.addClass('from-next');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tNext.addClass('next-to-prev');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('.float-slider__fade-item').removeClass('float-slider__fade-item_curr');\r\n\t\t\t\t\r\n\t\t\t\tsetTimeout(function() {\r\n\r\n\t\t\t\t\t$('.float-slider__fade-item[data-index=\"'+ Prev.attr('data-index') +'\"]').addClass('float-slider__fade-item_curr');\r\n\r\n\t\t\t\t\tPrev.addClass('float-slider__float-item_curr').removeClass('float-slider__float-item_prev prev-to-curr');\r\n\r\n\t\t\t\t\tCurr.addClass('float-slider__float-item_next').removeClass('float-slider__float-item_curr curr-to-next');\r\n\r\n\t\t\t\t\tif (_.count > 3) {\r\n\t\t\t\t\t\tToPrev.addClass('float-slider__float-item_prev').removeClass('to-prev');\r\n\t\t\t\t\t\tNext.removeClass('float-slider__float-item_next from-next');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tNext.addClass('float-slider__float-item_prev').removeClass('float-slider__float-item_next next-to-prev');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_.animation = false;\r\n\t\t\t\t\t_.activeDot();\r\n\r\n\t\t\t\t}, 1021);\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n};\r\n\r\n\r\n$('document').ready(function() {\r\n\r\n\tFlSlider.init();\r\n\r\n\tif ($('.float-slider-control').length) {\r\n\t\tvar s = true;\r\n\t\t$(window).scroll(function() {\r\n\t\t\tif ( $('.float-slider-control').offset().top < (($(window).height()/2)+$(window).scrollTop()) ) {\r\n\t\t\t\tif (s) {\r\n\t\t\t\t\ts = false;\r\n\t\t\t\t\tFlSlider.line();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t$('body').on('click', '.float-slider-control__btn-btn', function() {\r\n\t\tif (!$(this).parent().hasClass('float-slider-control__btn_active')) {\r\n\t\t\tvar ind = +$(this).attr('data-index');\r\n\t\t\tFlSlider.dots(ind);\r\n\t\t}\r\n\t});\r\n\r\n\t$('body').on('click', '.float-slider__dots button', function() {\r\n\t\tif (!$(this).parent().hasClass('float-slider__dots-active')) {\r\n\t\t\tvar ind = +$(this).attr('data-index');\r\n\t\t\tFlSlider.dots(ind);\r\n\t\t}\r\n\t});\r\n\r\n\t$('body').on('click', '.float-slider__arrow', function() {\r\n\t\tvar dir = $(this).attr('data-direct');\r\n\t\tFlSlider.change(dir);\r\n\t});\r\n\r\n\tif (window.innerWidth < 1200) {\r\n\t\t$('.float-slider').swipe({\r\n\t\t\tswipe: function(event, direction) {\r\n\t\t\t\tif (direction == 'right') {\r\n\t\t\t\t\tFlSlider.change('prev');\r\n\t\t\t\t} else if(direction == 'left') {\r\n\t\t\t\t\tFlSlider.change('next');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttriggerOnTouchEnd: false,\r\n\t\t\texcludedElements: '',\r\n\t\t\tthreshold: 21,\r\n\t\t});\r\n\t}\r\n\r\n});","var Form;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//next fieldset\r\n\tvar NextFieldset = {\r\n\r\n\t\tnext: function(elem) {\r\n\t\t\tvar nextFieldset = (elem.hasAttribute('data-next-fieldset-item')) ? document.querySelector(elem.getAttribute('data-next-fieldset-item')) : false;\r\n\r\n\t\t\tif (!nextFieldset) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar currentFieldset = elem.closest('.fieldset__item');\r\n\r\n\t\t\tif (ValidateForm.validate(currentFieldset)) {\r\n\t\t\t\tcurrentFieldset.classList.add('fieldset__item_hidden');\r\n\t\t\t\tnextFieldset.classList.remove('fieldset__item_hidden');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(form, elemStr) {\r\n\r\n\t\t\tform.addEventListener('click', function(e) {\r\n\r\n\t\t\t\tvar elem = e.target.closest(elemStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.next(elem);\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//init forms\r\n\tForm = function(formSelector) {\r\n\r\n\t\tthis.onSubmit = null;\r\n\r\n\t\tvar form = document.querySelector(formSelector);\r\n\r\n\t\tif (!form) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//clear form\r\n\t\tfunction clear() {\r\n\t\t\t//clear inputs\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\telem.value = '';\r\n\t\t\t\tCustomPlaceholder.hidePlaceholder(elem, false);\r\n\t\t\t}\r\n\r\n\t\t\tvar textareaMirrors = form.querySelectorAll('.form__textarea-mirror');\r\n\r\n\t\t\tfor (var i = 0; i < textareaMirrors.length; i++) {\r\n\t\t\t\ttextareaMirrors[i].innerHTML = '';\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//submit button\r\n\t\tfunction actSubmitBtn(st) {\r\n\t\t\tvar elements = form.querySelectorAll('button[type=\"submit\"], input[type=\"submit\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\tif (st) {\r\n\t\t\t\t\t\telem.removeAttribute('disabled');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\telem.setAttribute('disabled', 'disable');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//submit\r\n\t\tfunction submit(e) {\r\n\r\n\t\t\tif (ValidateForm.submit(form)) {\r\n\r\n\t\t\t\tactSubmitBtn(false);\r\n\r\n\t\t\t\tform.classList.add('form_sending');\r\n\r\n\t\t\t\tif (this.onSubmit) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.onSubmit(form, function(obj) {\r\n\t\t\t\t\t\tobj = obj || {};\r\n\r\n\t\t\t\t\t\tactSubmitBtn(obj.unlockSubmitButton);\r\n\r\n\t\t\t\t\t\tform.classList.remove('form_sending');\r\n\r\n\t\t\t\t\t\tif (obj.clearForm == true) {\r\n\t\t\t\t\t\t\tclear();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tform.classList.remove('form_error');\r\n\r\n\t\t\t} else {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tform.classList.add('form_error');\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t//add submit event\r\n\t\tform.addEventListener('submit', submit.bind(this));\r\n\r\n\t\tValidateForm.init(form);\r\n\r\n\t\tNextFieldset.init(form, '.form__button');\r\n\r\n\t}\r\n\t\r\n\r\n}());","var FsScroll = {\r\n\twinH: null,\r\n\tscrolling: false,\r\n\tfactor: 0,\r\n\tscrChangedEv: null,\r\n\tbeforeScrChangeEv: null,\r\n\r\n\tinit: function() {\r\n\t\tvar _ = this;\r\n\t\t_.winH =  window.innerHeight;\r\n\r\n\t\t$('.fsscroll__screen').removeClass('fsscroll__screen_scroll').css('height', 'auto');\r\n\r\n\t\t$('.fsscroll__screen').each(function() {\r\n\t\t\tvar _item = $(this),\r\n\t\t\titemH = _item.innerHeight();\r\n\t\t\tif (itemH <= _.winH) {\r\n\t\t\t\t_item.css('height', _.winH);\r\n\t\t\t} else {\r\n\t\t\t\t_item.addClass('fsscroll__screen_scroll');\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t$('.fsscroll__screen').first().addClass('fsscroll__screen_first fsscroll__screen_current');\r\n\t\t$('.fsscroll__screen').last().addClass('fsscroll__screen_last');\r\n\r\n\t\tsetTimeout(function() {\r\n\t\t\t_.current();\r\n\t\t}, 21);\r\n\r\n\t\t$(window).scroll(function() {\r\n\t\t\tif (!_.scrolling) {\r\n\t\t\t\t_.current();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t_.scrChangedEv = new CustomEvent('scrChanged');\r\n\t\t_.beforeScrChangeEv = new CustomEvent('beforeScrChange');\r\n\r\n\t},\r\n\r\n\tcurrent: function() {\r\n\t\tvar _ = this,\r\n\t\tmidWinScrollTop = $(window).scrollTop() + _.winH / 2;\r\n\r\n\t\t$('.fsscroll__screen').removeClass('fsscroll__screen_current');\r\n\r\n\t\t$('.fsscroll__screen').each(function() {\r\n\t\t\tvar $item = $(this),\r\n\t\t\titemOfsTop = $item.offset().top,\r\n\t\t\titemH = $item.innerHeight();\r\n\r\n\t\t\tif (itemOfsTop <= midWinScrollTop && (itemOfsTop + itemH) >= midWinScrollTop) {\r\n\t\t\t\t$item.addClass('fsscroll__screen_current');\r\n\t\t\t\twindow.dispatchEvent(_.scrChangedEv);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t},\r\n\t\r\n\tmove: function(moveTo, scroll) {\r\n\t\tvar _ = this,\r\n\t\tduration = 1500,\r\n\t\teasing = 'easeInOutCubic';\r\n\r\n\t\t_.scrolling = true;\r\n\r\n\t\tif (scroll) {\r\n\t\t\tduration = 900;\r\n\t\t\teasing = 'easeInOutCubic';\r\n\t\t}\r\n\r\n\t\twindow.dispatchEvent(_.beforeScrChangeEv);\r\n\r\n\t\t$('body, html').stop().animate({scrollTop: moveTo}, duration, easing, function() {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_.current();\r\n\t\t\t\t_.scrolling = false;\r\n\t\t\t\t_.factor = 0;\r\n\t\t\t}, 21);\r\n\t\t});\r\n\t},\r\n\r\n\tmouseScroll: function(delta, factor, fun) {\r\n\t\tvar _ = this,\r\n\t\t$curScr = $('.fsscroll__screen_current'),\r\n\t\twinScrollTop = $(window).scrollTop(),\r\n\t\twinScrollBottom = winScrollTop + _.winH,\r\n\t\t$nextScr;\r\n\r\n\t\tif (delta < 0) {\r\n\t\t\t$nextScr = $curScr.next('.fsscroll__screen');\r\n\r\n\t\t\tif ($curScr.length && !$curScr.hasClass('fsscroll__screen_scroll') && !$curScr.hasClass('fsscroll__screen_last')) {\r\n\t\t\t\tif (!_.scrolling) {\r\n\t\t\t\t\tif ((winScrollTop + 21) < $curScr.offset().top) {\r\n\t\t\t\t\t\t_.move($curScr.offset().top);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_.move($nextScr.offset().top);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif ($nextScr.length && winScrollBottom > $nextScr.offset().top) {\r\n\t\t\t\t\tif (!_.scrolling) {\r\n\t\t\t\t\t\t_.move($nextScr.offset().top);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_.factor = _.factor + factor / 2;\r\n\t\t\t\t\t_.move(winScrollTop + _.factor, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} else if (delta > 0) {\r\n\r\n\t\t\t$nextScr = $curScr.prev('.fsscroll__screen');\r\n\r\n\t\t\tif ($curScr.length && !$curScr.hasClass('fsscroll__screen_scroll') && !$curScr.hasClass('fsscroll__screen_first')) {\r\n\t\t\t\tif (!_.scrolling) {\r\n\t\t\t\t\tif ((winScrollBottom - 21) > ($curScr.offset().top + $curScr.innerHeight())) {\r\n\t\t\t\t\t\t_.move($curScr.offset().top + $curScr.innerHeight() - _.winH);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_.move($nextScr.offset().top + $nextScr.innerHeight() - _.winH);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif ($nextScr.length && ($nextScr.offset().top + $nextScr.innerHeight()) > winScrollTop) {\r\n\t\t\t\t\tif (!_.scrolling) {\r\n\t\t\t\t\t\t_.move($nextScr.offset().top);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_.factor = _.factor + factor / 2;\r\n\t\t\t\t\t_.move(winScrollTop - _.factor, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n};\r\n\r\n\r\n$(document).ready(function() {\r\n\r\n\tif ($('.fsscroll').length) {\r\n\t\t$('.fsscroll').attr('id', 'js-fsscroll');\r\n\r\n\t\t(function initFsS() {\r\n\r\n\t\t\tif (window.innerWidth > 1030) {\r\n\r\n\t\t\t\tFsScroll.init();\r\n\r\n\t\t\t\t$('#js-fsscroll').on('mousewheel', function(e) {\r\n\t\t\t\t\te.preventDefault ? e.preventDefault() : (e.returnValue = false);\r\n\t\t\t\t\tFsScroll.mouseScroll(e.deltaY, e.deltaFactor);\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t$('#js-fsscroll').off('mousewheel');\r\n\r\n\t\t\t\tif (window.innerWidth > 1000) {\r\n\r\n\t\t\t\t\tFsScroll.init();\r\n\r\n\t\t\t\t\t$('.wrapper_fsscroll').swipe({\r\n\t\t\t\t\t\tswipe: function(e, direct, factor) {\r\n\t\t\t\t\t\t\tvar delta;\r\n\t\t\t\t\t\t\tswitch (direct) {\r\n\t\t\t\t\t\t\t\tcase 'down': delta = 1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 'up': delta = -1;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tdefault: delta = 0;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tFsScroll.mouseScroll(delta, factor);\r\n\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tallowPageScroll: 'none',\r\n\t\t\t\t\t\texcludedElements: '',\r\n\t\t\t\t\t\tthreshold: 21,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t$(window).on('winResized', initFsS);\r\n\r\n\t\t})();\r\n\r\n\t}\r\n\r\n});","var flexImg, CoverImg;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//flexible image\r\n\tflexImg = function(elementsStr) {\r\n\r\n\t\tfunction load(elem) {\r\n\r\n\t\t\tif (!elem.hasAttribute('data-images')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar images = elem.getAttribute('data-images').split(',');\r\n\r\n\t\t\timages.forEach(function(image) {\r\n\r\n\t\t\t\tvar imageProp = image.split('->');\r\n\r\n\t\t\t\tif (window.innerWidth < (+imageProp[0])) {\r\n\t\t\t\t\telem.src = imageProp[1];\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\t//init\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\tif (elements.length) {\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tload(elements[i]);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//cover image\r\n\tCoverImg = {\r\n\r\n\t\tcover: function(e) {\r\n\t\t\tvar img = e.currentTarget,\r\n\t\t\timgWrap = img.closest('.cover-img-wrap'),\r\n\t\t\timgProportion = img.offsetWidth/img.offsetHeight,\r\n\t\t\timgWrapProportion = imgWrap.offsetWidth/imgWrap.offsetHeight;\r\n\r\n\t\t\tif (imgWrapProportion != Infinity && imgWrapProportion < 21) {\r\n\r\n\t\t\t\tif (imgProportion <= imgWrapProportion) {\r\n\t\t\t\t\tvar margin = Math.round(-(imgWrap.offsetWidth / imgProportion - imgWrap.offsetHeight) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t\t\timg.style.marginTop = margin +'px';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar margin = Math.round(-(imgWrap.offsetHeight * imgProportion - imgWrap.offsetWidth) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_h');\r\n\t\t\t\t\timg.style.marginLeft = margin +'px';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\treInit: function(parentElementStr) {\r\n\t\t\tvar elements = (parentElementStr) ? document.querySelectorAll(parentElementStr +' .cover-img') : document.querySelectorAll('.cover-img');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar img = elements[i];\r\n\r\n\t\t\t\timg.classList.remove('cover-img_w');\r\n\t\t\t\timg.classList.remove('cover-img_h');\r\n\t\t\t\timg.style.marginTop = '';\r\n\t\t\t\timg.style.marginLeft = '';\r\n\t\t\t\timg.src = (browser == 'ie') ? (img.src +'?'+ new Date().getTime()) : img.src;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(parentElementStr) {\r\n\t\t\tvar elements = (parentElementStr) ? document.querySelectorAll(parentElementStr +' .cover-img, '+ parentElementStr +' .cover-img-wrap') : document.querySelectorAll('.cover-img, .cover-img-wrap');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\timg;\r\n\r\n\t\t\t\tif (elem.classList.contains('cover-img-wrap')) {\r\n\r\n\t\t\t\t\timg = elem.querySelector('img');\r\n\r\n\t\t\t\t\timg.classList.add('cover-img');\r\n\r\n\t\t\t\t} else if (elem.classList.contains('cover-img')) {\r\n\r\n\t\t\t\t\timg = elem;\r\n\r\n\t\t\t\t\timg.parentElement.classList.add('cover-img-wrap');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!img.hasAttribute('data-event')) {\r\n\r\n\t\t\t\t\timg.addEventListener('load', this.cover);\r\n\r\n\t\t\t\t\timg.setAttribute('data-event', 'true');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (browser == 'ie') {\r\n\t\t\t\t\timg.src = img.src +'?'+ new Date().getTime();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}());","$(document).ready(function() {\r\n\r\n\t$('body').find('.more').each(function() {\r\n\t\tvar _ = $(this),\r\n\t\tmoreHeight = _.height(),\r\n\t\tcontent = _.html();\r\n\r\n\t\t_.html('<div class=\"more__inner\">'+ content +'</div>');\r\n\r\n\t\tvar _inner = _.find('.more__inner'),\r\n\t\tinnerHeight = _inner.innerHeight();\r\n\r\n\t\tif (moreHeight < innerHeight) {\r\n\t\t\t_.addClass('more_apply').append('<button class=\"more__button\">Показать</button>');\r\n\t\t\t_inner.css({height: moreHeight}).attr('data-min-height', moreHeight).attr('data-max-height', innerHeight);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$('body').on('click', '.more__button', function() {\r\n\t\tvar _ = $(this),\r\n\t\t_moreInner = _.parent('.more').find('.more__inner'),\r\n\t\tminH = _moreInner.attr('data-min-height'),\r\n\t\tmaxH = _moreInner.attr('data-max-height');\r\n\t\tif (!_.hasClass('more__button_active')) {\r\n\t\t\t_moreInner.css('height', maxH);\r\n\t\t\t_.addClass('more__button_active').html('Скрыть');\r\n\t\t} else {\r\n\t\t\t_moreInner.css('height', minH);\r\n\t\t\t_.removeClass('more__button_active').html('Показать');\r\n\t\t}\r\n\t\treturn false;\r\n\t});\r\n\r\n});","function Mouseparallax(elem, options) {\r\n\tvar _ = this,\r\n\tdefaultOpt = {\r\n\t\tlistener: document,\r\n\t\tdeltaX: 21,\r\n\t\tdeltaY: 21,\r\n\t\trangeX: [],\r\n\t\trangeY: [],\r\n\t},\r\n\toptions = options || {},\r\n\topt = $.extend({}, defaultOpt, options),\r\n\t$elem = $(elem),\r\n\tstartMousePos = {X: 0, Y: 0},\r\n\tlistenerW = $(opt.listener).innerWidth(),\r\n\tlistenerH = $(opt.listener).innerHeight(),\r\n\tcursorPos = {X: 0, Y: 0},\r\n\tdirect = {};\r\n\r\n\t_.translateElement = {X: 0, Y: 0};\r\n\t_.startElementPos = {X: 0, Y: 0};\r\n\r\n\tif ($elem.attr('data-delta-x') != undefined) {\r\n\t\topt.deltaX = +$elem.attr('data-delta-x');\r\n\t}\r\n\r\n\tif ($elem.attr('data-delta-y') != undefined) {\r\n\t\topt.deltaY = +$elem.attr('data-delta-y');\r\n\t}\r\n\r\n\tif ($elem.attr('data-range-x') != undefined) {\r\n\t\topt.rangeX = $elem.attr('data-range-x').split(',');\r\n\t}\r\n\r\n\tif ($elem.attr('data-range-y') != undefined) {\r\n\t\topt.rangeY = $elem.attr('data-range-y').split(',');\r\n\t}\r\n\t\r\n\t$(document).on('mouseenter', opt.listener, function(e) {\r\n\t\tstartMousePos.X = e.clientX;\r\n\t\tstartMousePos.Y = e.clientY;\r\n\t});\r\n\r\n\t$(document).on('mousemove', opt.listener, function(e) {\r\n\r\n\t\tif (e.clientX > cursorPos.X) {\r\n\t\t\tdirect.X = 'right';\r\n\t\t} else {\r\n\t\t\tdirect.X = 'left';\r\n\t\t}\r\n\t\tcursorPos.X = e.clientX;\r\n\r\n\t\tif (e.clientY > cursorPos.Y) {\r\n\t\t\tdirect.Y = 'up';\r\n\t\t} else {\r\n\t\t\tdirect.Y = 'down';\r\n\t\t}\r\n\t\tcursorPos.Y = e.clientY;\r\n\r\n\t\tvar deltaMouse = {\r\n\t\t\tX: e.clientX - startMousePos.X,\r\n\t\t\tY: e.clientY - startMousePos.Y\r\n\t\t};\r\n\r\n\t\t_.translateElement = {\r\n\t\t\tX: deltaMouse.X * (opt.deltaX / listenerW) + _.startElementPos.X,\r\n\t\t\tY: deltaMouse.Y * (opt.deltaY / listenerH) + _.startElementPos.Y\r\n\t\t};\r\n\r\n\t\tvar translateX = _.translateElement.X,\r\n\t\ttranslateY = _.translateElement.Y;\r\n\r\n\t\tif (opt.rangeX) {\r\n\t\t\tif (_.translateElement.X >= opt.rangeX[0]) {\r\n\t\t\t\tif (direct.X == 'left') {\r\n\t\t\t\t\tstartMousePos.X = e.clientX;\r\n\t\t\t\t\t_.startElementPos.X = +opt.rangeX[0];\r\n\t\t\t\t}\r\n\t\t\t\ttranslateX = opt.rangeX[0];\r\n\t\t\t} else if (_.translateElement.X <= opt.rangeX[1]) {\r\n\t\t\t\tif (direct.X == 'right') {\r\n\t\t\t\t\tstartMousePos.X = e.clientX;\r\n\t\t\t\t\t_.startElementPos.X = +opt.rangeX[1];\r\n\t\t\t\t}\r\n\t\t\t\ttranslateX = opt.rangeX[1];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (opt.rangeY) {\r\n\t\t\tif (_.translateElement.Y >= opt.rangeY[0]) {\r\n\t\t\t\tif (direct.Y == 'down') {\r\n\t\t\t\t\tstartMousePos.Y = e.clientY;\r\n\t\t\t\t\t_.startElementPos.Y = +opt.rangeY[0];\r\n\t\t\t\t}\r\n\t\t\t\ttranslateY = opt.rangeY[0];\r\n\t\t\t} else if (_.translateElement.Y <= opt.rangeY[1]) {\r\n\t\t\t\tif (direct.Y == 'up') {\r\n\t\t\t\t\tstartMousePos.Y = e.clientY;\r\n\t\t\t\t\t_.startElementPos.Y = +opt.rangeY[1];\r\n\t\t\t\t}\r\n\t\t\t\ttranslateY = opt.rangeY[1];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$elem.css('transform', 'translate('+ translateX +'px, '+ translateY +'px)');\r\n\r\n\t});\r\n\r\n\t$(document).on('mouseleave', opt.listener, function(e) {\r\n\t\t_.startElementPos.X = _.translateElement.X;\r\n\t\t_.startElementPos.Y = _.translateElement.Y;\r\n\t});\r\n\r\n}\r\n\r\nvar mousePlxObj = [], i = 0, ind;\r\nfunction mouseparallax(elem, options) {\r\n\r\n\tif ($(elem)[0].ind == undefined) {\r\n\t\t$(elem)[0].ind = ind = i;\r\n\t} else {\r\n\t\tind = $(elem)[0].ind;\r\n\t}\r\n\r\n\ti++;\r\n\r\n\tif (!(mousePlxObj[elem+ind] instanceof Mouseparallax)) {\r\n\t\tmousePlxObj[elem+ind] = new Mouseparallax(elem, options);\r\n\t}\r\n\r\n\treturn mousePlxObj[elem+ind];\r\n}","function Numberspin(elem, opt) {\r\n\tvar def = {\r\n\t\tanimation: 1\r\n\t},\r\n\topt = opt || {},\r\n\toptions = $.extend({}, def, opt),\r\n\tinterval = null,\r\n\tanimate = false,\r\n\t$Elem = $(elem),\r\n\tcurVal = 0,\r\n\tval = $Elem.html().replace(/[\\s]/g, ''),\r\n\tpattern = val.match(/[\\.,]/),\r\n\tendVal = +val.replace(/[\\D]/g, '');\r\n\r\n\t$Elem.html(0);\r\n\r\n\tthis.start = function() {\r\n\t\t\r\n\t\tif (!animate) {\r\n\t\t\tanimate = true;\r\n\t\t\tspin();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction spin() {\r\n\r\n\t\tinterval = setTimeout(function run() {\r\n\r\n\t\t\t\tif (curVal < endVal) {\r\n\r\n\t\t\t\t\tif (options.animation == 1) {\r\n\r\n\t\t\t\t\t\tvar d = endVal - curVal;\r\n\r\n\t\t\t\t\t\tif (d > 1213214321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 1213214321321;\r\n\t\t\t\t\t\t} else if (d > 3214321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 3214321321;\r\n\t\t\t\t\t\t} else if (d > 4321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 4321321;\r\n\t\t\t\t\t\t} else if (d > 321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 321321;\r\n\t\t\t\t\t\t} else if (d > 32321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 32321;\r\n\t\t\t\t\t\t} else if (d > 2321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 2321;\r\n\t\t\t\t\t\t} else if (d > 1321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 1321;\r\n\t\t\t\t\t\t} else if (d > 321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 321;\r\n\t\t\t\t\t\t} else if (d > 21) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 21;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcurVal++;\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t} else if (options.animation == 2) {\r\n\r\n\t\t\t\t\t\tvar endValArr = String(endVal).split(''),\r\n\t\t\t\t\t\tcurValArr = String(curVal).split('');\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < endValArr.length; i++) {\r\n\t\t\t\t\t\t\tif (curValArr[i]) {\r\n\t\t\t\t\t\t\t\tif (curValArr[i] < endValArr[i] && curValArr[i-1] == endValArr[i-1]) {\r\n\t\t\t\t\t\t\t\t\tcurValArr[i]++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (curValArr[i-1] && curValArr[i-1] == endValArr[i-1]) {\r\n\t\t\t\t\t\t\t\tcurValArr[i] = 0;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcurVal = curValArr.join('');\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar output = String(curVal);\r\n\r\n\t\t\t\t\tif (pattern) {\r\n\t\t\t\t\t\toutput = output.replace(new RegExp('(\\\\d{'+ pattern.index +'})'), '$1'+ pattern[0]);\r\n\t\t\t\t\t\toutput = output.replace(new RegExp('(\\\\d)?(?=(\\\\d{3})+?\\\\'+ pattern[0] +')', 'g'), '$1 ');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toutput = output.replace(/(\\d)?(?=(\\d{3})+$)/g, '$1 ');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t$Elem.html(output);\r\n\r\n\t\t\t\t\tsetTimeout(run, 85);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstop();\r\n\t\t\t\t}\r\n\r\n\t\t}, 1);\r\n\r\n\t}\r\n\r\n\tfunction stop() {\r\n\t\tclearTimeout(interval);\r\n\t}\r\n\r\n}\r\n\r\nvar numberspinObj = [], i = 0, ind;\r\nfunction numberspin(elem, opt) {\r\n\tif ($(elem)[0].ind == undefined) {\r\n\t\t$(elem)[0].ind = ind = i;\r\n\t} else {\r\n\t\tind = $(elem)[0].ind;\r\n\t}\r\n\r\n\tif (!(numberspinObj[elem+ind] instanceof Numberspin)) {\r\n\t\tnumberspinObj[elem+ind] = new Numberspin(elem, opt);\r\n\t}\r\n\ti++;\r\n\r\n\treturn numberspinObj[elem+ind];\r\n}","var Popup;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tPopup = {\r\n\r\n\t\twinScrollTop: 0,\r\n\r\n\t\tfixBody: function(st) {\r\n\r\n\t\t\tif (st) {\r\n\t\t\t\tthis.winScrollTop = window.pageYOffset;\r\n\r\n\t\t\t\tdocument.body.classList.add('popup-is-opened');\r\n\t\t\t\tdocument.body.style.top = -this.winScrollTop +'px';\r\n\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove('popup-is-opened');\r\n\r\n\t\t\t\twindow.scrollTo(0, this.winScrollTop);\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\topen: function(elenentStr) {\r\n\t\t\tvar elem = document.querySelector(elenentStr);\r\n\r\n\t\t\tif (!elem || !elem.classList.contains('popup__window')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar elemParent = elem.parentElement;\r\n\r\n\t\t\tthis.fixBody(true);\r\n\t\t\t\r\n\t\t\telemParent.classList.add('popup_visible');\r\n\r\n\t\t\telem.classList.add('popup__window_visible');\r\n\r\n\t\t},\r\n\r\n\t\tclose: function() {\r\n\r\n\t\t\tvar elements = document.querySelectorAll('.popup__window');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.classList.contains('popup__window_visible')) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.remove('popup__window_visible');\r\n\t\t\t\telem.parentElement.classList.remove('popup_visible');\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(false);\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\r\n\t\t\tdocument.addEventListener('click', function(e) {\r\n\t\t\t\tvar element = e.target.closest(elementStr),\r\n\t\t\t\tcloseElem = e.target.closest('.popup__close');\r\n\r\n\t\t\t\tif (element) {\r\n\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.open(element.getAttribute('data-popup'));\r\n\r\n\t\t\t\t} else if (closeElem) {\r\n\r\n\t\t\t\t\tthis.close();\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\r\n}());\r\n\r\n\r\n\r\nvar pPopup = {\r\n\tcloseCallback: function() {},\r\n\tplay: null,\r\n\tind: 0,\r\n\tgroup: null,\r\n\tposition: 0,\r\n\r\n\tshow: function(id, fun) {\r\n\t\tvar _ = this,\r\n\t\t$popWin = $(id),\r\n\t\t$popup = $popWin.closest('.popup');\r\n\t\t\r\n\t\tif ($popWin.length && $popWin.hasClass('popup__window')) {\r\n\r\n\t\t\t_.position = $(window).scrollTop();\r\n\t\t\t$popup.fadeIn(321).scrollTop(0);\r\n\t\t\t$('.popup__window').removeClass('popup__window_visible');\r\n\t\t\t$popWin.addClass('popup__window_visible');\r\n\t\t\t$('body').css('top', -_.position).addClass('is-popup-opened');\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tCoverImg.reInit('#media-popup');\r\n\t\t\t}, 721);\r\n\r\n\t\t}\r\n\r\n\t\t_.closeCallback = fun || function() {};\r\n\t},\r\n\r\n\thide: function() {\r\n\t\tvar _ = this;\r\n\t\t$('.popup__window').removeClass('popup__window_visible');\r\n\t\t$('.popup').fadeOut(321);\r\n\t\t$('.popup__message').remove();\r\n\t\t$('body').removeClass('is-popup-opened').removeAttr('style');\r\n\t\t$('html, body').scrollTop(_.position);\r\n\t\t_.closeCallback();\r\n\t},\r\n\r\n\tmessage: function(id,msg,fun) {\r\n\t\tvar _ = this;\r\n\t\t$(id).find('.popup__inner').prepend('<div class=\"popup__message\">'+ msg +'</div>');\r\n\t\t_.show(id);\r\n\t\t_.closeCallback = fun || function() {};\r\n\t},\r\n\r\n\t/*resize: function($pop, $img) {\r\n\t\tvar popH = $pop.innerHeight();\r\n\t\tif (popH > window.innerHeight) {\r\n\t\t\t$pop.css('max-width', (window.innerHeight * ($pop.innerWidth() / popH)));\r\n\t\t}\r\n\t},*/\r\n\r\n\tmedia: function(_$,args,show) {\r\n\t\tvar _ = this,\r\n\t\tid = $(_$).attr('data-popup'),\r\n\t\tPop = $(id),\r\n\t\t$box = Pop.find('.popup-media__box'),\r\n\t\tImg = Pop.find('.popup-media__image'),\r\n\t\tBtnPlay = Pop.find('.popup-media__play'),\r\n\t\tIframe = Pop.find('.popup-media__iframe');\r\n\r\n\t\tif (args.data) {\r\n\t\t\tPop.find('.popup-media__bar').css('display', 'block');\r\n\t\t\tvar data = JSON.parse( args.data );\r\n\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\tPop.find('.popup-media__data-'+ i).html(data[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (args.imgSize) {\r\n\t\t\tvar imgSize = JSON.parse(args.imgSize);\r\n\t\t\tImg.attr('width', imgSize[0]).attr('height', imgSize[1]);\r\n\t\t} else {\r\n\t\t\tImg.attr('width', '').attr('height', '');\r\n\t\t}\r\n\r\n\t\tif (args.img) {\r\n\t\t\tImg.css({visibility: 'visible', marginLeft: '', marginTop: ''}).removeClass('cover-img_w cover-img_h').attr('src', args.img);\r\n\t\t}\r\n\t\t\r\n\t\t//Pop.css('max-width', '');\r\n\t\tIframe.css('visibility', 'hidden').attr('src', '');\r\n\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t\r\n\t\tif (args.vid) {\r\n\t\t\t$box.removeClass('middle').addClass('cover-img-wrap');\r\n\t\t\tImg.removeClass('middle__img').addClass('cover-img');\r\n\t\t\tBtnPlay.css('visibility', 'visible').attr('href', args.vid);\r\n\r\n\t\t\t_.play = function() {\r\n\t\t\t\tvar utm = args.vid.match(/(?:youtu\\.be\\/|youtube\\.com\\/watch\\?v\\=|youtube\\.com\\/embed\\/)+?([\\w-]+)/i),\r\n\t\t\t\tifrSrc = 'https://www.youtube.com/embed/'+ utm[1] +'?autoplay=1';\r\n\t\t\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t\t\tImg.css('visibility', 'hidden');\r\n\t\t\t\tIframe.css('visibility', 'visible').attr('src', ifrSrc);\r\n\t\t\t}\r\n\r\n\t\t\tif (!args.img) {\r\n\t\t\t\t_.play();\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tCoverImg.init(id);\r\n\t\t\t\t\tImg.attr('src', args.img);\r\n\t\t\t\t}, 721);\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\r\n\t\t} else {\r\n\t\t\t$box.removeClass('cover-img-wrap').addClass('middle');\r\n\t\t\tImg.removeClass('cover-img').addClass('middle__img');\r\n\t\t}\r\n\r\n\r\n\r\n\t\tif (args.group) {\r\n\t\t\tPop.find('.popup-media__arr').css('display', 'block');\r\n\t\t\t_.group =  $(_$).attr('data-group');\r\n\t\t\t_.ind = $('[data-group=\"'+ _.group +'\"]').index(_$);\r\n\t\t}\r\n\r\n\t\tif (show) {\r\n\t\t\t_.show(id);\r\n\t\t}\r\n\r\n\t\t/*if (!args.vid) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_.resize(Pop, Img);\r\n\t\t\t}, 721);\r\n\t\t}*/\r\n\r\n\t\t_.closeCallback = function() {\r\n\t\t\tImg.css('visibility', 'hidden').attr('src', '');\r\n\t\t\tIframe.css('visibility', 'hidden').attr('src', '');\r\n\t\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tnext: function(dir) {\r\n\t\tvar _ = this,\r\n\t\t$next,\r\n\t\tind = _.ind;\r\n\r\n\t\tif (dir == 'next') {\r\n\t\t\tind++;\r\n\t\t\tif ($('[data-group=\"'+ _.group +'\"]').eq(ind).length) {\r\n\t\t\t\t$next = $('[data-group=\"'+ _.group +'\"]').eq(ind);\r\n\t\t\t}\r\n\t\t} else if (dir == 'prev' && ind > 0) {\r\n\t\t\tind--;\r\n\t\t\tif ($('[data-group=\"'+ _.group +'\"]').eq(ind).length) {\r\n\t\t\t\t$next = $('[data-group=\"'+ _.group +'\"]').eq(ind);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ($next) {\r\n\t\t\tvar args;\r\n\r\n\t\t\tif ($next.hasClass('js-open-popup-image')) {\r\n\t\t\t\targs = {\r\n\t\t\t\t\timg: $next.attr('href'),\r\n\t\t\t\t\timgSize: $next.attr('data-image-size'),\r\n\t\t\t\t\tgroup: $next.attr('data-group'),\r\n\t\t\t\t\tdata: $next.attr('data-data')\r\n\t\t\t\t};\r\n\t\t\t} else if ($next.hasClass('js-open-popup-video')) {\r\n\t\t\t\targs = {\r\n\t\t\t\t\tvid: $next.attr('href'),\r\n\t\t\t\t\timg: $next.attr('data-preview'),\r\n\t\t\t\t\timgSize: $next.attr('data-preview-size'),\r\n\t\t\t\t\tgroup: $next.attr('data-group'),\r\n\t\t\t\t\tdata: $next.attr('data-data')\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t_.media($next, args);\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n};\r\n\r\n\r\n$(document).ready(function() {\r\n\t/*$('body').on('click', '.js-open-popup', function () {\r\n\t\tPopup.show($(this).attr('data-popup'));\r\n\t\treturn false;\r\n\t});*/\r\n\r\n\t$('body').on('click', '.js-open-popup-image', function () {\r\n\t\tvar args = {\r\n\t\t\timg: $(this).attr('href'),\r\n\t\t\timgSize: $(this).attr('data-image-size'),\r\n\t\t\tgroup: $(this).attr('data-group'),\r\n\t\t\tdata: $(this).attr('data-data')\r\n\t\t};\r\n\t\tPopup.media(this, args, true);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-popup-video', function () {\r\n\t\tvar args = {\r\n\t\t\tvid: $(this).attr('href'),\r\n\t\t\timg: $(this).attr('data-preview'),\r\n\t\t\timgSize: $(this).attr('data-preview-size'),\r\n\t\t\tgroup: $(this).attr('data-group'),\r\n\t\t\tdata: $(this).attr('data-data')\r\n\t\t};\r\n\t\tPopup.media(this, args, true);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup-media__play', function () {\r\n\t\tPopup.play();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup-media__arr', function () {\r\n\t\tPopup.next($(this).attr('data-dir'));\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-msg-popup', function () {\r\n\t\tPopup.message('#message-popup', 'Это всплывашка с сообщением.<br> вызов: <span class=\"c-red\">Popup.message(\"#id\", \"Текст или html\");</span>', function() { alert('После закрытия'); });\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup__close', function () {\r\n\t\tPopup.hide();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup', function(e) {\r\n\t\tif (!$(e.target).closest('.popup__window').length) {\r\n\t\t\tPopup.hide();\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tif (window.location.hash) {\r\n\t\tvar hash = window.location.hash;\r\n\t\tif($(hash).length && $(hash).hasClass('popup__window')){\r\n\t\t\tPopup.show(hash);\r\n\t\t}\r\n\t}\r\n\r\n});",";(function() {\r\n\r\n\t\tvar href = window.location.href;\r\n\r\n\t\tvar Share = {\r\n\t\t\tvkontakte: function() {\r\n\t\t\t\turl  = 'http://vkontakte.ru/share.php?';\r\n\t\t\t\turl += 'url=' + encodeURIComponent( href );\r\n\t\t\t\tShare.popup(url);\r\n\t\t\t},\r\n\t\t\tfacebook: function() {\r\n\t\t\t\turl  = 'http://www.facebook.com/sharer.php?';\r\n\t\t\t\turl += 'u=' + encodeURIComponent( href );\r\n\t\t\t\tShare.popup(url);\r\n\t\t\t},\r\n\t\t\ttwitter: function() {\r\n\t\t\t\turl  = 'http://twitter.com/share?';\r\n\t\t\t\turl += 'url=' + encodeURIComponent( href );\r\n\t\t\t\tShare.popup(url);\r\n\t\t\t},\r\n\t\t\todnoklasniki: function() {\r\n\t\t\t\turl  = 'https://connect.ok.ru/dk?st.cmd=WidgetSharePreview';\r\n\t\t\t\turl += '&st.shareUrl=' + encodeURIComponent( href );\r\n\t\t\t\tShare.popup(url);\r\n\t\t\t},\r\n\r\n\t\t\tpopup: function(url) {\r\n\t\t\t\twindow.open(url,'','toolbar=0,status=0,width=626,height=436');\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t$(document).ready(function() {\r\n\r\n\t\t$('.js-share-vk').click(function() {\r\n\t\t\tShare.vkontakte();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\t$('.js-share-fb').click(function() {\r\n\t\t\tShare.facebook();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\t$('.js-share-tw').click(function() {\r\n\t\t\tShare.twitter();\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\t$('.js-share-ok').click(function() {\r\n\t\t\tShare.odnoklasniki();\r\n\t\t\treturn false;\r\n\t\t});\r\n\r\n\t});\r\n\r\n\r\n}());","var Tab = {\r\n\ttabBlock: null,\r\n\tinit: function() {\r\n\t\tvar _ = this;\r\n\t\t$('.tab').each(function() {\r\n\t\t\t_.tabBlock = $(this);\r\n\t\t\t_.setHeight();\r\n\t\t});\r\n\t},\r\n\tbutton: function(_btn) {\r\n\t\tvar _ = this,\r\n\t\t$btn = $(_btn);\r\n\t\ttab = $btn.attr('data-tab');\r\n\t\t_.tabBlock = $(_btn).closest('.tab');\r\n\r\n\t\tif (!$btn.hasClass('tab__button_active')) {\r\n\t\t\t_.tabBlock.find('.tab__button').removeClass('tab__button_active');\r\n\t\t\t$btn.addClass('tab__button_active');\r\n\r\n\t\t\t_.changeItem(tab);\r\n\t\t}\r\n\t\t\r\n\t},\r\n\tchangeItem: function(tab) {\r\n\t\tvar _ = this,\r\n\t\t$tabItem = this.tabBlock.find('.tab__item_'+ tab);\r\n\t\t_.tabBlock.find('.tab__item').removeClass('tab__item_active');\r\n\t\t_.setHeight($tabItem);\r\n\t\tsetTimeout(function() {\r\n\t\t\t$tabItem.addClass('tab__item_active');\r\n\t\t}, 321);\r\n\t},\r\n\tsetHeight: function($tabItem) {\r\n\t\tvar _ = this,\r\n\t\t$container = this.tabBlock.find('.tab__container'),\r\n\t\t$activeItem = ($tabItem) ? $tabItem : _.tabBlock.find('.tab__item_active');\r\n\t\t$container.css('height', $activeItem.innerHeight());\r\n\t}\r\n};\r\n\r\n$(document).ready(function() {\r\n\tTab.init();\r\n\t$('body').on('click', '.tab__button', function() {\r\n\t\tTab.button(this);\r\n\t});\r\n});","var Timer = {\r\n\tmin: 0,\r\n\tsec: 0,\r\n\tInterval: null,\r\n\tonStop: null,\r\n\tinit: function(initVal, onStop) {\r\n\r\n\t\tthis.onStop = onStop || null;\r\n\t\t\r\n\t\tfunction setCookies() {\r\n\t\t\tvar date = new Date(Date.now() + 86400000);\r\n\t\t\tdocument.cookie = 'lastTimer='+ Date.now() +'; expires='+ date.toUTCString();\r\n\t\t}\r\n\r\n\t\tfunction getCookies() {\r\n\t\t\tvar val;\r\n\t\t\tif (document.cookie) {\r\n\t\t\t\tvar cokArr = document.cookie.replace(/(\\s)+/g, '').split(';');\r\n\t\t\t\tfor (var i = 0; i < cokArr.length; i++) {\r\n\t\t\t\t\tvar keyVal = cokArr[i].split('=');\r\n\t\t\t\t\tif (keyVal[0] == 'lastTimer') {\r\n\t\t\t\t\t\tval = keyVal[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn val || undefined;\r\n\t\t}\r\n\r\n\t\tvar cokValue = getCookies();\r\n\r\n\t\tif (cokValue) {\r\n\t\t\tvar delta = Math.round((Date.now()-cokValue)/1000);\r\n\t\t\tif (delta < initVal) {\r\n\t\t\t\tinitVal = initVal-delta;\r\n\t\t\t} else {\r\n\t\t\t\tsetCookies();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetCookies();\r\n\t\t}\r\n\r\n\t\tthis.min = (initVal > 60) ? Math.floor(initVal/60) : 0;\r\n\t\tthis.sec = (initVal > 60) ? Math.round(initVal%60) : initVal;\r\n\r\n\t\tthis.start();\r\n\t},\r\n\tcounter: function() {\r\n\t\tvar _ = this;\r\n\t\t_.Interval = setInterval(function() {\r\n\t\t\tif (_.sec == 0) {\r\n\t\t\t\tif (_.min == 0) {\r\n\t\t\t\t\t_.stop();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t_.sec = 59;\r\n\t\t\t\t\t_.min--;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t_.sec--;\r\n\t\t\t}\r\n\t\t\t_.output();\r\n\t\t}, 1000);\r\n\t},\r\n\tstart: function() {\r\n\t\tthis.counter();\r\n\t},\r\n\tstop: function() {\r\n\t\tclearInterval(this.Interval);\r\n\t\tif (this.onStop) {\r\n\t\t\tthis.onStop();\r\n\t\t}\r\n\t},\r\n\toutput: function() {\r\n\t\tvar _ = this, \r\n\t\tminO  = '',\r\n\t\tsecTxt = 'секунд',\r\n\t\tsec,\r\n\t\toutput;\r\n\r\n\t\tif (_.min != 0) {\r\n\t\t\tif (_.min == 1) {\r\n\t\t\t\tminO = _.min +' минуту';\r\n\t\t\t} else if (_.min < 5) {\r\n\t\t\t\tminO = _.min +' минуты';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (_.sec == 1 || _.sec == 21) {\r\n\t\t\tsecTxt = 'секунду';\r\n\t\t} else if (_.sec < 5) {\r\n\t\t\tsecTxt = 'секунды';\r\n\t\t} else if (_.sec < 21) {\r\n\t\t\tsecTxt = 'секунд';\r\n\t\t}\r\n\r\n\t\tsec = (_.sec < 10) ? '0'+ _.sec : _.sec;\r\n\t\t\r\n\t\toutput = [minO, sec, secTxt].join(' '); \r\n\t\t\r\n\t\tvar el = document.getElementById('timer');\r\n\t\tel.innerHTML = output;\r\n\t}\r\n};","var ValidateForm;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tValidateForm = {\r\n\r\n\t\tinput: null,\r\n\r\n\t\terrorTip: function(err, errInd) {\r\n\t\t\tvar field = this.input.closest('.form__field'),\r\n\t\t\terrTip = field.querySelector('.form__error-tip');\r\n\r\n\t\t\tif (err) {\r\n\r\n\t\t\t\tfield.classList.add('form__field_error');\r\n\r\n\t\t\t\tif (errInd) {\r\n\t\t\t\t\tif (!errTip.getAttribute('data-error-text')) {\r\n\t\t\t\t\t\terrTip.setAttribute('data-error-text', errTip.innerHTML);\r\n\t\t\t\t\t}\r\n\t\t\t\t\terrTip.innerHTML = errTip.getAttribute('data-error-text-'+ errInd);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tfield.classList.remove('form__field_error');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tcustomErrorTip: function($inp, errorTxt) {\r\n\t\t\tvar _ = this;\r\n\r\n\t\t\t_.$input = $inp;\r\n\t\t\t_.errorTip(true, 'custom', errorTxt);\r\n\t\t},\r\n\r\n\t\tdate: function() {\r\n\t\t\tvar err = false,\r\n\t\t\tvalidDate = function(val) {\r\n\t\t\t\tvar _reg = new RegExp(\"^([0-9]{2}).([0-9]{2}).([0-9]{4})$\"),\r\n\t\t\t\tmatches = _reg.exec(val);\r\n\t\t\t\tif (!matches) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar now = new Date(),\r\n\t\t\t\tcDate = new Date(matches[3], (matches[2] - 1), matches[1]);\r\n\t\t\t\treturn ((cDate.getMonth() == (matches[2] - 1)) && (cDate.getDate() == matches[1]) && (cDate.getFullYear() == matches[3]) && (cDate.valueOf() < now.valueOf()));\r\n\t\t\t};\r\n\r\n\t\t\tif (!validDate(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\temail: function() {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^[a-z0-9]+[\\w\\-\\.]*@[\\w\\-]{2,}\\.[a-z]{2,6}$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\ttel: function() {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^\\+7\\([0-9]{3}\\)[0-9]{3}-[0-9]{2}-[0-9]{2}$/.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tpass: function() {\r\n\t\t\tvar err = false,\r\n\t\t\tminLng = this.input.getAttribute('data-min-length');\r\n\r\n\t\t\tif (minLng && this.input.value.length < minLng) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tselect: function(elem) {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tvalidateOnInputOrBlur: function(e) {\r\n\r\n\t\t\tvar elem = e.target.closest('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tif (!elem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tif (e.type == 'blur') {\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\t\t\t} else if (e.type == 'input' && !elem.getAttribute('data-tested')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar type = elem.getAttribute('data-type'),\r\n\t\t\tval = elem.value;\r\n\r\n\t\t\tif (elem.getAttribute('data-required') && !val.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t} else if (val.length && type) {\r\n\t\t\t\tthis[type]();\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tfile: function(e) {\r\n\r\n\t\t\tif (e) {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"file\"]');\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.input = elem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar err = false,\r\n\t\t\terrCount = {type: 0, size: 0},\r\n\t\t\tfiles = this.input.files,\r\n\t\t\ttype = this.input.getAttribute('data-type'),\r\n\t\t\tmaxSize = +this.input.getAttribute('data-max-size');\r\n\r\n\t\t\tfor (var i = 0; i < files.length; i++) {\r\n\r\n\t\t\t\tvar file = files[i];\r\n\r\n\t\t\t\tif (!file.type.match(type)) {\r\n\t\t\t\t\terrCount.type++;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (file.size > maxSize) {\r\n\t\t\t\t\terrCount.size++;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (errCount.type) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.size) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tvalidate: function(form) {\r\n\t\t\tvar err = 0;\r\n\r\n\t\t\t//text, password, textarea\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\r\n\t\t\t\tvar inpType = elem.getAttribute('data-type');\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\t\t\t\t\tif (inpType && this[inpType]()) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (elem.getAttribute('data-required')) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//select\r\n\t\t\tvar elements = form.querySelectorAll('.custom-select__input');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elementIsHidden(elem.parentElement)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.select(elem)) {\r\n\t\t\t\t\terr++;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//checkboxes\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"checkbox\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.checked) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//checkbox group\r\n\t\t\tvar groups = form.querySelectorAll('.form__chbox-group');\r\n\r\n\t\t\tfor (var i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElements = 0;\r\n\r\n\t\t\t\tif (elementIsHidden(group)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tfor (var j = 0; j < elements.length; j++) {\r\n\t\t\t\t\tif (elements[j].checked) {\r\n\t\t\t\t\t\tcheckedElements++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (checkedElements < group.getAttribute('data-min')) {\r\n\t\t\t\t\tgroup.classList.add('form__chbox-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__chbox-group_error');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//radio group\r\n\t\t\tvar groups = form.querySelectorAll('.form__radio-group');\r\n\r\n\t\t\tfor (var i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElement = false;\r\n\r\n\t\t\t\tif (elementIsHidden(group)) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"radio\"]');\r\n\r\n\t\t\t\tfor (var j = 0; j < elements.length; j++) {\r\n\t\t\t\t\tif (elements[j].checked) {\r\n\t\t\t\t\t\tcheckedElement = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!checkedElement) {\r\n\t\t\t\t\tgroup.classList.add('form__radio-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__radio-group_error');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//file\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"file\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tif (elem.files.length) {\r\n\t\t\t\t\tif (this.file()) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (elem.getAttribute('data-required')) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//passwords compare\r\n\t\t\tvar elements = form.querySelectorAll('input[data-pass-compare-input]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tvar val = elem.value;\r\n\r\n\t\t\t\tif (val.length) {\r\n\t\t\t\t\tvar compElemVal = form.querySelector(elem.getAttribute('data-pass-compare-input')).value;\r\n\r\n\t\t\t\t\tif (val !== compElemVal) {\r\n\t\t\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn (err) ? false : true;\r\n\t\t},\r\n\r\n\t\tsubmit: function(form) {\r\n\r\n\t\t\treturn this.validate(form);\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(form) {\r\n\r\n\t\t\tform.addEventListener('input', this.validateOnInputOrBlur.bind(this));\r\n\r\n\t\t\tform.addEventListener('blur', this.validateOnInputOrBlur.bind(this), true);\r\n\r\n\t\t\tform.addEventListener('change', this.file.bind(this));\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}());"]}