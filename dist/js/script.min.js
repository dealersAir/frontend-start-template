var winW,winH,elementIsHidden;!function(){"use strict";document.documentElement.setAttribute("data-useragent",navigator.userAgent),winW=window.innerWidth,winH=window.innerHeight,window.addEventListener("winResized",function(){winW=window.innerWidth,winH=window.innerHeight});try{new CustomEvent("IE has CustomEvent, but doesn't support constructor")}catch(e){window.CustomEvent=function(e,t){var n;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},CustomEvent.prototype=Object.create(window.Event.prototype)}var e=new CustomEvent("winResized"),t=!0;window.addEventListener("resize",function(){t&&(t=!1,setTimeout(function(){window.dispatchEvent(e),t=!0},1021))}),Element.prototype.closest||function(e){e.matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype),elementIsHidden=function(e){if(e){for(;e&&e;){var t=getComputedStyle(e);if("none"==t.display||"hidden"==t.visibility||"0"==t.opacity)return!0;e=e.parentElement}return!1}}}();
$(document).ready(function(){$("body").on("click",".accord__button",function(){var c=$(this),o=c.closest(".accord__item").find(".accord__content");return c.hasClass("accord__button_active")?(o.slideUp(321),c.removeClass("accord__button_active")):(c.closest(".accord").find(".accord__content").slideUp(321),c.closest(".accord").find(".accord__button").removeClass("accord__button_active"),o.slideDown(321,function(){$("body,html").animate({scrollTop:c.offset().top-$(".header").innerHeight()},900,"easeOutExpo")}),c.addClass("accord__button_active")),!1})});
var Ajax={take:function(a,t,r,o){var e=this;$.ajax({url:a,type:"POST",dataType:"html",data:t,success:function(a){a&&(e.put(a,r),setTimeout(o,721))},error:function(){alert("Send Error")}})},put:function(a,t){var r=$(t);r.hasClass("popup__window")?(r.find(".popup__inner").html(a),Popup.show(t)):(r.append(a),coverImg())}};$(document).ready(function(){if($("body").on("click",".js-ajax",function(){var a=$(this);if(!a.hasClass("lock")){a.addClass("lock");var t=a.attr("href")||"#"+a.attr("data-id"),r=a.attr("data-url"),o=a.attr("data-data");if(a.attr("data-page")){var e=+a.attr("data-page");o+="&page="+e,Ajax.take(r,o,t,function(){e++,a.attr("data-page",e).removeClass("lock")})}else Ajax.take(r,o,t,function(){a.removeClass("lock")})}return!1}),$(".js-ajax-scroll").length&&$(window).width()>1e3){var a=$(window).height();$(window).scroll(function(){var t=($(window).scrollTop(),$(".js-ajax-scroll"));if(t.offset().top<a&&!t.hasClass("lock")){t.addClass("lock");var r="#"+t.attr("data-id"),o=t.attr("data-url"),e=t.attr("data-data"),s=+t.attr("data-page");e+="&page="+s,Ajax.take(o,e,r,function(){s++,t.attr("data-page",s).removeClass("lock")})}})}});
$(document).ready(function(){if($("body").on("click",".js-anchor",function(){var t=$(this).attr("href"),o="#"+t.split("#")[1];if($(o).length){var a=$(o).attr("data-anchor-offset")?$(o).offset().top:$(o).offset().top-$(".header").innerHeight()-35;return $("html, body").stop().animate({scrollTop:a},1021,"easeInOutQuart"),!1}}),window.location.hash){var t=window.location.hash;$(t).length&&!$(t).hasClass("popup__window")&&($("html, body").stop().animate({scrollTop:0},1),window.onload=function(){var o=$(t).attr("data-anchor-offset")?$(t).offset().top:$(t).offset().top-$(".header").innerHeight()-35;$("html, body").stop().animate({scrollTop:o},1021,"easeInOutQuart")})}});
$(document).ready(function(){$("body").on("click",".js-toggle",function(){function t(t){if(t){var a=$(window).scrollTop();$("body").css("top",-a).attr("data-position",a).addClass("is-menu-opened")}else $("body").removeClass("is-menu-opened").removeAttr("style"),$("html,body").scrollTop($("body").attr("data-position"))}function a(a){if(o){var s=$(o),d=e.attr("data-role");a?s.addClass("toggled"):s.removeClass("toggled"),d&&"menu"==d&&t(a)}}var e=$(this),o=e.attr("data-target-elements"),s=e.attr("data-init-click-on-elements");if(s&&$(s).not(this).click(),e.hasClass("toggled")){a(0),e.removeClass("toggled");var d=e.attr("data-first-button-text");d&&e.html(d)}else{a(1),e.addClass("toggled");var l=e.attr("data-second-button-text");l&&(e.attr("data-first-button-text")||e.attr("data-first-button-text",e.html()),e.html(l))}return!1})});
var CustomPlaceholder,CustomSelect;!function(){"use strict";function e(e){document.querySelectorAll(e).forEach(function(e,t){var l=e.parentElement.querySelector("label"),i=e.hasAttribute("id")?e.id:"keylabel-"+t;l.hasAttribute("for")||(l.htmlFor=i,e.id=i)})}var t={change:function(e){var t=!!e.hasAttribute("data-target-elements")&&document.querySelectorAll(e.getAttribute("data-target-elements"));t&&t.forEach(function(t){t.style.display=e.checked?"block":"none"})},init:function(){document.addEventListener("change",function(e){var t=e.target.closest('input[type="checkbox"]');t&&this.change(t)}.bind(this))}},l={change:function(e){document.querySelectorAll('input[type="radio"][name="'+e.name+'"]').forEach(function(e){var t=!!e.hasAttribute("data-target-elements")&&document.querySelectorAll(e.getAttribute("data-target-elements"));t&&t.forEach(function(t){t.style.display=e.checked?"block":"none"})})},init:function(){document.addEventListener("change",function(e){var t=e.target.closest('input[type="radio"]');t&&this.change(t)}.bind(this))}};CustomPlaceholder={init:function(e){document.querySelectorAll(e).forEach(function(e,t){if(e.placeholder){var l=e.id?e.id:"placeholder-index-"+t,i=document.createElement("label");i.htmlFor=l,i.className="custom-placeholder",i.innerHTML=e.placeholder,e.parentElement.insertBefore(i,e),e.removeAttribute("placeholder"),e.id||(e.id=l)}e.value.length&&this.hidePlaceholder(e,!0)}),document.addEventListener("focus",function(t){var l=t.target.closest(e);l&&this.hidePlaceholder(l,!0)}.bind(this),!0),document.addEventListener("blur",function(t){var l=t.target.closest(e);l&&this.hidePlaceholder(l,!1)}.bind(this),!0)},hidePlaceholder:function(e,t){var l=document.querySelector('label[for="'+e.id+'"]');if(l){var i=l.style;t?(i.textIndent="-9999px",i.paddingLeft="0px",i.paddingRight="0px"):e.value.length||(i.textIndent="",i.paddingLeft="",i.paddingRight="")}}},CustomSelect={field:null,close:function(){document.querySelectorAll(".custom-select").forEach(function(e){e.classList.remove("custom-select_opened")}),document.querySelectorAll(".custom-select__options li").forEach(function(e){e.classList.remove("hover")})},open:function(){this.field.classList.add("custom-select_opened"),this.field.querySelector(".custom-select__options").scrollTop=0},selectMultipleVal:function(e,t,l){var i=[],s=[],c=this.field.querySelector(".custom-select__multiple-inputs");if(e.classList.toggle("custom-select__val_checked"),this.field.querySelectorAll(".custom-select__val_checked").forEach(function(e,t){i[t]=e.innerHTML,s[t]=e.hasAttribute("data-value")?e.getAttribute("data-value"):e.innerHTML}),i.length){if(t.innerHTML=i.join(", "),l.value=s[0],c.innerHTML="",s.length>1)for(var n=1;n<s.length;n++){var o=document.createElement("input");o.type="hidden",o.name=l.name,o.value=s[n],c.appendChild(o)}}else t.innerHTML=t.getAttribute("data-placeholder"),l.value="",this.close()},targetAction:function(){this.field.querySelectorAll(".custom-select__val").forEach(function(e){e.hasAttribute("data-target-elements")&&(document.querySelector(e.getAttribute("data-target-elements")).style.display=e.classList.contains("custom-select__val_checked")?"block":"none")})},selectVal:function(e){var t=this.field.querySelector(".custom-select__button"),l=this.field.querySelector(".custom-select__input");if(this.field.classList.contains("custom-select_multiple"))this.selectMultipleVal(e,t,l);else{var i=e.innerHTML,c=e.hasAttribute("data-value")?e.getAttribute("data-value"):e.innerHTML;this.field.querySelectorAll(".custom-select__val").forEach(function(e){e.classList.remove("custom-select__val_checked")}),e.classList.add("custom-select__val_checked"),t&&(t.innerHTML=i),l.value=c,this.close(),CustomPlaceholder.hidePlaceholder(l,!0)}this.targetAction(),l.classList.contains("var-height-textarea__textarea")&&s.setHeight(l),this.field.classList.add("custom-select_changed"),ValidateForm.select(l)},autocomplete:function(e){for(var t=!1,l=new RegExp(e.value,"gi"),i=this.field.querySelectorAll(".custom-select__val"),s=0;s<i.length;s++){var c=i[s];e.value.length?c.innerHTML.match(l)?(c.parentElement.classList.remove("hidden"),t=!0):c.parentElement.classList.add("hidden"):c.classList.remove("custom-select__val_checked")}t||i.forEach(function(e){e.parentElement.classList.remove("hidden")})},setOptions:function(e,t,l,i){document.querySelectorAll(e).forEach(function(e){for(var s=e.querySelector(".custom-select__options"),c=0;c<t.length;c++){var n=document.createElement("li");n.innerHTML='<button type="button" class="custom-select__val" data-value="'+t[c][l]+'">'+t[c][i]+"</button>",s.appendChild(n)}})},keyboard:function(e){var t=this.field.querySelector(".custom-select__options"),l=t.querySelector("li.hover");switch(e){case 40:if(l){var i=function(e){for(var t=e.nextElementSibling;t&&t;){if(!elementIsHidden(t))return t;t=t.nextElementSibling}}(l);i&&(l.classList.remove("hover"),i.classList.add("hover"),t.scrollTop=t.scrollTop+(i.getBoundingClientRect().top-t.getBoundingClientRect().top))}else for(var s=t.firstElementChild;s&&s;){if(!elementIsHidden(s)){s.classList.add("hover");break}s=s.nextElementSibling}break;case 38:if(l){var i=function(e){for(var t=e.previousElementSibling;t&&t;){if(!elementIsHidden(t))return t;t=t.previousElementSibling}}(l);i&&(l.classList.remove("hover"),i.classList.add("hover"),t.scrollTop=t.scrollTop+(i.getBoundingClientRect().top-t.getBoundingClientRect().top))}else for(var s=t.lastElementChild;s&&s;){if(!elementIsHidden(s)){s.classList.add("hover"),t.scrollTop=9999;break}s=s.previousElementSibling}break;case 13:this.selectVal(l.querySelector(".custom-select__val"))}},fillAcHead:function(){var e=this;document.querySelectorAll(".custom-select__autocomplete").forEach(function(t){var l=t.closest(".custom-select").querySelectorAll(".custom-select__val_checked");l&&(t.value.length?l.forEach(function(t){e.selectVal(t)}):l.forEach(function(e){e.classList.remove("custom-select__val_checked")}))})},build:function(e){var t=document.querySelectorAll(e);t&&t.forEach(function(e){var t=e.querySelectorAll("option"),l=e.parentElement,i="",s=e.hasAttribute("data-required")?' data-required="'+e.getAttribute("data-required")+'" ':"",c="autocomplete"==e.getAttribute("data-type")?'<input type="text" name="'+e.name+'"'+s+'placeholder="'+e.getAttribute("data-placeholder")+'" class="custom-select__input custom-select__autocomplete form__text-input" value="">':'<button type="button" data-placeholder="'+e.getAttribute("data-placeholder")+'" class="custom-select__button">'+e.getAttribute("data-placeholder")+"</button>",n={class:e.multiple?" custom-select_multiple":"",inpDiv:e.multiple?'<div class="custom-select__multiple-inputs"></div>':""},o="autocomplete"!=e.getAttribute("data-type")?'<input type="hidden" name="'+e.name+'"'+s+'class="custom-select__input" value="">':"";t.forEach(function(e){i+='<li><button type="button" class="custom-select__val"'+(e.hasAttribute("value")?' data-value="'+e.value+'"':"")+(e.hasAttribute("data-target-elements")?' data-target-elements="'+e.getAttribute("data-target-elements")+'"':"")+">"+e.innerHTML+"</button></li>"}),l.innerHTML='<div class="custom-select'+n.class+'">'+c+'<ul class="custom-select__options">'+i+"</ul>"+o+n.inpDiv+"</div>"})},init:function(e){this.build(e),document.addEventListener("click",function(e){var t=e.target.closest(".custom-select__button");t&&(this.field=t.closest(".custom-select"),this.field.classList.contains("custom-select_opened")?this.close():(this.fillAcHead(),this.close(),this.open()))}.bind(this)),document.addEventListener("click",function(e){var t=e.target.closest(".custom-select__val");t&&(this.field=t.closest(".custom-select"),this.selectVal(t))}.bind(this)),document.addEventListener("focus",function(e){var t=e.target.closest(".custom-select__autocomplete");t&&(this.field=t.closest(".custom-select"),this.field.classList.contains("custom-select_opened")||(this.fillAcHead(),this.close(),this.open()))}.bind(this),!0),document.addEventListener("input",function(e){var t=e.target.closest(".custom-select__autocomplete");t&&(this.field=t.closest(".custom-select"),this.autocomplete(t),this.field.classList.contains("custom-select_opened")||this.open())}.bind(this)),document.addEventListener("keydown",function(e){var t=e.target.closest(".custom-select_opened");if(t){this.field=t.closest(".custom-select");var l=e.which||e.keyCode||0;40!=l&&38!=l&&13!=l||(e.preventDefault(),this.keyboard(l))}}.bind(this)),document.addEventListener("click",function(e){e.target.closest(".custom-select_opened")||(this.fillAcHead(),this.close())}.bind(this))}};var i={field:null,loadPreview:function(e,t){var l=this.field.querySelectorAll(".custom-file__preview")[t];if(e.type.match("image")){var i=new FileReader;i.onload=function(e){l.innerHTML='<img src="'+e.target.result+'" class="cover-img">',setTimeout(function(){coverImg(".custom-file__item")},721)},i.readAsDataURL(e)}else l.innerHTML='<img src="images/preview.svg" class="full-width-img">'},changeInput:function(e){this.field=e.closest(".custom-file");var t=this,l=this.field.querySelector(".custom-file__items");l.innerHTML="",console.log(e.files);for(var i=0;i<e.files.length;i++){var s=e.files[i],c=document.createElement("div");c.className="custom-file__item",c.innerHTML='<div class="custom-file__preview cover-img-wrap"></div><div class="custom-file__name">'+s.name+"</div>",l.appendChild(c),t.loadPreview(s,i)}},init:function(){document.addEventListener("change",function(e){var t=e.target.closest('input[type="file"]');t&&this.changeInput(t)}.bind(this))}},s={setHeight:function(e){var t=e.parentElement.querySelector(".var-height-textarea__mirror"),l=e.value.replace(/\n/g,"<br>");t.innerHTML=l+"&nbsp;"},init:function(){document.addEventListener("input",function(e){var t=e.target.closest(".var-height-textarea__textarea");t&&this.setHeight(t)}.bind(this))}};document.addEventListener("DOMContentLoaded",function(){CustomSelect.init("select"),i.init(),s.init(),CustomPlaceholder.init('input[type="text"], input[type="password"], textarea'),e('input[type="checkbox"], input[type="radio"]'),t.init(),l.init()})}();
function Diagram(t,e,a){var n=this;n.maxVal=0,n.context=null,n.startingAngle=1.5*Math.PI,n.centerX=80,n.centerY=80,n.set=a||{},n.init=function(t,e){var a=document.getElementById(t);if(a&&e)if(n.context=a.getContext("2d"),n.set.type){if(n.centerX=70,n.centerY=70,"percent"==n.set.type){n.maxVal=100;var r=Math.round(e[1]/(e[0]/100));n.draw(r,n.set.color,!0,n.set.pid)}}else{for(var c=0;c<e.length;c++)n.maxVal+=e[c];if(n.set.animate)n.animate(e);else for(var c=0;c<e.length;c++)n.draw(e[c],c)}},n.draw=function(t,e,a,r){var c=n.calcPath(t),i=n.pathStyle(e);a&&(i.r=63),r&&$("#"+r).html(t),n.context.beginPath(),n.context.arc(n.centerX,n.centerY,i.r,n.startingAngle,c),n.context.lineWidth=11,n.context.strokeStyle=i.c,n.context.stroke()},n.calcPath=function(t){return 2*Math.PI*t/n.maxVal+n.startingAngle},n.pathStyle=function(t){var e={};switch(t){case 0:e={r:69,c:"#fd8d40"};break;case 1:e={r:57,c:"#d0295e"};break;case 2:e={r:45,c:"#78c574"};break;case 3:e={r:33,c:"#5195cb"}}return e},n.animate=function(t){for(var e=new Array(t.length),a=0;a<e.length;a++)e[a]=0;setTimeout(function a(r){n.context.clearRect(0,0,2*n.centerX,2*n.centerY);for(var c=0,i=0;i<t.length;i++)e[i]<t[i]&&(e[i]=e[i]+2,c++),n.draw(e[i],i),$("#"+n.set.numId+i).html(e[i]);if(c)setTimeout(a,1);else{n.context.clearRect(0,0,2*n.centerX,2*n.centerY);for(var i=0;i<t.length;i++)n.draw(t[i],i),$("#"+n.set.numId+i).html(t[i])}},1)},n.init(t,e,a)}function diagram(t,e,a){diagramObject[t]instanceof Diagram||(diagramObject[t]=new Diagram(t,e,a))}var diagramObject=[];
var FlSlider={animation:!1,count:0,isLine:!1,t:null,init:function(){var t=this;if(t.count=$(".float-slider__float-item").length,$(".float-slider__float-item").first().addClass("float-slider__float-item_curr"),$(".float-slider__fade-item").first().addClass("float-slider__fade-item_curr"),t.count>1){$(".float-slider__float-item").last().addClass("float-slider__float-item_prev"),$(".float-slider__float-item").first().next(".float-slider__float-item").removeClass("float-slider__float-item_prev").addClass("float-slider__float-item_next");for(var e="",l=0;l<t.count;l++)e+="<li"+(0==l?' class="float-slider__dots-active"':"")+'><button type="button" data-index="'+l+'"></button></li>';$(".float-slider__float").append('<ul class="float-slider__dots">'+e+"</ul>"),$(".float-slider").attr("data-line")&&(t.isLine=!0)}else $(".float-slider__arrow").remove()},dots:function(t){function e(){$('.float-slider__float-item[data-index="'+t+'"]').hasClass("float-slider__float-item_curr")||(2==l.count&&0===t?l.change("prev"):l.change("next"),setTimeout(e,1121))}var l=this;e()},activeDot:function(){var t=this,e=$(".float-slider__float-item_curr").attr("data-index");$(".float-slider__dots li").removeClass("float-slider__dots-active"),$(".float-slider__dots").find('button[data-index="'+e+'"]').parent().addClass("float-slider__dots-active"),$(".float-slider-control__btn").removeClass("float-slider-control__btn_active"),$("#float-sl-cont-"+e).addClass("float-slider-control__btn_active"),t.isLine&&(clearTimeout(t.t),t.line())},line:function(){var t=this;$(".float-slider-control__line span").removeClass("crawl"),$(".float-slider-control__btn_active .float-slider-control__line span").addClass("crawl"),t.t=setTimeout(function(){t.change("next")},5e3)},change:function(t){var e,l,a=this,o=$(".float-slider__float-item_curr"),i=$(".float-slider__float-item_next"),r=$(".float-slider__float-item_prev");if(a.count>3&&(e=i.next(".float-slider__float-item").length?i.next(".float-slider__float-item"):$(".float-slider__float-item").first(),l=r.prev(".float-slider__float-item").length?r.prev(".float-slider__float-item"):$(".float-slider__float-item").last()),2==a.count){if("1"===i.attr("data-index")){if("prev"==t)return!1}else if("0"===r.attr("data-index")&&"next"==t)return!1}else if(1==a.count)return!1;a.animation||("next"==t?(a.animation=!0,i.addClass("next-to-curr"),o.addClass("curr-to-prev"),a.count>3?(e.addClass("to-next"),r.addClass("from-prev")):r.addClass("prev-to-next"),$(".float-slider__fade-item").removeClass("float-slider__fade-item_curr"),setTimeout(function(){$('.float-slider__fade-item[data-index="'+i.attr("data-index")+'"]').addClass("float-slider__fade-item_curr"),a.count>3?(e.addClass("float-slider__float-item_next").removeClass("to-next"),r.removeClass("float-slider__float-item_prev from-prev")):r.addClass("float-slider__float-item_next").removeClass("float-slider__float-item_prev prev-to-next"),o.addClass("float-slider__float-item_prev").removeClass("float-slider__float-item_curr curr-to-prev"),i.addClass("float-slider__float-item_curr").removeClass("float-slider__float-item_next next-to-curr"),a.animation=!1,a.activeDot()},1021)):"prev"==t&&(a.animation=!0,r.addClass("prev-to-curr"),o.addClass("curr-to-next"),a.count>3?(l.addClass("to-prev"),i.addClass("from-next")):i.addClass("next-to-prev"),$(".float-slider__fade-item").removeClass("float-slider__fade-item_curr"),setTimeout(function(){$('.float-slider__fade-item[data-index="'+r.attr("data-index")+'"]').addClass("float-slider__fade-item_curr"),r.addClass("float-slider__float-item_curr").removeClass("float-slider__float-item_prev prev-to-curr"),o.addClass("float-slider__float-item_next").removeClass("float-slider__float-item_curr curr-to-next"),a.count>3?(l.addClass("float-slider__float-item_prev").removeClass("to-prev"),i.removeClass("float-slider__float-item_next from-next")):i.addClass("float-slider__float-item_prev").removeClass("float-slider__float-item_next next-to-prev"),a.animation=!1,a.activeDot()},1021)))}};$("document").ready(function(){if(FlSlider.init(),$(".float-slider-control").length){var t=!0;$(window).scroll(function(){$(".float-slider-control").offset().top<$(window).height()/2+$(window).scrollTop()&&t&&(t=!1,FlSlider.line())})}$("body").on("click",".float-slider-control__btn-btn",function(){if(!$(this).parent().hasClass("float-slider-control__btn_active")){var t=+$(this).attr("data-index");FlSlider.dots(t)}}),$("body").on("click",".float-slider__dots button",function(){if(!$(this).parent().hasClass("float-slider__dots-active")){var t=+$(this).attr("data-index");FlSlider.dots(t)}}),$("body").on("click",".float-slider__arrow",function(){var t=$(this).attr("data-direct");FlSlider.change(t)}),winW<1200&&$(".float-slider").swipe({swipe:function(t,e){"right"==e?FlSlider.change("prev"):"left"==e&&FlSlider.change("next")},triggerOnTouchEnd:!1,excludedElements:"",threshold:21})});
var Form;!function(){"use strict";var t={next:function(t){var e=!!t.hasAttribute("data-next-fieldset-item")&&document.querySelector(t.getAttribute("data-next-fieldset-item"));if(e){var i=t.closest(".fieldset__item");ValidateForm.validate(i)&&(i.classList.add("fieldset__item_hidden"),e.classList.remove("fieldset__item_hidden"))}},init:function(t,e){t.addEventListener("click",function(t){var i=t.target.closest(e);i&&this.next(i)}.bind(this))}};Form=function(e){function i(){s.querySelectorAll('input[type="text"], input[type="password"], textarea').forEach(function(t){t.value="",CustomPlaceholder.hidePlaceholder(t,!1)})}function n(t){s.querySelectorAll('button[type="submit"], input[type="submit"]').forEach(function(e){elementIsHidden(e)||(t?e.removeAttribute("disabled"):e.setAttribute("disabled","disable"))})}function r(t){ValidateForm.submit(s)?(n(!1),s.classList.add("form_sending"),this.onSubmit&&(t.preventDefault(),this.onSubmit(s,function(t){t=t||{},n(t.unlockSubmitButton),s.classList.remove("form_sending"),1==t.clearForm&&i()})),s.classList.remove("form_error")):(t.preventDefault(),s.classList.add("form_error"))}this.onSubmit=null;var s=document.querySelector(e);s&&(s.addEventListener("submit",r.bind(this)),ValidateForm.init(s),t.init(s,".form__button"))}}();
var FsScroll={winH:null,scrolling:!1,factor:0,scrChangedEv:null,beforeScrChangeEv:null,init:function(){var s=this;s.winH=winH,$(".fsscroll__screen").removeClass("fsscroll__screen_scroll").css("height","auto"),$(".fsscroll__screen").each(function(){var e=$(this);e.innerHeight()<=s.winH?e.css("height",s.winH):e.addClass("fsscroll__screen_scroll")}),$(".fsscroll__screen").first().addClass("fsscroll__screen_first fsscroll__screen_current"),$(".fsscroll__screen").last().addClass("fsscroll__screen_last"),setTimeout(function(){s.current()},21),$(window).scroll(function(){s.scrolling||s.current()}),s.scrChangedEv=new CustomEvent("scrChanged"),s.beforeScrChangeEv=new CustomEvent("beforeScrChange")},current:function(){var s=this,e=$(window).scrollTop()+s.winH/2;$(".fsscroll__screen").removeClass("fsscroll__screen_current"),$(".fsscroll__screen").each(function(){var l=$(this),o=l.offset().top,r=l.innerHeight();o<=e&&o+r>=e&&(l.addClass("fsscroll__screen_current"),window.dispatchEvent(s.scrChangedEv))})},move:function(s,e){var l=this,o=1500,r="easeInOutCubic";l.scrolling=!0,e&&(o=900,r="easeInOutCubic"),window.dispatchEvent(l.beforeScrChangeEv),$("body, html").stop().animate({scrollTop:s},o,r,function(){setTimeout(function(){l.current(),l.scrolling=!1,l.factor=0},21)})},mouseScroll:function(s,e,l){var o,r=this,n=$(".fsscroll__screen_current"),c=$(window).scrollTop(),t=c+r.winH;s<0?(o=n.next(".fsscroll__screen"),!n.length||n.hasClass("fsscroll__screen_scroll")||n.hasClass("fsscroll__screen_last")?o.length&&t>o.offset().top?r.scrolling||r.move(o.offset().top):(r.factor=r.factor+e/2,r.move(c+r.factor,!0)):r.scrolling||(c+21<n.offset().top?r.move(n.offset().top):r.move(o.offset().top))):s>0&&(o=n.prev(".fsscroll__screen"),!n.length||n.hasClass("fsscroll__screen_scroll")||n.hasClass("fsscroll__screen_first")?o.length&&o.offset().top+o.innerHeight()>c?r.scrolling||r.move(o.offset().top):(r.factor=r.factor+e/2,r.move(c-r.factor,!0)):r.scrolling||(t-21>n.offset().top+n.innerHeight()?r.move(n.offset().top+n.innerHeight()-r.winH):r.move(o.offset().top+o.innerHeight()-r.winH)))}};$(document).ready(function(){$(".fsscroll").length&&($(".fsscroll").attr("id","js-fsscroll"),function s(){winW>1030?(FsScroll.init(),$("#js-fsscroll").on("mousewheel",function(s){s.preventDefault?s.preventDefault():s.returnValue=!1,FsScroll.mouseScroll(s.deltaY,s.deltaFactor)})):($("#js-fsscroll").off("mousewheel"),winW>1e3&&(FsScroll.init(),$(".wrapper_fsscroll").swipe({swipe:function(s,e,l){var o;switch(e){case"down":o=1;break;case"up":o=-1;break;default:o=0}FsScroll.mouseScroll(o,l)},allowPageScroll:"none",excludedElements:"",threshold:21}))),$(window).on("winResized",s)}())});
function flexImg(){$(".flex-img").each(function(){var a,i,r=$(this),s=r.attr("data-images");if(s){a=s.split(",");for(var e=0;e<a.length;e++){var t=a[e].split(":");winW<t[0]&&(i="http"==t[1]||"https"==t[1]?t[1]+":"+t[2]:t[1])}}i&&r.attr("src",i)})}function coverImg(a){var a=a?a+" ":"";$(a+".cover-img, "+a+".cover-img-wrap").each(function(){var a=$(this);if(a.hasClass("cover-img-wrap")){var i=a.find("img"),r=a;i.addClass("cover-img")}else if(a.hasClass("cover-img")){var i=a,r=i.parent();r.addClass("cover-img-wrap")}i.removeClass("cover-img_w cover-img_h").css({marginTop:"",marginLeft:""});var s=i.width()/i.height(),e=r.width()/r.height();if(e!=1/0&&e<21)if(s<=e){var t=Math.round(-(r.width()/s-r.height())/2);i.addClass("cover-img_w").css("margin-top",t)}else{var t=Math.round(-(r.height()*s-r.width())/2);i.addClass("cover-img_h").css("margin-left",t)}else i.addClass("cover-img_w")})}
$(document).ready(function(){$("body").find(".more").each(function(){var t=$(this),e=t.height(),a=t.html();t.html('<div class="more__inner">'+a+"</div>");var n=t.find(".more__inner"),i=n.innerHeight();e<i&&(t.addClass("more_apply").append('<button class="more__button">Показать</button>'),n.css({height:e}).attr("data-min-height",e).attr("data-max-height",i))}),$("body").on("click",".more__button",function(){var t=$(this),e=t.parent(".more").find(".more__inner"),a=e.attr("data-min-height"),n=e.attr("data-max-height");return t.hasClass("more__button_active")?(e.css("height",a),t.removeClass("more__button_active").html("Показать")):(e.css("height",n),t.addClass("more__button_active").html("Скрыть")),!1})});
function Mouseparallax(e,t){var n=this,a={listener:document,deltaX:21,deltaY:21,rangeX:[],rangeY:[]},t=t||{},l=$.extend({},a,t),r=$(e),s={X:0,Y:0},i=$(l.listener).innerWidth(),X=$(l.listener).innerHeight(),Y={X:0,Y:0},o={};n.translateElement={X:0,Y:0},n.startElementPos={X:0,Y:0},void 0!=r.attr("data-delta-x")&&(l.deltaX=+r.attr("data-delta-x")),void 0!=r.attr("data-delta-y")&&(l.deltaY=+r.attr("data-delta-y")),void 0!=r.attr("data-range-x")&&(l.rangeX=r.attr("data-range-x").split(",")),void 0!=r.attr("data-range-y")&&(l.rangeY=r.attr("data-range-y").split(",")),$(document).on("mouseenter",l.listener,function(e){s.X=e.clientX,s.Y=e.clientY}),$(document).on("mousemove",l.listener,function(e){e.clientX>Y.X?o.X="right":o.X="left",Y.X=e.clientX,e.clientY>Y.Y?o.Y="up":o.Y="down",Y.Y=e.clientY;var t={X:e.clientX-s.X,Y:e.clientY-s.Y};n.translateElement={X:t.X*(l.deltaX/i)+n.startElementPos.X,Y:t.Y*(l.deltaY/X)+n.startElementPos.Y};var a=n.translateElement.X,d=n.translateElement.Y;l.rangeX&&(n.translateElement.X>=l.rangeX[0]?("left"==o.X&&(s.X=e.clientX,n.startElementPos.X=+l.rangeX[0]),a=l.rangeX[0]):n.translateElement.X<=l.rangeX[1]&&("right"==o.X&&(s.X=e.clientX,n.startElementPos.X=+l.rangeX[1]),a=l.rangeX[1])),l.rangeY&&(n.translateElement.Y>=l.rangeY[0]?("down"==o.Y&&(s.Y=e.clientY,n.startElementPos.Y=+l.rangeY[0]),d=l.rangeY[0]):n.translateElement.Y<=l.rangeY[1]&&("up"==o.Y&&(s.Y=e.clientY,n.startElementPos.Y=+l.rangeY[1]),d=l.rangeY[1])),r.css("transform","translate("+a+"px, "+d+"px)")}),$(document).on("mouseleave",l.listener,function(e){n.startElementPos.X=n.translateElement.X,n.startElementPos.Y=n.translateElement.Y})}function mouseparallax(e,t){return void 0==$(e)[0].ind?$(e)[0].ind=ind=i:ind=$(e)[0].ind,i++,mousePlxObj[e+ind]instanceof Mouseparallax||(mousePlxObj[e+ind]=new Mouseparallax(e,t)),mousePlxObj[e+ind]}var mousePlxObj=[],i=0,ind;
function Numberspin(n,i){function e(){u=setTimeout(function n(){if(d<o){if(1==a.animation){var i=o-d;i>1213214321321?d+=1213214321321:i>3214321321?d+=3214321321:i>4321321?d+=4321321:i>321321?d+=321321:i>32321?d+=32321:i>2321?d+=2321:i>1321?d+=1321:i>321?d+=321:i>21?d+=21:d++}else if(2==a.animation){for(var e=String(o).split(""),r=String(d).split(""),u=0;u<e.length;u++)r[u]?r[u]<e[u]&&r[u-1]==e[u-1]&&r[u]++:r[u-1]&&r[u-1]==e[u-1]&&(r[u]=0);d=r.join("")}var m=String(d);l?(m=m.replace(new RegExp("(\\d{"+l.index+"})"),"$1"+l[0]),m=m.replace(new RegExp("(\\d)?(?=(\\d{3})+?\\"+l[0]+")","g"),"$1 ")):m=m.replace(/(\d)?(?=(\d{3})+$)/g,"$1 "),s.html(m),setTimeout(n,85)}else t()},1)}function t(){clearTimeout(u)}var r={animation:1},i=i||{},a=$.extend({},r,i),u=null,m=!1,s=$(n),d=0,p=s.html().replace(/[\s]/g,""),l=p.match(/[\.,]/),o=+p.replace(/[\D]/g,"");s.html(0),this.start=function(){m||(m=!0,e())}}function numberspin(n,e){return void 0==$(n)[0].ind?$(n)[0].ind=ind=i:ind=$(n)[0].ind,numberspinObj[n+ind]instanceof Numberspin||(numberspinObj[n+ind]=new Numberspin(n,e)),i++,numberspinObj[n+ind]}var numberspinObj=[],i=0,ind;
var Popup={closeCallback:function(){},play:null,ind:0,group:null,position:0,show:function(i,a){var t=this,o=$(i),p=o.closest(".popup");o.length&&o.hasClass("popup__window")&&(t.position=$(window).scrollTop(),p.fadeIn(321).scrollTop(0),$(".popup__window").removeClass("popup__window_visible"),o.addClass("popup__window_visible"),$("body").css("top",-t.position).addClass("is-popup-opened"),setTimeout(function(){coverImg("#media-popup")},721)),t.closeCallback=a||function(){}},hide:function(){var i=this;$(".popup__window").removeClass("popup__window_visible"),$(".popup").fadeOut(321),$(".popup__message").remove(),$("body").removeClass("is-popup-opened").removeAttr("style"),$("html, body").scrollTop(i.position),i.closeCallback()},message:function(i,a,t){var o=this;$(i).find(".popup__inner").prepend('<div class="popup__message">'+a+"</div>"),o.show(i),o.closeCallback=t||function(){}},media:function(i,a,t){var o=this,p=$(i).attr("data-popup"),e=$(p),s=e.find(".popup-media__box"),d=e.find(".popup-media__image"),r=e.find(".popup-media__play"),n=e.find(".popup-media__iframe");if(a.data){e.find(".popup-media__bar").css("display","block");for(var u=JSON.parse(a.data),l=0;l<u.length;l++)e.find(".popup-media__data-"+l).html(u[l])}if(a.imgSize){var c=JSON.parse(a.imgSize);d.attr("width",c[0]).attr("height",c[1])}else d.attr("width","").attr("height","");a.img&&d.css({visibility:"visible",marginLeft:"",marginTop:""}).removeClass("cover-img_w cover-img_h").attr("src",a.img),n.css("visibility","hidden").attr("src",""),r.css("visibility","hidden"),a.vid?(s.removeClass("middle").addClass("cover-img-wrap"),d.removeClass("middle__img").addClass("cover-img"),r.css("visibility","visible").attr("href",a.vid),o.play=function(){var i=a.vid.match(/(?:youtu\.be\/|youtube\.com\/watch\?v\=|youtube\.com\/embed\/)+?([\w-]+)/i),t="https://www.youtube.com/embed/"+i[1]+"?autoplay=1";r.css("visibility","hidden"),d.css("visibility","hidden"),n.css("visibility","visible").attr("src",t)},a.img||o.play(),setTimeout(function(){coverImg(p)},721)):(s.removeClass("cover-img-wrap").addClass("middle"),d.removeClass("cover-img").addClass("middle__img")),a.group&&(e.find(".popup-media__arr").css("display","block"),o.group=$(i).attr("data-group"),o.ind=$('[data-group="'+o.group+'"]').index(i)),t&&o.show(p),o.closeCallback=function(){d.css("visibility","hidden").attr("src",""),n.css("visibility","hidden").attr("src",""),r.css("visibility","hidden")}},next:function(i){var a,t=this,o=t.ind;if("next"==i?(o++,$('[data-group="'+t.group+'"]').eq(o).length&&(a=$('[data-group="'+t.group+'"]').eq(o))):"prev"==i&&o>0&&(o--,$('[data-group="'+t.group+'"]').eq(o).length&&(a=$('[data-group="'+t.group+'"]').eq(o))),a){var p;a.hasClass("js-open-popup-image")?p={img:a.attr("href"),imgSize:a.attr("data-image-size"),group:a.attr("data-group"),data:a.attr("data-data")}:a.hasClass("js-open-popup-video")&&(p={vid:a.attr("href"),img:a.attr("data-preview"),imgSize:a.attr("data-preview-size"),group:a.attr("data-group"),data:a.attr("data-data")}),t.media(a,p)}}};$(document).ready(function(){if($("body").on("click",".js-open-popup",function(){return Popup.show($(this).attr("data-popup")),!1}),$("body").on("click",".js-open-popup-image",function(){var i={img:$(this).attr("href"),imgSize:$(this).attr("data-image-size"),group:$(this).attr("data-group"),data:$(this).attr("data-data")};return Popup.media(this,i,!0),!1}),$("body").on("click",".js-open-popup-video",function(){var i={vid:$(this).attr("href"),img:$(this).attr("data-preview"),imgSize:$(this).attr("data-preview-size"),group:$(this).attr("data-group"),data:$(this).attr("data-data")};return Popup.media(this,i,!0),!1}),$("body").on("click",".popup-media__play",function(){return Popup.play(),!1}),$("body").on("click",".popup-media__arr",function(){return Popup.next($(this).attr("data-dir")),!1}),$("body").on("click",".js-open-msg-popup",function(){return Popup.message("#message-popup",'Это всплывашка с сообщением.<br> вызов: <span class="c-red">Popup.message("#id", "Текст или html");</span>',function(){alert("После закрытия")}),!1}),$("body").on("click",".popup__close",function(){return Popup.hide(),!1}),$("body").on("click",".popup",function(i){$(i.target).closest(".popup__window").length||Popup.hide()}),window.location.hash){var i=window.location.hash;$(i).length&&$(i).hasClass("popup__window")&&Popup.show(i)}});
!function(){var o=window.location.href,t={vkontakte:function(){url="http://vkontakte.ru/share.php?",url+="url="+encodeURIComponent(o),t.popup(url)},facebook:function(){url="http://www.facebook.com/sharer.php?",url+="u="+encodeURIComponent(o),t.popup(url)},twitter:function(){url="http://twitter.com/share?",url+="url="+encodeURIComponent(o),t.popup(url)},odnoklasniki:function(){url="https://connect.ok.ru/dk?st.cmd=WidgetSharePreview",url+="&st.shareUrl="+encodeURIComponent(o),t.popup(url)},popup:function(o){window.open(o,"","toolbar=0,status=0,width=626,height=436")}};$(document).ready(function(){$(".js-share-vk").click(function(){return t.vkontakte(),!1}),$(".js-share-fb").click(function(){return t.facebook(),!1}),$(".js-share-tw").click(function(){return t.twitter(),!1}),$(".js-share-ok").click(function(){return t.odnoklasniki(),!1})})}();
var Tab={tabBlock:null,init:function(){var t=this;$(".tab").each(function(){t.tabBlock=$(this),t.setHeight()})},button:function(t){var a=this,i=$(t);tab=i.attr("data-tab"),a.tabBlock=$(t).closest(".tab"),i.hasClass("tab__button_active")||(a.tabBlock.find(".tab__button").removeClass("tab__button_active"),i.addClass("tab__button_active"),a.changeItem(tab))},changeItem:function(t){var a=this,i=this.tabBlock.find(".tab__item_"+t);a.tabBlock.find(".tab__item").removeClass("tab__item_active"),a.setHeight(i),setTimeout(function(){i.addClass("tab__item_active")},321)},setHeight:function(t){var a=this,i=this.tabBlock.find(".tab__container"),n=t||a.tabBlock.find(".tab__item_active");i.css("height",n.innerHeight())}};$(document).ready(function(){Tab.init(),$("body").on("click",".tab__button",function(){Tab.button(this)})});
var Timer={min:0,sec:0,Interval:null,onStop:null,init:function(t,n){function e(){var t=new Date(Date.now()+864e5);document.cookie="lastTimer="+Date.now()+"; expires="+t.toUTCString()}this.onStop=n||null;var i=function(){var t;if(document.cookie)for(var n=document.cookie.replace(/(\s)+/g,"").split(";"),e=0;e<n.length;e++){var i=n[e].split("=");"lastTimer"==i[0]&&(t=i[1])}return t||void 0}();if(i){var o=Math.round((Date.now()-i)/1e3);o<t?t-=o:e()}else e();this.min=t>60?Math.floor(t/60):0,this.sec=t>60?Math.round(t%60):t,this.start()},counter:function(){var t=this;t.Interval=setInterval(function(){0==t.sec?0==t.min?t.stop():(t.sec=59,t.min--):t.sec--,t.output()},1e3)},start:function(){this.counter()},stop:function(){clearInterval(this.Interval),this.onStop&&this.onStop()},output:function(){var t,n,e=this,i="",o="секунд";0!=e.min&&(1==e.min?i=e.min+" минуту":e.min<5&&(i=e.min+" минуты")),1==e.sec||21==e.sec?o="секунду":e.sec<5?o="секунды":e.sec<21&&(o="секунд"),t=e.sec<10?"0"+e.sec:e.sec,n=[i,t,o].join(" "),document.getElementById("timer").innerHTML=n}};
var ValidateForm;!function(){"use strict";ValidateForm={input:null,errorTip:function(t,e){var r=this.input.closest(".form__field"),i=r.querySelector(".form__error-tip");t?(r.classList.add("form__field_error"),e&&(i.getAttribute("data-error-text")||i.setAttribute("data-error-text",i.innerHTML),i.innerHTML=i.getAttribute("data-error-text-"+e))):r.classList.remove("form__field_error")},customErrorTip:function(t,e){var r=this;r.$input=t,r.errorTip(!0,"custom",e)},date:function(){var t=!1;return function(t){var e=new RegExp("^([0-9]{2}).([0-9]{2}).([0-9]{4})$"),r=e.exec(t);if(!r)return!1;var i=new Date,a=new Date(r[3],r[2]-1,r[1]);return a.getMonth()==r[2]-1&&a.getDate()==r[1]&&a.getFullYear()==r[3]&&a.valueOf()<i.valueOf()}(this.input.value)?this.errorTip(!1):(this.errorTip(!0,2),t=!0),t},email:function(){var t=!1;return/^[a-z0-9]+[\w\-\.]*@[\w\-]{2,}\.[a-z]{2,6}$/i.test(this.input.value)?this.errorTip(!1):(this.errorTip(!0,2),t=!0),t},tel:function(){var t=!1;return/^\+7\([0-9]{3}\)[0-9]{3}-[0-9]{2}-[0-9]{2}$/.test(this.input.value)?this.errorTip(!1):(this.errorTip(!0,2),t=!0),t},pass:function(){var t=!1,e=this.input.getAttribute("data-min-length");return e&&this.input.value.length<e?(this.errorTip(!0,2),t=!0):this.errorTip(!1),t},select:function(t){var e=!1;return this.input=t,t.getAttribute("data-required")&&!t.value.length?(this.errorTip(!0),e=!0):this.errorTip(!1),e},validateOnInputOrBlur:function(t){var e=t.target.closest('input[type="text"], input[type="password"], textarea');if(e){if(this.input=e,"blur"==t.type)e.setAttribute("data-tested","true");else if("input"==t.type&&!e.getAttribute("data-tested"))return;var r=e.getAttribute("data-type"),i=e.value;e.getAttribute("data-required")&&!i.length?this.errorTip(!0):i.length&&r?this[r]():this.errorTip(!1)}},file:function(t){if(t){var e=t.target.closest('input[type="file"]');if(!e)return;this.input=e}for(var r=!1,i={type:0,size:0},a=this.input.files,n=this.input.getAttribute("data-type"),u=+this.input.getAttribute("data-max-size"),s=0;s<a.length;s++){var o=a[s];o.type.match(n)?o.size>u&&i.size++:i.type++}return i.type?(this.errorTip(!0,2),r=!0):i.size?(this.errorTip(!0,3),r=!0):this.errorTip(!1),r},validate:function(t){for(var e=0,r=t.querySelectorAll('input[type="text"], input[type="password"], textarea'),i=0;i<r.length;i++){var a=r[i];if(!elementIsHidden(a)){this.input=a,a.setAttribute("data-tested","true");var n=a.getAttribute("data-type");a.value.length?n&&this[n]()&&e++:a.getAttribute("data-required")?(this.errorTip(!0),e++):this.errorTip(!1)}}for(var r=t.querySelectorAll(".custom-select__input"),i=0;i<r.length;i++){var a=r[i];elementIsHidden(a.parentElement)||this.select(a)&&e++}for(var r=t.querySelectorAll('input[type="checkbox"]'),i=0;i<r.length;i++){var a=r[i];elementIsHidden(a)||(this.input=a,a.getAttribute("data-required")&&!a.checked?(this.errorTip(!0),e++):this.errorTip(!1))}for(var u=t.querySelectorAll(".form__chbox-group"),i=0;i<u.length;i++){var s=u[i],o=0;if(!elementIsHidden(s)){var r=s.querySelectorAll('input[type="checkbox"]');r.forEach(function(t){t.checked&&o++}),o<s.getAttribute("data-min")?(s.classList.add("form__chbox-group_error"),e++):s.classList.remove("form__chbox-group_error")}}for(var u=t.querySelectorAll(".form__radio-group"),i=0;i<u.length;i++){var s=u[i],l=!1;if(!elementIsHidden(s)){var r=s.querySelectorAll('input[type="radio"]');r.forEach(function(t){t.checked&&(l=!0)}),l?s.classList.remove("form__radio-group_error"):(s.classList.add("form__radio-group_error"),e++)}}for(var r=t.querySelectorAll('input[type="file"]'),i=0;i<r.length;i++){var a=r[i];elementIsHidden(a)||(this.input=a,a.files.length?this.file()&&e++:a.getAttribute("data-required")?(this.errorTip(!0),e++):this.errorTip(!1))}for(var r=t.querySelectorAll("input[data-pass-compare-input]"),i=0;i<r.length;i++){var a=r[i];if(!elementIsHidden(a)){this.input=a;var p=a.value;if(p.length){p!==t.querySelector(a.getAttribute("data-pass-compare-input")).value?(this.errorTip(!0,2),e++):this.errorTip(!1)}}}return!e},submit:function(t){return this.validate(t)},init:function(t){t.addEventListener("input",this.validateOnInputOrBlur.bind(this)),t.addEventListener("blur",this.validateOnInputOrBlur.bind(this),!0),t.addEventListener("change",this.file.bind(this))}}}();
//# sourceMappingURL=script.min.js.map
