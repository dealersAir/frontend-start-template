{"version":3,"sources":["global.js","header.js","menu.js","fsscroll.js","toggle.js","flex-image.js","cover-image.js","video.js","popup.js","checkbox.js","radio.js","select.js","autocomplete.js","file.js","placeholder.js","maskinput.js","form.js","accord.js","more.js","tab.js","alert.js","bubble.js","anchor.js","diagram.js","numberspin.js","share.js","timer.js","getcontentajax.js","dragline.js"],"names":["browser","ajax","animate","document","documentElement","setAttribute","navigator","userAgent","toLowerCase","test","CustomEvent","e","window","event","params","evt","bubbles","cancelable","detail","undefined","createEvent","initCustomEvent","prototype","Object","create","Event","winResizedEvent","rsz","addEventListener","setTimeout","dispatchEvent","Element","closest","ElProto","matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","selector","parentElement","elementIsHidden","elem","compStyle","getComputedStyle","display","visibility","opacity","options","xhr","XMLHttpRequest","open","url","send","setRequestHeader","onreadystatechange","readyState","status","success","response","error","draw","duration","ease","complete","start","performance","now","requestAnimationFrame","anim","time","timeFraction","progress","easing","quad","Math","pow","MobNav","headerElem","querySelector","pageYOffset","classList","add","body","contains","remove","winScrollTop","fixBody","st","style","top","scrollTo","btnElem","getElementById","headerId","close","openBtnElements","querySelectorAll","openBtn","i","length","init","openElem","target","closeElem","closeBtn","menuLinkElement","menuLinkSelector","preventDefault","Menu","toggle","elementStr","subMenuStr","subMenuElem","height","mainElem","itemElements","subMenuElements","scrollHeight","FsScroll","contElem","scrolling","delta","current","midWinScrollTop","innerHeight","screenElements","screen","screenOffsetTop","getBoundingClientRect","offsetHeight","scroll","mouseScroll","currentScreenElem","winScrollBottom","nextScreenElem","nextElementSibling","currentScreenOffsetTop","nextScreenOffsetTop","previousElementSibling","container","deltaY","Toggle","toggledClass","onChange","toggleElem","state","targetElements","getAttribute","hasAttribute","dependenceTargetElements","off","innerHTML","onDocClickOff","onDocClickOffSelector","toggleElements","targetSelectors","toggleSelector","FlexImg","elementsStr","load","images","split","forEach","image","imageProp","innerWidth","src","elements","CoverImg","cover","img","currentTarget","imgWrap","imgProportion","offsetWidth","imgWrapProportion","Infinity","margin","round","marginTop","marginLeft","reInit","parentElementStr","Date","getTime","Video","play","iFrame","createElement","allow","allowFullscreen","appendChild","Popup","MediaPopup","onClose","headerSelector","offset","clientWidth","right","callback","elemParent","message","msg","element","location","hash","args","elemPopup","popupStr","elemImg","href","video","next","group","index","slice","call","indexOf","type","caption","ChangeCheckbox","hideCssClass","change","targetElem","checked","ChangeRadio","checkedElem","name","Select","field","onSelect","reset","parentElem","parElem","fieldElements","buttonElements","inputElements","valueElements","value","blur","optionsElements","listItemElements","opionsElem","scrollTop","selectMultipleVal","button","input","toButtonValue","toInputValue","inputsBlock","checkedElements","join","yetInput","targetAction","textInputElement","focus","selectVal","Placeholder","hide","submit","varHeightTextarea","setHeight","ValidateForm","select","autocomplete","match","reg","RegExp","valueElem","setOptions","fieldSelector","optObj","nameKey","valKey","secValKey","optionsElem","li","secValAttr","keyboard","key","hoverItem","nextItem","item","firstElementChild","lastElementChild","build","parent","optionsList","selectedOption","opt","require","placeholder","submitOnChange","head","multiple","class","inpDiv","hiddenInp","customElem","className","insertBefore","firstChild","removeChild","children","valElem","arrElem","which","keyCode","AutoComplete","fieldElem","inputElem","valuesData","setValuesData","getValues","preReg","values","dataVal","itemElem","keybinding","CustomFile","filesObj","filesArrayObj","clear","id","loadPreview","file","fileItem","reader","FileReader","previewDiv","onload","imgDiv","result","readAsDataURL","changeInput","fileItems","files","setFilesObj","filesList","objKey","valueOf","push","inputFiles","formElem","inputFileElements","filesArr","delBtnElem","clearBtnElem","elemFor","label","htmlFor","removeAttribute","lSt","textIndent","paddingLeft","paddingRight","Maskinput","defValue","tel","cursPos","selectionStart","replace","str","p1","p2","p3","p4","res","Form","errorTip","err","errInd","errorTxt","errTip","customErrorTip","txt","num","date","errDate","compDate","curDate","interval","getFullYear","getMonth","getDate","email","pass","minLng","checkbox","radio","checkedElement","errCount","ext","size","maxFiles","extRegExp","maxSize","fileItemElements","validateOnInput","dataType","validate","groups","val","compElemVal","formSelector","mirror","mirrorOutput","NextFieldset","fwd","nextFieldset","currentFieldset","goTo","nextBtnSelector","prevBtnSelector","nextBtnElem","prevBtnElem","onSubmit","textareaMirrors","actSubmitBtn","ret","obj","unlockSubmitButton","clearForm","BindLabels","forID","DuplicateForm","modelElem","destElem","duplicatedDiv","dupicatedElements","dupicatedElem","labelElements","j","duplElem","addBtnSelector","removeBtnSelector","addBtnElem","removeBtnElem","Accord","contentElem","allButtonElem","allContentElem","More","btnTxt","Tab","btnElements","tabItemElements","tabItemElem","contElements","tabItemElemActive","Alert","alertIndex","alertId","showOnce","cookie","elemId","matchArr","alertElem","position","setContent","content","hidePermanently","toUTCString","Bubble","bubbleDiv","bubbleClass","canBeHidden","show","bubleStyle","bubbleMinWidth","bubblePotentWidth","left","coordX","width","coordY","mouseOver","mouseOut","ontouchstart","removeEventListener","Anchor","shift","anchorId","anchorSectionElem","Diagram","canvasElement","canvasId","chartValues","charts","map","ctx","clearRect","center","x","y","prevChartsWidth","chart","drawChart","getContext","canvasWidth","startAngle","PI","endAngle","maxValue","radius","beginPath","arc","lineWidth","strokeStyle","color","stroke","outputNum","numElem","numContId","toFixed","Numberspin","Share","encodedHref","encodeURIComponent","network","net","popup","Timer","setCookie","output","min","floor","sec","timerOut","format","numToWord","wordsArr","minTxt","secTxt","minOut","secNum","minNum","stop","clearInterval","onStop","startTime","lastTimestampValue","stopwatch","setInterval","GetContentAjax","eventBtn","getContent","eventBtnElem","outputDivElem","outputDiv","sourceFile","console","log","DragLine","dragStart","dragLineElements","getElementsByClassName","lineClass","dlElem","getElementsByTagName","bind"],"mappings":"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","file":"script.js","sourcesContent":["// global variables\r\n; var browser, ajax, animate;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t// Get useragent\r\n\tdocument.documentElement.setAttribute('data-useragent', navigator.userAgent.toLowerCase());\r\n\r\n\t// Browser identify\r\n\tbrowser = (function(userAgent) {\r\n\t\tuserAgent = userAgent.toLowerCase();\r\n\r\n\t\tif (/(msie|rv:11\\.0)/.test(userAgent)) {\r\n\t\t\treturn 'ie';\r\n\t\t}\r\n\t})(navigator.userAgent);\r\n\r\n\t// Add support CustomEvent constructor for IE\r\n\ttry {\r\n\t\tnew CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\r\n\t} catch (e) {\r\n\t\twindow.CustomEvent = function(event, params) {\r\n\t\t\tvar evt;\r\n\r\n\t\t\tparams = params || {\r\n\t\t\t\tbubbles: false,\r\n\t\t\t\tcancelable: false,\r\n\t\t\t\tdetail: undefined\r\n\t\t\t};\r\n\r\n\t\t\tevt = document.createEvent(\"CustomEvent\");\r\n\r\n\t\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\r\n\t\t\treturn evt;\r\n\t\t}\r\n\r\n\t\tCustomEvent.prototype = Object.create(window.Event.prototype);\r\n\t}\r\n\r\n\t// Window Resized Event\r\n\tvar winResizedEvent = new CustomEvent('winResized'),\r\n\trsz = true;\r\n\r\n\twindow.addEventListener('resize', function() {\r\n\t\tif (rsz) {\r\n\t\t\trsz = false;\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\twindow.dispatchEvent(winResizedEvent);\r\n\t\t\t\trsz = true;\r\n\t\t\t}, 1021);\r\n\t\t}\r\n\t});\r\n\r\n\t// Closest polyfill\r\n\tif (!Element.prototype.closest) {\r\n\t\t(function(ElProto) {\r\n\t\t\tElProto.matches = ElProto.matches || ElProto.mozMatchesSelector || ElProto.msMatchesSelector || ElProto.oMatchesSelector || ElProto.webkitMatchesSelector;\r\n\r\n\t\t\tElProto.closest = ElProto.closest || function closest(selector) {\r\n\t\t\t\tif (!this) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.matches(selector)) {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this.parentElement) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.parentElement.closest(selector);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t})(Element.prototype);\r\n\t}\r\n\r\n\t// Check element for hidden\r\n\tElement.prototype.elementIsHidden = function() {\r\n\t\tvar elem = this;\r\n\r\n\t\twhile (elem) {\r\n\t\t\tif (!elem) break;\r\n\r\n\t\t\tvar compStyle = getComputedStyle(elem);\r\n\r\n\t\t\tif (compStyle.display == 'none' || compStyle.visibility == 'hidden' || compStyle.opacity == '0') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\telem = elem.parentElement;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Ajax\r\n\tajax = function(options) {\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\r\n\t\txhr.open('POST', options.url);\r\n\r\n\t\tif (typeof options.send == 'string') {\r\n\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n\t\t}\r\n\t\t\r\n\t\txhr.onreadystatechange = function() {\r\n\t\t\tif (xhr.readyState == 4 && xhr.status == 200) {\r\n\t\t\t\toptions.success(xhr.response);\r\n\t\t\t} else if (xhr.readyState == 4 && xhr.status != 200) {\r\n\t\t\t\toptions.error(xhr.response);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\txhr.send(options.send);\r\n\t}\r\n\r\n\t/*\r\n\tAnimation\r\n\tanimate(function(takes 0...1) {}, Int duration in ms[, Str easing[, Fun animation complete]]);\r\n\t*/\r\n\tanimate = function(draw, duration, ease, complete) {\r\n\t\tvar start = performance.now();\r\n\r\n\t\trequestAnimationFrame(function anim(time) {\r\n\t\t\tvar timeFraction = (time - start) / duration;\r\n\r\n\t\t\tif (timeFraction > 1) {\r\n\t\t\t\ttimeFraction = 1;\r\n\t\t\t}\r\n\r\n\t\t\tvar progress = (ease) ? easing(timeFraction, ease) : timeFraction;\r\n\r\n\t\t\tdraw(progress);\r\n\r\n\t\t\tif (timeFraction < 1) {\r\n\t\t\t\trequestAnimationFrame(anim);\r\n\t\t\t} else {\r\n\t\t\t\tif (complete != undefined) {\r\n\t\t\t\t\tcomplete();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction easing(timeFraction, ease) {\r\n\t\tswitch (ease) {\r\n\t\t\tcase 'easeInQuad':\r\n\t\t\treturn quad(timeFraction);\r\n\t\t\t\r\n\t\t\tcase 'easeOutQuad':\r\n\t\t\treturn 1 - quad(1 - timeFraction);\r\n\t\t\t\r\n\t\t\tcase 'easeInOutQuad':\r\n\t\t\tif (timeFraction <= 0.5) {\r\n\t\t\t\treturn quad(2 * timeFraction) / 2;\r\n\t\t\t} else {\r\n\t\t\t\treturn (2 - quad(2 * (1 - timeFraction))) / 2;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction quad(timeFraction) {\r\n\t\treturn Math.pow(timeFraction, 2)\r\n\t}\r\n})();","; var MobNav;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\t//fix header\r\n\tvar headerElem = document.querySelector('.header');\r\n\r\n\twindow.addEventListener('scroll', function() {\r\n\t\tif (window.pageYOffset > 21) {\r\n\t\t\theaderElem.classList.add('header_fixed');\r\n\t\t} else if (!document.body.classList.contains('popup-is-opened') && !document.body.classList.contains('mob-nav-is-opened')) {\r\n\t\t\theaderElem.classList.remove('header_fixed');\r\n\t\t}\r\n\t});\r\n\r\n\t//mob menu\r\n\tMobNav = {\r\n\t\toptions: null,\r\n\t\twinScrollTop: 0,\r\n\r\n\t\tfixBody: function(st) {\r\n\t\t\tif (st) {\r\n\t\t\t\tthis.winScrollTop = window.pageYOffset;\r\n\r\n\t\t\t\tdocument.body.classList.add('mob-nav-is-opened');\r\n\t\t\t\tdocument.body.style.top = -this.winScrollTop +'px';\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove('mob-nav-is-opened');\r\n\r\n\t\t\t\twindow.scrollTo(0, this.winScrollTop);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function(btnElem) {\r\n\t\t\tvar headerElem = document.getElementById(this.options.headerId);\r\n\r\n\t\t\tif (!headerElem) return;\r\n\r\n\t\t\tif (btnElem.classList.contains('opened')) {\r\n\t\t\t\tthis.close();\r\n\t\t\t} else {\r\n\t\t\t\tbtnElem.classList.add('opened');\r\n\t\t\t\theaderElem.classList.add('opened');\r\n\t\t\t\tthis.fixBody(true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar headerElem = document.getElementById(this.options.headerId);\r\n\r\n\t\t\tif (!headerElem) return;\r\n\r\n\t\t\theaderElem.classList.remove('opened');\r\n\r\n\t\t\tvar openBtnElements = document.querySelectorAll(this.options.openBtn);\r\n\r\n\t\t\tfor (var i = 0; i < openBtnElements.length; i++) {\r\n\t\t\t\topenBtnElements[i].classList.remove('opened');\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(false);\r\n\t\t},\r\n\r\n\t\tinit: function(options) {\r\n\t\t\tthis.options = options;\r\n\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar openElem = e.target.closest(options.openBtn),\r\n\t\t\t\tcloseElem = e.target.closest(options.closeBtn),\r\n\t\t\t\tmenuLinkElement = e.target.closest(options.menuLinkSelector);\r\n\r\n\t\t\t\tif (openElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.open(openElem);\r\n\t\t\t\t} else if (closeElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t} else if (menuLinkElement) {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","/*\r\n* call Menu.init(Str menu item selector, Str sub menu selector);\r\n*/\r\nvar Menu;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tMenu = {\r\n\t\ttoggle: function(elem, elementStr, subMenuStr) {\r\n\t\t\tvar subMenuElem = elem.querySelector(subMenuStr);\r\n\r\n\t\t\tif (!subMenuElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (elem.classList.contains('active')) {\r\n\t\t\t\tsubMenuElem.style.height = 0;\r\n\r\n\t\t\t\telem.classList.remove('active');\r\n\t\t\t} else {\r\n\t\t\t\tvar mainElem = elem.closest('.menu'),\r\n\t\t\t\titemElements = mainElem.querySelectorAll(elementStr),\r\n\t\t\t\tsubMenuElements = mainElem.querySelectorAll(subMenuStr);\r\n\r\n\t\t\t\tfor (var i = 0; i < itemElements.length; i++) {\r\n\t\t\t\t\titemElements[i].classList.remove('accord__button_active');\r\n\t\t\t\t\tsubMenuElements[i].style.height = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsubMenuElem.style.height = subMenuElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('active');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, subMenuStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.toggle(elem, elementStr, subMenuStr);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","/*\r\nFsScroll.init({\r\n\tcontainer: Str selector,\r\n\tscreen: Str selector,\r\n\tduration: Int milliseconds\r\n});\r\n*/\r\n\r\n; var FsScroll;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tFsScroll = {\r\n\t\toptions: null,\r\n\t\tcontElem: null,\r\n\t\tscrolling: false,\r\n\t\tdelta: 0,\r\n\r\n\t\tcurrent: function() {\r\n\t\t\tvar midWinScrollTop = window.pageYOffset + window.innerHeight / 2,\r\n\t\t\tscreenElements = this.contElem.querySelectorAll(this.options.screen);\r\n\r\n\t\t\tfor (var i = 0; i < screenElements.length; i++) {\r\n\t\t\t\tscreenElements[i].classList.remove('fsscroll__screen_current');\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < screenElements.length; i++) {\r\n\t\t\t\tvar screenOffsetTop = screenElements[i].getBoundingClientRect().top + window.pageYOffset;\r\n\r\n\t\t\t\tif (screenOffsetTop <= midWinScrollTop && (screenOffsetTop + screenElements[i].offsetHeight) >= midWinScrollTop) {\r\n\r\n\t\t\t\t\tscreenElements[i].classList.add('fsscroll__screen_current');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tscroll: function(scrollTo, scroll) {\r\n\t\t\tthis.scrolling = true;\r\n\t\t\t\r\n\t\t\tvar duration = this.options.duration || 1000,\r\n\t\t\teasing = 'easeInOutQuad';\r\n\r\n\t\t\tif (scroll) {\r\n\t\t\t\tduration = 500;\r\n\t\t\t\teasing = 'easeInOutQuad';\r\n\t\t\t}\r\n\r\n\t\t\tanimate(function(progress) {\r\n\t\t\t\twindow.scrollTo(0, ((scrollTo * progress) + ((1 - progress) * window.pageYOffset)));\r\n\t\t\t}, duration, easing, () => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.current();\r\n\r\n\t\t\t\t\tthis.scrolling = false;\r\n\t\t\t\t\tthis.delta = 0;\r\n\t\t\t\t}, 321);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tmouseScroll: function(delta) {\r\n\t\t\tvar currentScreenElem = this.contElem.querySelector('.fsscroll__screen_current'),\r\n\t\t\twinScrollBottom = window.pageYOffset + window.innerHeight;\r\n\r\n\t\t\tif (delta > 0) {\r\n\t\t\t\tvar nextScreenElem = (currentScreenElem) ? currentScreenElem.nextElementSibling : null;\r\n\r\n\t\t\t\tif (currentScreenElem && ((currentScreenElem.offsetHeight - 21) < window.innerHeight) && !currentScreenElem.classList.contains('fsscroll__screen_last')) {\r\n\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\tvar currentScreenOffsetTop = currentScreenElem.getBoundingClientRect().top + window.pageYOffset;\r\n\r\n\t\t\t\t\t\tif ((window.pageYOffset + 21) < currentScreenOffsetTop) {\r\n\t\t\t\t\t\t\tthis.scroll(currentScreenOffsetTop);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenElem.getBoundingClientRect().top + window.pageYOffset);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar nextScreenOffsetTop = (nextScreenElem) ? nextScreenElem.getBoundingClientRect().top + window.pageYOffset : undefined;\r\n\r\n\t\t\t\t\tif (nextScreenElem && (winScrollBottom > nextScreenOffsetTop)) {\r\n\t\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenOffsetTop);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.delta += delta / 3;\r\n\r\n\t\t\t\t\t\tthis.scroll(window.pageYOffset + this.delta, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (delta < 0) {\r\n\t\t\t\tvar nextScreenElem = (currentScreenElem) ? currentScreenElem.previousElementSibling : null;\r\n\r\n\t\t\t\tif (nextScreenElem && ((currentScreenElem.offsetHeight - 21) < window.innerHeight) && !currentScreenElem.classList.contains('fsscroll__screen_first')) {\r\n\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\tvar currentScreenOffsetTop = currentScreenElem.getBoundingClientRect().top + window.pageYOffset;\r\n\r\n\t\t\t\t\t\tif ((winScrollBottom - 21) > (currentScreenOffsetTop + currentScreenElem.offsetHeight)) {\r\n\t\t\t\t\t\t\tthis.scroll(currentScreenOffsetTop + currentScreenElem.offsetHeight - window.innerHeight);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenElem.getBoundingClientRect().top + window.pageYOffset + nextScreenElem.offsetHeight - window.innerHeight);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar nextScreenOffsetTop = (nextScreenElem) ? nextScreenElem.getBoundingClientRect().top + window.pageYOffset : undefined;\r\n\r\n\t\t\t\t\tif (nextScreenElem && ((nextScreenOffsetTop + nextScreenElem.offsetHeight) > window.pageYOffset)) {\r\n\t\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenOffsetTop);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.delta += delta / 3;\r\n\t\t\t\t\t\tthis.scroll(window.pageYOffset + this.delta, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(options) {\r\n\t\t\tvar contElem = document.querySelector(options.container);\r\n\r\n\t\t\tif (!contElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.options = options;\r\n\t\t\tthis.contElem = contElem;\r\n\r\n\t\t\tvar screenElements = contElem.querySelectorAll(options.screen);\r\n\r\n\t\t\tscreenElements[0].classList.add('fsscroll__screen_first');\r\n\t\t\tscreenElements[0].classList.add('fsscroll__screen_current');\r\n\t\t\tscreenElements[screenElements.length - 1].classList.add('fsscroll__screen_last');\r\n\r\n\t\t\tif ('onwheel' in document) {\r\n\t\t\t\tdocument.addEventListener('wheel', (e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.mouseScroll(e.deltaY);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twindow.addEventListener('scroll', () => {\r\n\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\tthis.current();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","/*\r\nToggle.init(Str toggleSelector[, onDocClickToggleOffSelecor[, Str toggledClass (default - 'toggled')]]);\r\n\r\nToggle.onChange = function(toggleElem, state) {\r\n\t// code...\r\n}\r\n*/\r\n\r\n; var Toggle;\r\n\r\n(function() {\r\n\t'use strict';\r\n\t\r\n\tToggle = {\r\n\t\ttoggledClass: 'toggled',\r\n\t\tonChange: null,\r\n\t\t\r\n\t\ttarget: function(toggleElem, state) {\r\n\t\t\tvar targetElements = document.querySelectorAll(toggleElem.getAttribute('data-target-elements'));\r\n\t\t\t\r\n\t\t\tif (!targetElements.length) return;\r\n\t\t\t\r\n\t\t\tif (state) {\r\n\t\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\t\ttargetElements[i].classList.add(this.toggledClass);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//dependence elements\r\n\t\t\t\tif (toggleElem.hasAttribute('data-dependence-target-elements')) {\r\n\t\t\t\t\tvar dependenceTargetElements = document.querySelectorAll(toggleElem.getAttribute('data-dependence-target-elements'));\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var i = 0; i < dependenceTargetElements.length; i++) {\r\n\t\t\t\t\t\tdependenceTargetElements[i].classList.remove(this.toggledClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\t\ttargetElements[i].classList.remove(this.toggledClass);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\ttoggle: function(toggleElem, off) {\r\n\t\t\tvar state;\r\n\t\t\t\r\n\t\t\tif (toggleElem.classList.contains(this.toggledClass)) {\r\n\t\t\t\ttoggleElem.classList.remove(this.toggledClass);\r\n\t\t\t\t\r\n\t\t\t\tstate = false;\r\n\t\t\t\t\r\n\t\t\t\tif (toggleElem.hasAttribute('data-first-text')) {\r\n\t\t\t\t\ttoggleElem.innerHTML = toggleElem.getAttribute('data-first-text');\r\n\t\t\t\t}\r\n\t\t\t} else if (!off) {\r\n\t\t\t\ttoggleElem.classList.add(this.toggledClass);\r\n\t\t\t\t\r\n\t\t\t\tstate = true;\r\n\t\t\t\t\r\n\t\t\t\tif (toggleElem.hasAttribute('data-second-text')) {\r\n\t\t\t\t\ttoggleElem.setAttribute('data-first-text', toggleElem.innerHTML);\r\n\t\t\t\t\t\r\n\t\t\t\t\ttoggleElem.innerHTML = toggleElem.getAttribute('data-second-text');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//target\r\n\t\t\tif (toggleElem.hasAttribute('data-target-elements')) {\r\n\t\t\t\tthis.target(toggleElem, state);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//call onChange\r\n\t\t\tif (this.onChange) {\r\n\t\t\t\tthis.onChange(toggleElem, state);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tonDocClickOff: function (e, onDocClickOffSelector) {\r\n\t\t\tvar toggleElements = document.querySelectorAll(onDocClickOffSelector + '.' +this.toggledClass);\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < toggleElements.length; i++) {\r\n\t\t\t\tvar elem = toggleElements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elem.hasAttribute('data-target-elements')) {\r\n\t\t\t\t\tvar targetSelectors = elem.getAttribute('data-target-elements');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!e.target.closest(targetSelectors)) {\r\n\t\t\t\t\t\tthis.toggle(elem, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function(toggleSelector, onDocClickOffSelector, toggledClass) {\r\n\t\t\tif (toggledClass) {\r\n\t\t\t\tthis.toggledClass = toggledClass;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar toggleElem = e.target.closest(toggleSelector);\r\n\t\t\t\t\r\n\t\t\t\tif (toggleElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.toggle(toggleElem);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.onDocClickOff(e, onDocClickOffSelector);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","; var FlexImg;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tFlexImg = function(elementsStr) {\r\n\r\n\t\tfunction load(elem) {\r\n\r\n\t\t\tif (!elem.hasAttribute('data-images')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar images = elem.getAttribute('data-images').split(',');\r\n\r\n\t\t\timages.forEach(function(image) {\r\n\r\n\t\t\t\tvar imageProp = image.split('->');\r\n\r\n\t\t\t\tif (window.innerWidth < (+imageProp[0])) {\r\n\t\t\t\t\telem.src = imageProp[1];\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\t//init\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\tif (elements.length) {\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tload(elements[i]);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n})();","var CoverImg;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tCoverImg = {\r\n\t\tcover: function(e) {\r\n\t\t\tvar img = e.currentTarget,\r\n\t\t\timgWrap = img.closest('.cover-img-wrap'),\r\n\t\t\timgProportion = img.offsetWidth/img.offsetHeight,\r\n\t\t\timgWrapProportion = imgWrap.offsetWidth/imgWrap.offsetHeight;\r\n\r\n\t\t\tif (imgWrapProportion != Infinity && imgWrapProportion < 21) {\r\n\r\n\t\t\t\tif (imgProportion <= imgWrapProportion) {\r\n\t\t\t\t\tvar margin = Math.round(-(imgWrap.offsetWidth / imgProportion - imgWrap.offsetHeight) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t\t\timg.style.marginTop = margin +'px';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar margin = Math.round(-(imgWrap.offsetHeight * imgProportion - imgWrap.offsetWidth) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_h');\r\n\t\t\t\t\timg.style.marginLeft = margin +'px';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\treInit: function(parentElementStr) {\r\n\r\n\t\t\tvar elements;\r\n\r\n\t\t\tif (parentElementStr) {\r\n\t\t\t\tif (typeof parentElementStr == 'string') {\r\n\t\t\t\t\telements = document.querySelectorAll(parentElementStr +' .cover-img');\r\n\t\t\t\t} else {\r\n\t\t\t\t\telements = parentElementStr.querySelectorAll('.cover-img');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\telements = document.querySelectorAll('.cover-img');\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar img = elements[i];\r\n\r\n\t\t\t\timg.classList.remove('cover-img_w');\r\n\t\t\t\timg.classList.remove('cover-img_h');\r\n\t\t\t\timg.style.marginTop = '';\r\n\t\t\t\timg.style.marginLeft = '';\r\n\t\t\t\timg.src = (browser == 'ie') ? (img.src +'?'+ new Date().getTime()) : img.src;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(parentElementStr) {\r\n\t\t\tvar elements = (parentElementStr) ? document.querySelectorAll(parentElementStr +' .cover-img, '+ parentElementStr +' .cover-img-wrap') : document.querySelectorAll('.cover-img, .cover-img-wrap');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\timg;\r\n\r\n\t\t\t\tif (elem.classList.contains('cover-img-wrap')) {\r\n\r\n\t\t\t\t\timg = elem.querySelector('img');\r\n\r\n\t\t\t\t\timg.classList.add('cover-img');\r\n\r\n\t\t\t\t} else if (elem.classList.contains('cover-img')) {\r\n\r\n\t\t\t\t\timg = elem;\r\n\r\n\t\t\t\t\timg.parentElement.classList.add('cover-img-wrap');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!img.hasAttribute('data-event')) {\r\n\r\n\t\t\t\t\timg.addEventListener('load', this.cover);\r\n\r\n\t\t\t\t\timg.setAttribute('data-event', 'true');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (browser == 'ie') {\r\n\t\t\t\t\timg.src = img.src +'?'+ new Date().getTime();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n})();","/*\r\ncall to init:\r\nVideo.init(Str button selector);\r\n*/\r\nvar Video;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tVideo = {\r\n\t\tplay: function(elem) {\r\n\t\t\telem.nextElementSibling.classList.add('video__frame_visible');\r\n\r\n\t\t\tvar iFrame = document.createElement('iframe');\r\n\r\n\t\t\tiFrame.src = elem.getAttribute('data-src') +'?autoplay=1&rel=0&amp;showinfo=0';\r\n\t\t\tiFrame.allow = 'autoplay; encrypted-media';\r\n\t\t\tiFrame.allowFullscreen = true;\r\n\r\n\t\t\tiFrame.addEventListener('load', function() {\r\n\t\t\t\tiFrame.classList.add('visible');\r\n\t\t\t});\r\n\r\n\t\t\telem.nextElementSibling.appendChild(iFrame);\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.play(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","var Popup, MediaPopup;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\t//popup core\r\n\tPopup = {\r\n\t\twinScrollTop: 0,\r\n\t\tonClose: null,\r\n\t\theaderSelector: '.header',\r\n\r\n\t\tfixBody: function(st) {\r\n\t\t\tvar headerElem = document.querySelector(this.headerSelector);\r\n\r\n\t\t\tif (st && !document.body.classList.contains('popup-is-opened')) {\r\n\t\t\t\tthis.winScrollTop = window.pageYOffset;\r\n\r\n\t\t\t\tvar offset = window.innerWidth - document.documentElement.clientWidth;\r\n\r\n\t\t\t\tdocument.body.classList.add('popup-is-opened');\r\n\r\n\t\t\t\tif (headerElem) {\r\n\t\t\t\t\theaderElem.style.right = offset +'px';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdocument.body.style.right = offset +'px';\r\n\r\n\t\t\t\tdocument.body.style.top = (-this.winScrollTop) +'px';\r\n\t\t\t} else if (!st) {\r\n\t\t\t\tif (headerElem) {\r\n\t\t\t\t\theaderElem.style.right = '';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdocument.body.classList.remove('popup-is-opened');\r\n\r\n\t\t\t\twindow.scrollTo(0, this.winScrollTop);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function(elementStr, callback) {\r\n\t\t\tvar elem = document.querySelector(elementStr);\r\n\r\n\t\t\tif (!elem || !elem.classList.contains('popup__window')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.close();\r\n\r\n\t\t\tvar elemParent = elem.parentElement;\r\n\t\t\t\r\n\t\t\telemParent.classList.add('popup_visible');\r\n\r\n\t\t\telem.classList.add('popup__window_visible');\r\n\r\n\t\t\tif (callback) {\r\n\t\t\t\tthis.onClose = callback;\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(true);\r\n\r\n\t\t\treturn elem;\r\n\t\t},\r\n\r\n\t\tmessage: function(elementStr, msg, callback) {\r\n\t\t\tvar elem = this.open(elementStr, callback);\r\n\r\n\t\t\telem.querySelector('.popup__inner').innerHTML = '<div class=\"popup__message\">'+ msg +'</div>';\r\n\t\t},\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar elements = document.querySelectorAll('.popup__window');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.classList.contains('popup__window_visible')) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.remove('popup__window_visible');\r\n\t\t\t\telem.parentElement.classList.remove('popup_visible');\r\n\t\t\t}\r\n\r\n\t\t\tif (this.onClose) {\r\n\t\t\t\tthis.onClose();\r\n\t\t\t\tthis.onClose = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar element = e.target.closest(elementStr),\r\n\t\t\t\tcloseElem = e.target.closest('.js-popup-close');\r\n\r\n\t\t\t\tif (element) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.open(element.getAttribute('data-popup'));\r\n\t\t\t\t} else if (closeElem || (!e.target.closest('.popup__window') && e.target.closest('.popup'))) {\r\n\t\t\t\t\tthis.fixBody(false);\r\n\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (window.location.hash) {\r\n\t\t\t\tthis.open(window.location.hash);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//popup media\r\n\tMediaPopup = {\r\n\t\timage: function(args) {\r\n\t\t\tvar elemPopup = Popup.open(args.popupStr),\r\n\t\t\telemImg = elemPopup.querySelector('.popup-media__image');\r\n\r\n\t\t\tPopup.onClose = function() {\r\n\t\t\t\telemImg.src = '#';\r\n\t\t\t\telemImg.classList.remove('popup-media__image_visible'); \r\n\t\t\t}\r\n\r\n\t\t\telemImg.src = args.href;\r\n\t\t\telemImg.classList.add('popup-media__image_visible');\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tvideo: function(args) {\r\n\r\n\t\t},\r\n\r\n\t\tnext: function(elem) {\r\n\t\t\tif (!elem.hasAttribute('data-group')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar group = elem.getAttribute('data-group'),\r\n\t\t\tindex = [].slice.call(document.querySelectorAll('[data-group=\"'+ group +'\"]')).indexOf(elem);\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar element = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!element) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tvar type = element.getAttribute('data-type'),\r\n\t\t\t\targs = {\r\n\t\t\t\t\thref: element.href,\r\n\t\t\t\t\tcaption: element.getAttribute('data-caption'),\r\n\t\t\t\t\tgroup: element.getAttribute('data-group'),\r\n\t\t\t\t\tpopupStr: element.getAttribute('data-popup')\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (type == 'image') {\r\n\t\t\t\t\tthis.image(args);\r\n\t\t\t\t} else if (type == 'video') {\r\n\t\t\t\t\tthis.video(args);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.next(element);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n})();\r\n\r\n\r\n\r\n/*var pPopup = {\r\n\tcloseCallback: function() {},\r\n\tplay: null,\r\n\tind: 0,\r\n\tgroup: null,\r\n\tposition: 0,\r\n\r\n\tshow: function(id, fun) {\r\n\t\tvar _ = this,\r\n\t\t$popWin = $(id),\r\n\t\t$popup = $popWin.closest('.popup');\r\n\t\t\r\n\t\tif ($popWin.length && $popWin.hasClass('popup__window')) {\r\n\r\n\t\t\t_.position = $(window).scrollTop();\r\n\t\t\t$popup.fadeIn(321).scrollTop(0);\r\n\t\t\t$('.popup__window').removeClass('popup__window_visible');\r\n\t\t\t$popWin.addClass('popup__window_visible');\r\n\t\t\t$('body').css('top', -_.position).addClass('is-popup-opened');\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tCoverImg.reInit('#media-popup');\r\n\t\t\t}, 721);\r\n\r\n\t\t}\r\n\r\n\t\t_.closeCallback = fun || function() {};\r\n\t},\r\n\r\n\thide: function() {\r\n\t\tvar _ = this;\r\n\t\t$('.popup__window').removeClass('popup__window_visible');\r\n\t\t$('.popup').fadeOut(321);\r\n\t\t$('.popup__message').remove();\r\n\t\t$('body').removeClass('is-popup-opened').removeAttr('style');\r\n\t\t$('html, body').scrollTop(_.position);\r\n\t\t_.closeCallback();\r\n\t},\r\n\r\n\tmessage: function(id,msg,fun) {\r\n\t\tvar _ = this;\r\n\t\t$(id).find('.popup__inner').prepend('<div class=\"popup__message\">'+ msg +'</div>');\r\n\t\t_.show(id);\r\n\t\t_.closeCallback = fun || function() {};\r\n\t},\r\n\r\n\tresize: function($pop, $img) {\r\n\t\tvar popH = $pop.innerHeight();\r\n\t\tif (popH > window.innerHeight) {\r\n\t\t\t$pop.css('max-width', (window.innerHeight * ($pop.innerWidth() / popH)));\r\n\t\t}\r\n\t},\r\n\r\n\tmedia: function(_$,args,show) {\r\n\t\tvar _ = this,\r\n\t\tid = $(_$).attr('data-popup'),\r\n\t\tPop = $(id),\r\n\t\t$box = Pop.find('.popup-media__box'),\r\n\t\tImg = Pop.find('.popup-media__image'),\r\n\t\tBtnPlay = Pop.find('.popup-media__play'),\r\n\t\tIframe = Pop.find('.popup-media__iframe');\r\n\r\n\t\tif (args.data) {\r\n\t\t\tPop.find('.popup-media__bar').css('display', 'block');\r\n\t\t\tvar data = JSON.parse( args.data );\r\n\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\tPop.find('.popup-media__data-'+ i).html(data[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (args.imgSize) {\r\n\t\t\tvar imgSize = JSON.parse(args.imgSize);\r\n\t\t\tImg.attr('width', imgSize[0]).attr('height', imgSize[1]);\r\n\t\t} else {\r\n\t\t\tImg.attr('width', '').attr('height', '');\r\n\t\t}\r\n\r\n\t\tif (args.img) {\r\n\t\t\tImg.css({visibility: 'visible', marginLeft: '', marginTop: ''}).removeClass('cover-img_w cover-img_h').attr('src', args.img);\r\n\t\t}\r\n\t\t\r\n\t\t//Pop.css('max-width', '');\r\n\t\tIframe.css('visibility', 'hidden').attr('src', '');\r\n\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t\r\n\t\tif (args.vid) {\r\n\t\t\t$box.removeClass('middle').addClass('cover-img-wrap');\r\n\t\t\tImg.removeClass('middle__img').addClass('cover-img');\r\n\t\t\tBtnPlay.css('visibility', 'visible').attr('href', args.vid);\r\n\r\n\t\t\t_.play = function() {\r\n\t\t\t\tvar utm = args.vid.match(/(?:youtu\\.be\\/|youtube\\.com\\/watch\\?v\\=|youtube\\.com\\/embed\\/)+?([\\w-]+)/i),\r\n\t\t\t\tifrSrc = 'https://www.youtube.com/embed/'+ utm[1] +'?autoplay=1';\r\n\t\t\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t\t\tImg.css('visibility', 'hidden');\r\n\t\t\t\tIframe.css('visibility', 'visible').attr('src', ifrSrc);\r\n\t\t\t}\r\n\r\n\t\t\tif (!args.img) {\r\n\t\t\t\t_.play();\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tCoverImg.init(id);\r\n\t\t\t\t\tImg.attr('src', args.img);\r\n\t\t\t\t}, 721);\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\r\n\t\t} else {\r\n\t\t\t$box.removeClass('cover-img-wrap').addClass('middle');\r\n\t\t\tImg.removeClass('cover-img').addClass('middle__img');\r\n\t\t}\r\n\r\n\r\n\r\n\t\tif (args.group) {\r\n\t\t\tPop.find('.popup-media__arr').css('display', 'block');\r\n\t\t\t_.group =  $(_$).attr('data-group');\r\n\t\t\t_.ind = $('[data-group=\"'+ _.group +'\"]').index(_$);\r\n\t\t}\r\n\r\n\t\tif (show) {\r\n\t\t\t_.show(id);\r\n\t\t}\r\n\r\n\t\tif (!args.vid) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_.resize(Pop, Img);\r\n\t\t\t}, 721);\r\n\t\t}\r\n\r\n\t\t_.closeCallback = function() {\r\n\t\t\tImg.css('visibility', 'hidden').attr('src', '');\r\n\t\t\tIframe.css('visibility', 'hidden').attr('src', '');\r\n\t\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tnext: function(dir) {\r\n\t\tvar _ = this,\r\n\t\t$next,\r\n\t\tind = _.ind;\r\n\r\n\t\tif (dir == 'next') {\r\n\t\t\tind++;\r\n\t\t\tif ($('[data-group=\"'+ _.group +'\"]').eq(ind).length) {\r\n\t\t\t\t$next = $('[data-group=\"'+ _.group +'\"]').eq(ind);\r\n\t\t\t}\r\n\t\t} else if (dir == 'prev' && ind > 0) {\r\n\t\t\tind--;\r\n\t\t\tif ($('[data-group=\"'+ _.group +'\"]').eq(ind).length) {\r\n\t\t\t\t$next = $('[data-group=\"'+ _.group +'\"]').eq(ind);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ($next) {\r\n\t\t\tvar args;\r\n\r\n\t\t\tif ($next.hasClass('js-open-popup-image')) {\r\n\t\t\t\targs = {\r\n\t\t\t\t\timg: $next.attr('href'),\r\n\t\t\t\t\timgSize: $next.attr('data-image-size'),\r\n\t\t\t\t\tgroup: $next.attr('data-group'),\r\n\t\t\t\t\tdata: $next.attr('data-data')\r\n\t\t\t\t};\r\n\t\t\t} else if ($next.hasClass('js-open-popup-video')) {\r\n\t\t\t\targs = {\r\n\t\t\t\t\tvid: $next.attr('href'),\r\n\t\t\t\t\timg: $next.attr('data-preview'),\r\n\t\t\t\t\timgSize: $next.attr('data-preview-size'),\r\n\t\t\t\t\tgroup: $next.attr('data-group'),\r\n\t\t\t\t\tdata: $next.attr('data-data')\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t_.media($next, args);\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n};*/\r\n\r\n\r\n/*$(document).ready(function() {\r\n\t$('body').on('click', '.js-open-popup', function () {\r\n\t\tPopup.show($(this).attr('data-popup'));\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-popup-image', function () {\r\n\t\tvar args = {\r\n\t\t\timg: $(this).attr('href'),\r\n\t\t\timgSize: $(this).attr('data-image-size'),\r\n\t\t\tgroup: $(this).attr('data-group'),\r\n\t\t\tdata: $(this).attr('data-data')\r\n\t\t};\r\n\t\tPopup.media(this, args, true);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-popup-video', function () {\r\n\t\tvar args = {\r\n\t\t\tvid: $(this).attr('href'),\r\n\t\t\timg: $(this).attr('data-preview'),\r\n\t\t\timgSize: $(this).attr('data-preview-size'),\r\n\t\t\tgroup: $(this).attr('data-group'),\r\n\t\t\tdata: $(this).attr('data-data')\r\n\t\t};\r\n\t\tPopup.media(this, args, true);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup-media__play', function () {\r\n\t\tPopup.play();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup-media__arr', function () {\r\n\t\tPopup.next($(this).attr('data-dir'));\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-msg-popup', function () {\r\n\t\tPopup.message('#message-popup', 'Это всплывашка с сообщением.<br> вызов: <span class=\"c-red\">Popup.message(\"#id\", \"Текст или html\");</span>', function() { alert('После закрытия'); });\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup__close', function () {\r\n\t\tPopup.hide();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup', function(e) {\r\n\t\tif (!$(e.target).closest('.popup__window').length) {\r\n\t\t\tPopup.hide();\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tif (window.location.hash) {\r\n\t\tvar hash = window.location.hash;\r\n\t\tif($(hash).length && $(hash).hasClass('popup__window')){\r\n\t\t\tPopup.show(hash);\r\n\t\t}\r\n\t}\r\n\r\n});*/","(function() {\r\n\t'use strict';\r\n\r\n\t//show element on checkbox change\r\n\tvar ChangeCheckbox = {\r\n\t\thideCssClass: 'hidden',\r\n\r\n\t\tchange: function(elem) {\r\n\t\t\tvar targetElements = (elem.hasAttribute('data-target-elements')) ? document.querySelectorAll(elem.getAttribute('data-target-elements')) : {};\r\n\r\n\t\t\tif (!targetElements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\tvar targetElem = targetElements[i];\r\n\r\n\t\t\t\ttargetElem.style.display = (elem.checked) ? 'block' : 'none';\r\n\t\t\t\t\r\n\t\t\t\tif (elem.checked) {\r\n\t\t\t\t\ttargetElem.classList.remove(this.hideCssClass);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttargetElem.classList.add(this.hideCssClass);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.change(elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t//init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\tChangeCheckbox.init();\r\n\t});\r\n})();","(function() {\r\n\t'use strict';\r\n\r\n\t//show element on radio button change\r\n\tvar ChangeRadio = {\r\n\t\thideCssClass: 'hidden',\r\n\t\t\r\n\t\tchange: function(checkedElem) {\r\n\t\t\tvar elements = document.querySelectorAll('input[type=\"radio\"][name=\"'+ checkedElem.name +'\"]');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\ttargetElements = (elem.hasAttribute('data-target-elements')) ? document.querySelectorAll(elem.getAttribute('data-target-elements')) : {};\r\n\r\n\t\t\t\tif (!targetElements.length) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (let i = 0; i < targetElements.length; i++) {\r\n\t\t\t\t\tvar targetElem = targetElements[i];\r\n\r\n\t\t\t\t\ttargetElem.style.display = (elem.checked) ? 'block' : 'none';\r\n\r\n\t\t\t\t\tif (elem.checked) {\r\n\t\t\t\t\t\ttargetElem.classList.remove(this.hideCssClass);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttargetElem.classList.add(this.hideCssClass);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"radio\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.change(elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t//init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\tChangeRadio.init();\r\n\t});\r\n})();","; var Select;\r\n\r\n(function () {\r\n\t'use strict';\r\n\t\r\n\t// custom select\r\n\tSelect = {\r\n\t\tfield: null,\r\n\t\thideCssClass: 'hidden',\r\n\t\tonSelect: null,\r\n\t\t\r\n\t\treset: function (parentElem) {\r\n\t\t\tvar parElem = parentElem || document, \r\n\t\t\tfieldElements = parElem.querySelectorAll('.custom-select'),\r\n\t\t\tbuttonElements = parElem.querySelectorAll('.custom-select__button'),\r\n\t\t\tinputElements = parElem.querySelectorAll('.custom-select__input'),\r\n\t\t\tvalueElements = parElem.querySelectorAll('.custom-select__val');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < fieldElements.length; i++) {\r\n\t\t\t\tfieldElements[i].classList.remove('custom-select_changed');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < buttonElements.length; i++) {\r\n\t\t\t\tbuttonElements[i].innerHTML = buttonElements[i].getAttribute('data-placeholder');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < inputElements.length; i++) {\r\n\t\t\t\tinputElements[i].value = '';\r\n\t\t\t\tinputElements[i].blur();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < valueElements.length; i++) {\r\n\t\t\t\tvalueElements[i].classList.remove('custom-select__val_checked');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tclose: function () {\r\n\t\t\tvar fieldElements = document.querySelectorAll('.custom-select'),\r\n\t\t\toptionsElements = document.querySelectorAll('.custom-select__options');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < fieldElements.length; i++) {\r\n\t\t\t\tfieldElements[i].classList.remove('custom-select_opened');\r\n\t\t\t\toptionsElements[i].classList.remove('ovfauto');\r\n\t\t\t\toptionsElements[i].style.height = 0;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar listItemElements = document.querySelectorAll('.custom-select__options li');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < listItemElements.length; i++) {\r\n\t\t\t\tlistItemElements[i].classList.remove('hover');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\topen: function () {\r\n\t\t\tthis.field.classList.add('custom-select_opened');\r\n\t\t\t\r\n\t\t\tvar opionsElem = this.field.querySelector('.custom-select__options');\r\n\t\t\t\r\n\t\t\topionsElem.style.height = ((opionsElem.scrollHeight < 132) ? 132 : (opionsElem.scrollHeight + 2)) +'px';\r\n\t\t\t\r\n\t\t\topionsElem.scrollTop = 0;\r\n\t\t\t\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\topionsElem.classList.add('ovfauto');\r\n\t\t\t}, 550);\r\n\t\t},\r\n\t\t\r\n\t\tselectMultipleVal: function (elem, button, input) {\r\n\t\t\tvar toButtonValue = [],\r\n\t\t\ttoInputValue = [],\r\n\t\t\tinputsBlock = this.field.querySelector('.custom-select__multiple-inputs');\r\n\t\t\t\r\n\t\t\telem.classList.toggle('custom-select__val_checked');\r\n\t\t\t\r\n\t\t\tvar checkedElements = this.field.querySelectorAll('.custom-select__val_checked');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < checkedElements.length; i++) {\r\n\t\t\t\tvar elem = checkedElements[i];\r\n\t\t\t\t\r\n\t\t\t\ttoButtonValue[i] = elem.innerHTML;\r\n\t\t\t\ttoInputValue[i] = (elem.hasAttribute('data-value')) ? elem.getAttribute('data-value') : elem.innerHTML;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (toButtonValue.length) {\r\n\t\t\t\tbutton.innerHTML = toButtonValue.join(', ');\r\n\t\t\t\t\r\n\t\t\t\tinput.value = toInputValue[0];\r\n\t\t\t\t\r\n\t\t\t\tinputsBlock.innerHTML = '';\r\n\t\t\t\t\r\n\t\t\t\tif (toInputValue.length > 1) {\r\n\t\t\t\t\tfor (var i = 1; i < toInputValue.length; i++) {\r\n\t\t\t\t\t\tvar yetInput = document.createElement('input');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tyetInput.type = 'hidden';\r\n\t\t\t\t\t\tyetInput.name = input.name;\r\n\t\t\t\t\t\tyetInput.value = toInputValue[i];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tinputsBlock.appendChild(yetInput);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tbutton.innerHTML = button.getAttribute('data-placeholder');\r\n\t\t\t\tinput.value = '';\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\ttargetAction: function () {\r\n\t\t\tvar elements = this.field.querySelectorAll('.custom-select__val');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (!elem.hasAttribute('data-target-elements')) continue;\r\n\t\t\t\t\r\n\t\t\t\tvar targetElem = document.querySelector(elem.getAttribute('data-target-elements'));\r\n\t\t\t\t\r\n\t\t\t\tif (elem.classList.contains('custom-select__val_checked')) {\r\n\t\t\t\t\ttargetElem.style.display = 'block';\r\n\t\t\t\t\ttargetElem.classList.remove(this.hideCssClass);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar textInputElement = targetElem.querySelector('input[type=\"text\"]');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (textInputElement) {\r\n\t\t\t\t\t\ttextInputElement.focus();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttargetElem.style.display = 'none';\r\n\t\t\t\t\ttargetElem.classList.add(this.hideCssClass);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tselectVal: function (elem) {\r\n\t\t\tvar button = this.field.querySelector('.custom-select__button'),\r\n\t\t\tinput = this.field.querySelector('.custom-select__input');\r\n\t\t\t\r\n\t\t\tif (this.field.classList.contains('custom-select_multiple')) {\r\n\t\t\t\t\r\n\t\t\t\tthis.selectMultipleVal(elem, button, input);\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tvar toButtonValue = elem.innerHTML,\r\n\t\t\t\ttoInputValue = (elem.hasAttribute('data-value')) ? elem.getAttribute('data-value') : elem.innerHTML;\r\n\t\t\t\t\r\n\t\t\t\tvar valueElements = this.field.querySelectorAll('.custom-select__val');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < valueElements.length; i++) {\r\n\t\t\t\t\tvalueElements[i].classList.remove('custom-select__val_checked');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\telem.classList.add('custom-select__val_checked');\r\n\t\t\t\t\r\n\t\t\t\tif (button) {\r\n\t\t\t\t\tbutton.innerHTML = toButtonValue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tinput.value = toInputValue;\r\n\t\t\t\t\r\n\t\t\t\tthis.close();\r\n\t\t\t\t\r\n\t\t\t\tif (window.Placeholder) {\r\n\t\t\t\t\tPlaceholder.hide(input, true);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (input.getAttribute('data-submit-form-onchange')) {\r\n\t\t\t\t\tinput.closest('form').submit();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this.onSelect) {\r\n\t\t\t\t\tthis.onSelect(input, toInputValue, elem.getAttribute('data-second-value'));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.targetAction();\r\n\t\t\t\r\n\t\t\tif (input.classList.contains('var-height-textarea__textarea')) {\r\n\t\t\t\tvarHeightTextarea.setHeight(input);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.field.classList.add('custom-select_changed');\r\n\t\t\t\r\n\t\t\tValidateForm.select(input);\r\n\t\t},\r\n\t\t\r\n\t\tautocomplete: function(elem) {\r\n\t\t\tvar match = false,\r\n\t\t\treg = new RegExp(elem.value, 'gi'),\r\n\t\t\tvalueElements = this.field.querySelectorAll('.custom-select__val');\r\n\t\t\t\r\n\t\t\tif (elem.value.length) {\r\n\t\t\t\tfor (var i = 0; i < valueElements.length; i++) {\r\n\t\t\t\t\tvar valueElem = valueElements[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tvalueElem.classList.remove('custom-select__val_checked');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (valueElem.innerHTML.match(reg)) {\r\n\t\t\t\t\t\tvalueElem.parentElement.classList.remove('hidden');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmatch = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvalueElem.parentElement.classList.add('hidden');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!match) {\r\n\t\t\t\tfor (var i = 0; i < valueElements.length; i++) {\r\n\t\t\t\t\tvalueElements[i].parentElement.classList.remove('hidden');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tsetOptions: function (fieldSelector, optObj, nameKey, valKey, secValKey) {\r\n\t\t\tvar fieldElements = document.querySelectorAll(fieldSelector);\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < fieldElements.length; i++) {\r\n\t\t\t\tvar optionsElem = fieldElements[i].querySelector('.custom-select__options');\r\n\t\t\t\t\r\n\t\t\t\toptionsElem.innerHTML = '';\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < optObj.length; i++) {\r\n\t\t\t\t\tvar li = document.createElement('li'),\r\n\t\t\t\t\tsecValAttr = (secValKey != undefined) ? ' data-second-value=\"'+ optObj[i][secValKey] +'\"' : '';\r\n\t\t\t\t\t\r\n\t\t\t\t\tli.innerHTML = '<button type=\"button\" class=\"custom-select__val\" data-value=\"'+ optObj[i][valKey] +'\"'+ secValAttr +'>'+ optObj[i][nameKey] +'</button>';\r\n\t\t\t\t\t\r\n\t\t\t\t\toptionsElem.appendChild(li);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tkeyboard: function (key) {\r\n\t\t\tvar options = this.field.querySelector('.custom-select__options'),\r\n\t\t\thoverItem = options.querySelector('li.hover');\r\n\t\t\t\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 40:\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = function (item) {\r\n\t\t\t\t\t\tvar elem = item.nextElementSibling;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twhile (elem) {\r\n\t\t\t\t\t\t\tif (!elem) break;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem = elem.nextElementSibling;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}(hoverItem);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\toptions.scrollTop = options.scrollTop + (nextItem.getBoundingClientRect().top - options.getBoundingClientRect().top);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar elem = options.firstElementChild;\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile (elem) {\r\n\t\t\t\t\t\tif (!elem) break;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\telem.classList.add('hover');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem = elem.nextElementSibling;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 38:\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = function (item) {\r\n\t\t\t\t\t\tvar elem = item.previousElementSibling;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twhile (elem) {\r\n\t\t\t\t\t\t\tif (!elem) break;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem = elem.previousElementSibling;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}(hoverItem);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\toptions.scrollTop = options.scrollTop + (nextItem.getBoundingClientRect().top - options.getBoundingClientRect().top);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar elem = options.lastElementChild;\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile (elem) {\r\n\t\t\t\t\t\tif (!elem) break;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\telem.classList.add('hover');\r\n\t\t\t\t\t\t\toptions.scrollTop = 9999;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem = elem.previousElementSibling;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 13:\r\n\t\t\t\tthis.selectVal(hoverItem.querySelector('.custom-select__val'));\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tbuild: function (elementStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementStr);\r\n\t\t\t\r\n\t\t\tif (!elements.length) return;\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\toptions = elem.querySelectorAll('option'),\r\n\t\t\t\tparent = elem.parentElement,\r\n\t\t\t\toptionsList = '',\r\n\t\t\t\tselectedOption = null;\r\n\t\t\t\t\r\n\t\t\t\t// option list\r\n\t\t\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\t\t\tvar opt = options[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (opt.hasAttribute('selected')) {\r\n\t\t\t\t\t\tselectedOption = opt;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t((opt.hasAttribute('data-second-value')) ? ' data-second-value=\"'+ opt.getAttribute('data-second-value') +'\"' : '')\r\n\t\t\t\t\t\r\n\t\t\t\t\toptionsList += '<li><button type=\"button\" class=\"custom-select__val'+ ((opt.hasAttribute('selected')) ? ' custom-select__val_checked' : '') +'\"'+ ( (opt.hasAttribute('value')) ? ' data-value=\"'+ opt.value +'\"' : '') + ((opt.hasAttribute('data-second-value')) ? ' data-second-value=\"'+ opt.getAttribute('data-second-value') +'\"' : '') + ( (opt.hasAttribute('data-target-elements')) ? ' data-target-elements=\"'+ opt.getAttribute('data-target-elements') +'\"' : '') +'>'+ opt.innerHTML +'</button></li>';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar require = (elem.hasAttribute('data-required')) ? ' data-required=\"'+ elem.getAttribute('data-required') +'\" ' : '',\r\n\t\t\t\tplaceholder = elem.getAttribute('data-placeholder'),\r\n\t\t\t\tsubmitOnChange = (elem.hasAttribute('data-submit-form-onchange')) ? ' data-submit-form-onchange=\"'+ elem.getAttribute('data-submit-form-onchange') +'\" ' : '',\r\n\t\t\t\thead;\r\n\t\t\t\t\r\n\t\t\t\tif (elem.getAttribute('data-type') == 'autocomplete') {\r\n\t\t\t\t\thead = '<button type=\"button\" class=\"custom-select__arr\"></button><input type=\"text\" name=\"'+ elem.name +'\"'+ require + ((placeholder) ? ' placeholder=\"'+ placeholder +'\" ' : '') +'class=\"custom-select__input custom-select__autocomplete form__text-input\" value=\"'+ ((selectedOption) ? selectedOption.innerHTML : '') +'\">';\r\n\t\t\t\t} else {\r\n\t\t\t\t\thead = '<button type=\"button\"'+ ((placeholder) ? ' data-placeholder=\"'+ placeholder +'\"' : '') +' class=\"custom-select__button\">'+ ((selectedOption) ? selectedOption.innerHTML : (placeholder) ? placeholder : '') +'</button>';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar multiple = {\r\n\t\t\t\t\tclass: (elem.multiple) ? ' custom-select_multiple' : '',\r\n\t\t\t\t\tinpDiv: (elem.multiple) ? '<div class=\"custom-select__multiple-inputs\"></div>' : ''\r\n\t\t\t\t},\r\n\t\t\t\thiddenInp = (elem.getAttribute('data-type') != 'autocomplete') ? '<input type=\"hidden\" name=\"'+ elem.name +'\"'+ require + submitOnChange +'class=\"custom-select__input\" value=\"'+ ((selectedOption) ? selectedOption.value : '') +'\">' : '';\r\n\t\t\t\t\r\n\t\t\t\t// output select\r\n\t\t\t\tvar customElem = document.createElement('div');\r\n\t\t\t\tcustomElem.className = 'custom-select'+ multiple.class + ((selectedOption) ? ' custom-select_changed' : '');\r\n\t\t\t\tcustomElem.innerHTML = head +'<ul class=\"custom-select__options\">'+ optionsList +'</ul>'+ hiddenInp + multiple.inpDiv;\r\n\t\t\t\tparent.insertBefore(customElem, parent.firstChild);\r\n\t\t\t\tparent.removeChild(parent.children[1]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (elementStr) {\r\n\t\t\tthis.build(elementStr);\r\n\t\t\t\r\n\t\t\t// click on select or value or arrow button\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar btnElem = e.target.closest('.custom-select__button'),\r\n\t\t\t\tvalElem = e.target.closest('.custom-select__val'),\r\n\t\t\t\tarrElem = e.target.closest('.custom-select__arr');\r\n\t\t\t\t\r\n\t\t\t\tif (btnElem) {\r\n\t\t\t\t\tthis.field = btnElem.closest('.custom-select');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.open();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (valElem) {\r\n\t\t\t\t\tthis.field = valElem.closest('.custom-select');\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.selectVal(valElem);\r\n\t\t\t\t} else if (arrElem) {\r\n\t\t\t\t\tif (!arrElem.closest('.custom-select_opened')) {\r\n\t\t\t\t\t\tarrElem.closest('.custom-select').querySelector('.custom-select__autocomplete').focus();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t//focus autocomplete\r\n\t\t\tdocument.addEventListener('focus', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__autocomplete');\r\n\t\t\t\t\r\n\t\t\t\tif (!elem) return;\r\n\t\t\t\t\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\t\t\t\t\r\n\t\t\t\tthis.close();\r\n\t\t\t\t\r\n\t\t\t\tthis.open();\r\n\t\t\t}, true);\r\n\t\t\t\r\n\t\t\t//input autocomplete\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__autocomplete');\r\n\t\t\t\t\r\n\t\t\t\tif (!elem) return;\r\n\t\t\t\t\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\t\t\t\t\r\n\t\t\t\tthis.autocomplete(elem);\r\n\t\t\t\t\r\n\t\t\t\tif (!this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// keyboard events\r\n\t\t\tdocument.addEventListener('keydown', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select_opened');\r\n\t\t\t\t\r\n\t\t\t\tif (!elem) return;\r\n\t\t\t\t\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\t\t\t\t\r\n\t\t\t\tvar key = e.which || e.keyCode || 0;\r\n\t\t\t\t\r\n\t\t\t\tif (key == 40 || key == 38 || key == 13) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.keyboard(key);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// close all\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tif (!e.target.closest('.custom-select_opened')) {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tSelect.init('select');\r\n\t});\r\n})();","; var AutoComplete;\r\n\r\n(function () {\r\n\t'use strict';\r\n\t\r\n\tAutoComplete = {\r\n\t\tfieldElem: null,\r\n\t\tinputElem: null,\r\n\t\toptionsElem: null,\r\n\t\tvaluesData: null,\r\n\t\tsetValuesData: null,\r\n\t\t\r\n\t\topen: function () {\r\n\t\t\tthis.fieldElem.classList.add('autocomplete_opened');\r\n\t\t\t\r\n\t\t\tvar optionsElem = this.optionsElem;\r\n\t\t\t\r\n\t\t\toptionsElem.style.height = optionsElem.scrollHeight +'px';\r\n\t\t\t\r\n\t\t\toptionsElem.scrollTop = 0;\r\n\t\t\t\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\tif (optionsElem.scrollHeight > optionsElem.offsetHeight) {\r\n\t\t\t\t\toptionsElem.classList.add('ovfauto');\r\n\t\t\t\t}\r\n\t\t\t}, 550);\r\n\t\t},\r\n\t\t\r\n\t\tclose: function () {\r\n\t\t\tthis.fieldElem.classList.remove('autocomplete_opened');\r\n\t\t\t\r\n\t\t\tvar optionsElem = this.optionsElem;\r\n\t\t\t\r\n\t\t\toptionsElem.classList.remove('ovfauto');\r\n\t\t\t\r\n\t\t\toptionsElem.style.height = 0;\r\n\t\t},\r\n\t\t\r\n\t\tgetValues: function () {\r\n\t\t\tvar optionsElem = this.optionsElem;\r\n\t\t\t\r\n\t\t\tif (this.inputElem.value.length) {\r\n\t\t\t\tvar preReg = new RegExp(this.inputElem.value, 'i'),\r\n\t\t\t\tvalues = '';\r\n\t\t\t\t\r\n\t\t\t\tif (this.setValuesData) {\r\n\t\t\t\t\tthis.setValuesData(this.inputElem.value, (valuesData) => {\r\n\t\t\t\t\t\tfor (var i = 0; i < valuesData.length; i++) {\r\n\t\t\t\t\t\t\tvar dataVal = valuesData[i];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (dataVal.value.match(preReg)) {\r\n\t\t\t\t\t\t\t\tvalues += '<li><button type=\"button\" class=\"autocomplete__val\">'+ dataVal.value +'</button></li>';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (values == '') {\r\n\t\t\t\t\t\t\tvalues = '<li>Nothing found!</li>';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\toptionsElem.innerHTML = values;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.open();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\toptionsElem.innerHTML = '';\r\n\t\t\t\t\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tselectVal: function (itemElem) {\r\n\t\t\tvar valueElem = itemElem.querySelector('.autocomplete__val');\r\n\t\t\t\r\n\t\t\tif (valueElem) {\r\n\t\t\t\tthis.inputElem.value = valueElem.innerHTML;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tkeybinding: function (e) {\r\n\t\t\tvar key = e.which || e.keyCode || 0;\r\n\t\t\t\r\n\t\t\tif (key != 40 && key != 38 && key != 13) return;\r\n\t\t\t\r\n\t\t\te.preventDefault();\r\n\t\t\t\r\n\t\t\tvar optionsElem = this.optionsElem,\r\n\t\t\thoverItem = optionsElem.querySelector('li.hover');\r\n\t\t\t\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 40:\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = hoverItem.nextElementSibling;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\toptionsElem.scrollTop = optionsElem.scrollTop + (nextItem.getBoundingClientRect().top - optionsElem.getBoundingClientRect().top);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.selectVal(nextItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar nextItem = optionsElem.firstElementChild;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.selectVal(nextItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 38:\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = hoverItem.previousElementSibling;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\toptionsElem.scrollTop = optionsElem.scrollTop + (nextItem.getBoundingClientRect().top - optionsElem.getBoundingClientRect().top);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.selectVal(nextItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar nextItem = optionsElem.lastElementChild;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\toptionsElem.scrollTop = 9999;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.selectVal(nextItem);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 13:\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tthis.selectVal(hoverItem);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.inputElem.blur();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function () {\r\n\t\t\t// focus event\r\n\t\t\tdocument.addEventListener('focus', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.autocomplete__input');\r\n\t\t\t\t\r\n\t\t\t\tif (!elem) return;\r\n\t\t\t\t\r\n\t\t\t\tthis.fieldElem = elem.closest('.autocomplete');\r\n\t\t\t\tthis.inputElem = elem;\r\n\t\t\t\tthis.optionsElem = this.fieldElem.querySelector('.autocomplete__options');\r\n\t\t\t\t\r\n\t\t\t\tthis.getValues();\r\n\t\t\t}, true);\r\n\t\t\t\r\n\t\t\t// blur event\r\n\t\t\tdocument.addEventListener('blur', (e) => {\r\n\t\t\t\tif (e.target.closest('.autocomplete__input')) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t}, 21);\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\t\t\t\r\n\t\t\t// input event\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tif (e.target.closest('.autocomplete__input')) {\r\n\t\t\t\t\tthis.getValues();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// click event\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.autocomplete__val');\r\n\t\t\t\t\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.selectVal(elem.parentElement);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// keyboard events\r\n\t\t\tdocument.addEventListener('keydown', (e) => {\r\n\t\t\t\tif (e.target.closest('.autocomplete_opened')) {\r\n\t\t\t\t\tthis.keybinding(e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tAutoComplete.init();\r\n\t});\r\n})();","; var CustomFile;\r\n\r\n(function() {\r\n\t'use strict';\r\n\t\r\n\t//custom file\r\n\tCustomFile = {\r\n\t\tinput: null,\r\n\t\tfilesObj: {},\r\n\t\tfilesArrayObj: {},\r\n\t\t\r\n\t\tclear: function(elem) {\r\n\t\t\tif (elem.hasAttribute('data-preview-elem')) {\r\n\t\t\t\tdocument.querySelector(elem.getAttribute('data-preview-elem')).innerHTML = '';\r\n\t\t\t}\r\n\r\n\t\t\telem.closest('.custom-file').querySelector('.custom-file__items').innerHTML = '';\r\n\t\t\t\r\n\t\t\tthis.filesObj[elem.id] = {};\r\n\t\t\tthis.filesArrayObj[elem.id] = [];\r\n\t\t},\r\n\t\t\r\n\t\tloadPreview: function(file, fileItem) {\r\n\t\t\tvar reader = new FileReader(),\r\n\t\t\tpreviewDiv;\r\n\t\t\t\r\n\t\t\tif (this.input.hasAttribute('data-preview-elem')) {\r\n\t\t\t\tpreviewDiv = document.querySelector(this.input.getAttribute('data-preview-elem'));\r\n\t\t\t} else {\r\n\t\t\t\tpreviewDiv = document.createElement('div');\r\n\t\t\t\t\r\n\t\t\t\tpreviewDiv.className = 'custom-file__preview';\r\n\t\t\t\t\r\n\t\t\t\tfileItem.insertBefore(previewDiv, fileItem.firstChild);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treader.onload = function(e) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tvar imgDiv = document.createElement('div');\r\n\t\t\t\t\t\r\n\t\t\t\t\timgDiv.innerHTML = '<img src=\"'+ e.target.result +'\">';\r\n\t\t\t\t\t\r\n\t\t\t\t\tpreviewDiv.appendChild(imgDiv);\r\n\t\t\t\t}, 121);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t},\r\n\t\t\r\n\t\tchangeInput: function(elem) {\r\n\t\t\tvar fileItems = elem.closest('.custom-file').querySelector('.custom-file__items');\r\n\t\t\t\r\n\t\t\tif (elem.getAttribute('data-action') == 'clear' || !elem.multiple) {\r\n\t\t\t\tthis.clear(elem);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elem.files.length; i++) {\r\n\t\t\t\tvar file = elem.files[i];\r\n\t\t\t\t\r\n\t\t\t\tif (this.filesObj[elem.id] && this.filesObj[elem.id][file.name] != undefined) continue;\r\n\t\t\t\t\r\n\t\t\t\tvar fileItem = document.createElement('div');\r\n\t\t\t\t\r\n\t\t\t\tfileItem.className = 'custom-file__item';\r\n\t\t\t\tfileItem.innerHTML = '<div class=\"custom-file__name\">'+ file.name +'</div><button type=\"button\" class=\"custom-file__del-btn\" data-ind=\"'+ file.name +'\"></button>';\r\n\t\t\t\t\r\n\t\t\t\tfileItems.appendChild(fileItem);\r\n\t\t\t\t\r\n\t\t\t\tif (file.type.match(/image.*/)) {\r\n\t\t\t\t\tthis.loadPreview(file, fileItem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.setFilesObj(elem.files);\r\n\t\t},\r\n\t\t\r\n\t\tsetFilesObj: function(filesList, objKey) {\r\n\t\t\tvar inputElem = this.input;\r\n\t\t\t\r\n\t\t\tif (!inputElem.id.length) {\r\n\t\t\t\tinputElem.id = 'custom-file-input-'+ new Date().valueOf();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (filesList) {\r\n\t\t\t\tthis.filesObj[inputElem.id] = this.filesObj[inputElem.id] || {};\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < filesList.length; i++) {\r\n\t\t\t\t\tthis.filesObj[inputElem.id][filesList[i].name] = filesList[i];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdelete this.filesObj[inputElem.id][objKey];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.filesArrayObj[inputElem.id] = [];\r\n\t\t\t\r\n\t\t\tfor (var key in this.filesObj[inputElem.id]) {\r\n\t\t\t\tthis.filesArrayObj[inputElem.id].push(this.filesObj[inputElem.id][key]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tValidateForm.file(inputElem, this.filesArrayObj[inputElem.id]);\r\n\t\t},\r\n\t\t\r\n\t\tinputFiles: function(inputElem) {\r\n\t\t\treturn this.filesArrayObj[inputElem.id] || [];\r\n\t\t},\r\n\t\t\r\n\t\tfiles: function(formElem) {\r\n\t\t\tvar inputFileElements = formElem.querySelectorAll('.custom-file__input'),\r\n\t\t\tfilesArr = [];\r\n\t\t\t\r\n\t\t\tif (inputFileElements.length == 1) {\r\n\t\t\t\tfilesArr = this.filesArrayObj[inputFileElements[0].id];\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < inputFileElements.length; i++) {\r\n\t\t\t\t\tif (this.filesArrayObj[inputFileElements[i].id]) {\r\n\t\t\t\t\t\tfilesArr.push({name: inputFileElements[i].name, files: this.filesArrayObj[inputFileElements[i].id]});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn filesArr;\r\n\t\t},\r\n\t\t\r\n\t\tinit: function() {\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"file\"]');\r\n\t\t\t\t\r\n\t\t\t\tif (!elem) return;\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\tthis.changeInput(elem);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar delBtnElem = e.target.closest('.custom-file__del-btn'),\r\n\t\t\t\tclearBtnElem = e.target.closest('.custom-file__clear-btn'),\r\n\t\t\t\tinputElem = e.target.closest('input[type=\"file\"]');\r\n\t\t\t\t\r\n\t\t\t\tif (inputElem && inputElem.multiple) {\r\n\t\t\t\t\tinputElem.value = null;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (delBtnElem) {\r\n\t\t\t\t\tthis.input = delBtnElem.closest('.custom-file').querySelector('.custom-file__input');\r\n\t\t\t\t\t\r\n\t\t\t\t\tdelBtnElem.closest('.custom-file__items').removeChild(delBtnElem.closest('.custom-file__item'));\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.setFilesObj(false, delBtnElem.getAttribute('data-ind'));\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (clearBtnElem) {\r\n\t\t\t\t\tvar inputElem = clearBtnElem.closest('.custom-file').querySelector('.custom-file__input');\r\n\r\n\t\t\t\t\tinputElem.value = null;\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.clear(inputElem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t//init script\r\n\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\tCustomFile.init();\r\n\t});\r\n})();","; var Placeholder;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tPlaceholder = {\r\n\t\tinit: function(elementsStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\t\tif (!elements.length) return;\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.placeholder) {\r\n\r\n\t\t\t\t\tvar elemFor = (elem.id) ? elem.id : 'placeholder-index-'+ i,\r\n\t\t\t\t\tlabel = document.createElement('label');\r\n\r\n\t\t\t\t\tlabel.htmlFor = elemFor;\r\n\t\t\t\t\tlabel.className = 'placeholder';\r\n\t\t\t\t\tlabel.innerHTML = elem.placeholder;\r\n\r\n\t\t\t\t\telem.parentElement.insertBefore(label, elem);\r\n\r\n\t\t\t\t\telem.removeAttribute('placeholder');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!elem.id) {\r\n\t\t\t\t\t\telem.id = elemFor;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\t\t\t\t\tthis.hide(elem, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//events\r\n\t\t\tdocument.addEventListener('focus', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hide(elem, true);\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\r\n\t\t\tdocument.addEventListener('blur', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hide(elem, false);\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\t\t},\r\n\t\t\r\n\t\thide: function(elem, hide) {\r\n\t\t\tvar label = document.querySelector('label.placeholder[for=\"'+ elem.id +'\"]');\r\n\r\n\t\t\tif (!label) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar lSt = label.style;\r\n\r\n\t\t\tif (hide) {\r\n\r\n\t\t\t\tlSt.textIndent = '-9999px';\r\n\t\t\t\tlSt.paddingLeft = '0px';\r\n\t\t\t\tlSt.paddingRight = '0px';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (!elem.value.length) {\r\n\t\t\t\t\tlSt.textIndent = '';\r\n\t\t\t\t\tlSt.paddingLeft = '';\r\n\t\t\t\t\tlSt.paddingRight = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function() {\r\n\t\tPlaceholder.init('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t});\r\n})();","var Maskinput;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tMaskinput = function(inputElem, type) {\r\n\t\tif (!inputElem) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar defValue = '';\r\n\r\n\t\tthis.tel = function() {\r\n\t\t\tif (!/[\\+\\d\\(\\)\\-]*/.test(inputElem.value)) {\r\n\t\t\t\tinputElem.value = defValue;\r\n\t\t\t} else {\r\n\t\t\t\tvar reg = /^(\\+7?)?(\\(\\d{0,3})?(\\)\\d{0,3})?(\\-\\d{0,2}){0,2}$/,\r\n\t\t\t\tcursPos = inputElem.selectionStart;\r\n\r\n\t\t\t\tif (!reg.test(inputElem.value)) {\r\n\t\t\t\t\tinputElem.value = inputElem.value.replace(/^(?:\\+7?)?\\(?(\\d{0,3})\\)?(\\d{0,3})\\-?(\\d{0,2})\\-?(\\d{0,2})$/, function(str, p1, p2, p3, p4) {\r\n\t\t\t\t\t\tvar res = '';\r\n\r\n\t\t\t\t\t\tif (p4 != '') {\r\n\t\t\t\t\t\t\tres = '+7('+ p1 +')'+ p2 +'-'+ p3 +'-'+ p4;\r\n\t\t\t\t\t\t} else if (p3 != '') {\r\n\t\t\t\t\t\t\tres = '+7('+ p1 +')'+ p2 +'-'+ p3;\r\n\t\t\t\t\t\t} else if (p2 != '') {\r\n\t\t\t\t\t\t\tres = '+7('+ p1 +')'+ p2;\r\n\t\t\t\t\t\t} else if (p1 != '') {\r\n\t\t\t\t\t\t\tres = '+7('+ p1;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!reg.test(inputElem.value)) {\r\n\t\t\t\t\tinputElem.value = defValue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdefValue = inputElem.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tinputElem.addEventListener('input', () => {\r\n\t\t\tthis[type]();\r\n\t\t});\r\n\t}\r\n})();","var ValidateForm, Form;\r\n\r\n(function () {\r\n\t'use strict';\r\n\t\r\n\t// validate form\r\n\tValidateForm = {\r\n\t\tinput: null,\r\n\t\t\r\n\t\terrorTip: function (err, errInd, errorTxt) {\r\n\t\t\tvar field = this.input.closest('.form__field') || this.input.parentElement,\r\n\t\t\terrTip = field.querySelector('.field-error-tip');\r\n\t\t\t\r\n\t\t\tif (err) {\r\n\t\t\t\tfield.classList.remove('field-success');\r\n\t\t\t\tfield.classList.add('field-error');\r\n\t\t\t\t\r\n\t\t\t\tif (!errTip) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (errInd) {\r\n\t\t\t\t\tif (!errTip.hasAttribute('data-error-text')) {\r\n\t\t\t\t\t\terrTip.setAttribute('data-error-text', errTip.innerHTML);\r\n\t\t\t\t\t}\r\n\t\t\t\t\terrTip.innerHTML = (errInd != 'custom') ? errTip.getAttribute('data-error-text-'+ errInd) : errorTxt;\r\n\t\t\t\t} else if (errTip.hasAttribute('data-error-text')) {\r\n\t\t\t\t\terrTip.innerHTML = errTip.getAttribute('data-error-text');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfield.classList.remove('field-error');\r\n\t\t\t\tfield.classList.add('field-success');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tcustomErrorTip: function (input, errorTxt) {\r\n\t\t\tif (!input) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.input = input;\r\n\t\t\t\r\n\t\t\tthis.errorTip(true, 'custom', errorTxt);\r\n\t\t},\r\n\t\t\r\n\t\ttxt: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^[0-9a-zа-яё_,.:;@-\\s]*$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tnum: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^[0-9.,-]*$/.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tname: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^[a-zа-яё'-]{3,21}(\\s[a-zа-яё'-]{3,21})?(\\s[a-zа-яё'-]{3,21})?$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tdate: function () {\r\n\t\t\tvar err = false, \r\n\t\t\terrDate = false, \r\n\t\t\tmatches = this.input.value.match(/^(\\d{2}).(\\d{2}).(\\d{4})$/);\r\n\t\t\t\r\n\t\t\tif (!matches) {\r\n\t\t\t\terrDate = 1;\r\n\t\t\t} else {\r\n\t\t\t\tvar compDate = new Date(matches[3], (matches[2] - 1), matches[1]),\r\n\t\t\t\tcurDate = new Date();\r\n\t\t\t\t\r\n\t\t\t\tif (this.input.hasAttribute('data-min-years-passed')) {\r\n\t\t\t\t\tvar interval = curDate.valueOf() - new Date(curDate.getFullYear() - (+this.input.getAttribute('data-min-years-passed')), curDate.getMonth(), curDate.getDate()).valueOf();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (curDate.valueOf() < compDate.valueOf() || (curDate.getFullYear() - matches[3]) > 100) {\r\n\t\t\t\t\t\terrDate = 1;\r\n\t\t\t\t\t} else if ((curDate.valueOf() - compDate.valueOf()) < interval) {\r\n\t\t\t\t\t\terrDate = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (compDate.getFullYear() != matches[3] || compDate.getMonth() != (matches[2] - 1) || compDate.getDate() != matches[1]) {\r\n\t\t\t\t\terrDate = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (errDate == 1) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errDate == 2) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\temail: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^[a-z0-9]+[\\w\\-\\.]*@[\\w\\-]{2,}\\.[a-z]{2,6}$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\turl: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^(https?\\:\\/\\/)?[a-zа-я0-9\\-\\.]+\\.[a-zа-я]{2,11}$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\ttel: function () {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tif (!/^\\+7\\([0-9]{3}\\)[0-9]{3}-[0-9]{2}-[0-9]{2}$/.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tpass: function () {\r\n\t\t\tvar err = false,\r\n\t\t\tminLng = this.input.getAttribute('data-min-length');\r\n\t\t\t\r\n\t\t\tif (minLng && this.input.value.length < minLng) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\tcheckbox: function (elem) {\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tvar group = elem.closest('.form__chbox-group');\r\n\t\t\t\r\n\t\t\tif (group && group.getAttribute('data-tested')) {\r\n\t\t\t\tvar checkedElements = 0,\r\n\t\t\t\telements = group.querySelectorAll('input[type=\"checkbox\"]');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\t\tcheckedElements++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (checkedElements < group.getAttribute('data-min')) {\r\n\t\t\t\t\tgroup.classList.add('form__chbox-group_error');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__chbox-group_error');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} else if (elem.getAttribute('data-tested')) {\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.checked) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tradio: function (elem) {\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tvar checkedElement = false,\r\n\t\t\tgroup = elem.closest('.form__radio-group'),\r\n\t\t\telements = group.querySelectorAll('input[type=\"radio\"]');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\tcheckedElement = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (!checkedElement) {\r\n\t\t\t\tgroup.classList.add('form__radio-group_error');\r\n\t\t\t} else {\r\n\t\t\t\tgroup.classList.remove('form__radio-group_error');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tselect: function (elem) {\r\n\t\t\tvar err = false;\r\n\t\t\t\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tfile: function (elem, filesArr) {\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tvar err = false,\r\n\t\t\terrCount = {ext: 0, size: 0},\r\n\t\t\tmaxFiles = +this.input.getAttribute('data-max-files'),\r\n\t\t\textRegExp = new RegExp('(?:\\\\.'+ this.input.getAttribute('data-ext').replace(/,/g, '|\\\\.') +')$', 'i'),\r\n\t\t\tmaxSize = +this.input.getAttribute('data-max-size'),\r\n\t\t\tfileItemElements = this.input.closest('.custom-file').querySelectorAll('.custom-file__item');;\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < filesArr.length; i++) {\r\n\t\t\t\tvar file = filesArr[i];\r\n\t\t\t\t\r\n\t\t\t\tif (!file.name.match(extRegExp)) {\r\n\t\t\t\t\terrCount.ext++;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (fileItemElements[i]) {\r\n\t\t\t\t\t\tfileItemElements[i].classList.add('file-error');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (file.size > maxSize) {\r\n\t\t\t\t\terrCount.size++;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (fileItemElements[i]) {\r\n\t\t\t\t\t\tfileItemElements[i].classList.add('file-error');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (maxFiles && filesArr.length > maxFiles) {\r\n\t\t\t\tthis.errorTip(true, 4);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.ext) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.size) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\t\t\r\n\t\tvalidateOnInput: function (elem) {\r\n\t\t\tthis.input = elem;\r\n\t\t\t\r\n\t\t\tvar dataType = elem.getAttribute('data-type');\r\n\t\t\t\r\n\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t} else if (elem.value.length) {\r\n\t\t\t\tif (dataType) {\r\n\t\t\t\t\tthis[dataType]();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tvalidate: function (formElem) {\r\n\t\t\tvar err = 0;\r\n\t\t\t\r\n\t\t\t// text, password, textarea\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\t\t\t\t\r\n\t\t\t\tvar dataType = elem.getAttribute('data-type');\r\n\t\t\t\t\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else if (elem.value.length) {\r\n\t\t\t\t\tif (dataType) {\r\n\t\t\t\t\t\tif (this[dataType]()) {\r\n\t\t\t\t\t\t\terr++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// select\r\n\t\t\tvar elements = formElem.querySelectorAll('.custom-select__input');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elem.parentElement.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this.select(elem)) {\r\n\t\t\t\t\terr++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// checkboxes\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"checkbox\"]');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\t\t\t\t\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.checked) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// checkbox group\r\n\t\t\tvar groups = formElem.querySelectorAll('.form__chbox-group');\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElements = 0;\r\n\t\t\t\t\r\n\t\t\t\tif (group.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgroup.setAttribute('data-tested', 'true');\r\n\t\t\t\t\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"checkbox\"]');\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\t\tcheckedElements++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (checkedElements < group.getAttribute('data-min')) {\r\n\t\t\t\t\tgroup.classList.add('form__chbox-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__chbox-group_error');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// radio group\r\n\t\t\tvar groups = formElem.querySelectorAll('.form__radio-group');\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElement = false;\r\n\t\t\t\t\r\n\t\t\t\tif (group.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgroup.setAttribute('data-tested', 'true');\r\n\t\t\t\t\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"radio\"]');\r\n\t\t\t\t\r\n\t\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tif (elements[i].checked) {\r\n\t\t\t\t\t\tcheckedElement = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (!checkedElement) {\r\n\t\t\t\t\tgroup.classList.add('form__radio-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__radio-group_error');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// file\r\n\t\t\tvar elements = formElem.querySelectorAll('input[type=\"file\"]');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\tif (CustomFile.inputFiles(elem).length) {\r\n\t\t\t\t\tif (this.file(elem, CustomFile.inputFiles(elem))) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (elem.getAttribute('data-required')) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// passwords compare\r\n\t\t\tvar elements = formElem.querySelectorAll('input[data-pass-compare-input]');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.input = elem;\r\n\t\t\t\t\r\n\t\t\t\tvar val = elem.value;\r\n\t\t\t\t\r\n\t\t\t\tif (val.length) {\r\n\t\t\t\t\tvar compElemVal = formElem.querySelector(elem.getAttribute('data-pass-compare-input')).value;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (val !== compElemVal) {\r\n\t\t\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (err) {\r\n\t\t\t\tformElem.classList.add('form-error');\r\n\t\t\t} else {\r\n\t\t\t\tformElem.classList.remove('form-error');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn (err) ? false : true;\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (formSelector) {\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(formSelector +' input[type=\"text\"],'+ formSelector +' input[type=\"password\"],'+ formSelector +' textarea');\r\n\t\t\t\t\r\n\t\t\t\tif (elem && elem.hasAttribute('data-tested')) {\r\n\t\t\t\t\tthis.validateOnInput(elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(formSelector +' input[type=\"radio\"],'+ formSelector +' input[type=\"checkbox\"]');\r\n\t\t\t\t\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis[elem.type](elem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// variable height textarea\r\n\tvar varHeightTextarea = {\r\n\t\tsetHeight: function (elem) {\r\n\t\t\tvar mirror = elem.parentElement.querySelector('.var-height-textarea__mirror'),\r\n\t\t\tmirrorOutput = elem.value.replace(/\\n/g, '<br>');\r\n\t\t\t\r\n\t\t\tmirror.innerHTML = mirrorOutput +'&nbsp;';\r\n\t\t},\r\n\t\t\r\n\t\tinit: function () {\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.var-height-textarea__textarea');\r\n\t\t\t\t\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.setHeight(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// next fieldset\r\n\tvar NextFieldset = {\r\n\t\tnext: function (btnElem, fwd) {\r\n\t\t\tvar nextFieldset = (btnElem.hasAttribute('data-go-to-fieldset')) ? document.querySelector(btnElem.getAttribute('data-go-to-fieldset')) : null;\r\n\t\t\t\r\n\t\t\tif (!nextFieldset) return;\r\n\t\t\t\r\n\t\t\tvar currentFieldset = btnElem.closest('.fieldset__item'),\r\n\t\t\tgoTo = (fwd) ? ValidateForm.validate(currentFieldset) : true;\r\n\t\t\t\r\n\t\t\tif (goTo) {\r\n\t\t\t\tcurrentFieldset.classList.add('fieldset__item_hidden');\r\n\t\t\t\tnextFieldset.classList.remove('fieldset__item_hidden');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (nextBtnSelector, prevBtnSelector) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar nextBtnElem = e.target.closest(nextBtnSelector),\r\n\t\t\t\tprevBtnElem = e.target.closest(prevBtnSelector);\r\n\t\t\t\t\r\n\t\t\t\tif (nextBtnElem) {\r\n\t\t\t\t\tthis.next(nextBtnElem, true);\r\n\t\t\t\t} else if (prevBtnElem) {\r\n\t\t\t\t\tthis.next(prevBtnElem, false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// form\r\n\tForm = {\r\n\t\tonSubmit: null,\r\n\t\t\r\n\t\tsubmit: function (e, formElem) {\r\n\t\t\tformElem.classList.add('form_sending');\r\n\t\t\t\r\n\t\t\tif (!this.onSubmit) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// clear form\r\n\t\t\tfunction clear() {\r\n\t\t\t\tvar elements = formElem.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\telem.value = '';\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (window.Placeholder) {\r\n\t\t\t\t\t\tPlaceholder.hide(elem, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (window.Select) {\r\n\t\t\t\t\tSelect.reset();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar textareaMirrors = formElem.querySelectorAll('.form__textarea-mirror');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < textareaMirrors.length; i++) {\r\n\t\t\t\t\ttextareaMirrors[i].innerHTML = '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// submit button\r\n\t\t\tfunction actSubmitBtn(st) {\r\n\t\t\t\tvar elements = formElem.querySelectorAll('button[type=\"submit\"], input[type=\"submit\"]');\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tvar elem = elements[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\tif (st) {\r\n\t\t\t\t\t\t\telem.removeAttribute('disabled');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem.setAttribute('disabled', 'disable');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// call onSubmit\r\n\t\t\tvar ret = this.onSubmit(formElem, function (obj) {\r\n\t\t\t\tobj = obj || {};\r\n\t\t\t\t\r\n\t\t\t\tactSubmitBtn(obj.unlockSubmitButton);\r\n\t\t\t\t\r\n\t\t\t\tformElem.classList.remove('form_sending');\r\n\t\t\t\t\r\n\t\t\t\tif (obj.clearForm == true) {\r\n\t\t\t\t\tclear();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (ret === false) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\t\r\n\t\t\t\tactSubmitBtn(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (formSelector) {\r\n\t\t\tif (!document.querySelector(formSelector)) return;\r\n\t\t\t\r\n\t\t\tValidateForm.init(formSelector);\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('submit', (e) => {\r\n\t\t\t\tvar formElem = e.target.closest(formSelector);\r\n\t\t\t\t\r\n\t\t\t\tif (!formElem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (ValidateForm.validate(formElem)) {\r\n\t\t\t\t\tthis.submit(e, formElem);\r\n\t\t\t\t} else {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// bind labels\r\n\tfunction BindLabels(elementsStr) {\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\t\t\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\tvar elem = elements[i],\r\n\t\t\tlabel = elem.parentElement.querySelector('label'),\r\n\t\t\tforID = (elem.hasAttribute('id')) ? elem.id : 'keylabel-'+ i;\r\n\t\t\t\r\n\t\t\tif (label && !label.hasAttribute('for')) {\r\n\t\t\t\tlabel.htmlFor = forID;\r\n\t\t\t\telem.id = forID;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// duplicate form\r\n\tvar DuplicateForm = {\r\n\t\tadd: function (btnElem) {\r\n\t\t\tvar modelElem = (btnElem.hasAttribute('data-form-model')) ? document.querySelector(btnElem.getAttribute('data-form-model')) : null,\r\n\t\t\tdestElem = (btnElem.hasAttribute('data-duplicated-dest')) ? document.querySelector(btnElem.getAttribute('data-duplicated-dest')) : null;\r\n\t\t\t\r\n\t\t\tif (!modelElem || !destElem) return;\r\n\t\t\t\r\n\t\t\tvar duplicatedDiv = document.createElement('div');\r\n\t\t\t\r\n\t\t\tduplicatedDiv.className = 'duplicated';\r\n\t\t\t\r\n\t\t\tduplicatedDiv.innerHTML = modelElem.innerHTML;\r\n\t\t\t\r\n\t\t\tdestElem.appendChild(duplicatedDiv);\r\n\t\t\t\r\n\t\t\tvar dupicatedElements = destElem.querySelectorAll('.duplicated');\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < dupicatedElements.length; i++) {\r\n\t\t\t\tvar dupicatedElem = dupicatedElements[i],\r\n\t\t\t\tlabelElements = dupicatedElem.querySelectorAll('label'),\r\n\t\t\t\tinputElements = dupicatedElem.querySelectorAll('input');\r\n\t\t\t\t\r\n\t\t\t\tfor (var j = 0; j < labelElements.length; j++) {\r\n\t\t\t\t\tvar elem = labelElements[j];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (elem.htmlFor != '') {\r\n\t\t\t\t\t\telem.htmlFor += '-'+ i +'-'+ j;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (var j = 0; j < inputElements.length; j++) {\r\n\t\t\t\t\tvar elem = inputElements[j];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (elem.id != '') {\r\n\t\t\t\t\t\telem.id += '-'+ i +'-'+ j;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tremove: function (btnElem) {\r\n\t\t\tvar duplElem =  btnElem.closest('.duplicated');\r\n\t\t\t\r\n\t\t\tif (duplElem) {\r\n\t\t\t\tduplElem.innerHTML = '';\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tinit: function (addBtnSelector, removeBtnSelector) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar addBtnElem = e.target.closest(addBtnSelector),\r\n\t\t\t\tremoveBtnElem = e.target.closest(removeBtnSelector);\r\n\t\t\t\t\r\n\t\t\t\tif (addBtnElem) {\r\n\t\t\t\t\tthis.add(addBtnElem);\r\n\t\t\t\t} else if (removeBtnElem) {\r\n\t\t\t\t\tthis.remove(removeBtnElem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// set tabindex\r\n\t/*function SetTabindex(elementsStr) {\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\t\t\r\n\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\tvar elem = elements[i];\r\n\t\t\t\r\n\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\telem.setAttribute('tabindex', i + 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}*/\r\n\t\r\n\t// init scripts\r\n\tdocument.addEventListener('DOMContentLoaded', function () {\r\n\t\tBindLabels('input[type=\"text\"], input[type=\"checkbox\"], input[type=\"radio\"]');\r\n\t\t// SetTabindex('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\tvarHeightTextarea.init();\r\n\t\tNextFieldset.init('.js-next-fieldset-btn', '.js-prev-fieldset-btn');\r\n\t\tDuplicateForm.init('.js-dupicate-form-btn', '.js-remove-dupicated-form-btn');\r\n\t});\r\n})();","/*\r\n* call Accord.init(Str button selector);\r\n*/\r\nvar Accord;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tAccord = {\r\n\t\ttoggle: function(elem) {\r\n\t\t\tvar contentElem = elem.nextElementSibling;\r\n\r\n\t\t\tif (elem.classList.contains('accord__button_active')) {\r\n\t\t\t\tcontentElem.style.height = 0;\r\n\r\n\t\t\t\telem.classList.remove('accord__button_active');\r\n\t\t\t} else {\r\n\t\t\t\tvar mainElem = elem.closest('.accord'),\r\n\t\t\t\tallButtonElem = mainElem.querySelectorAll('.accord__button'),\r\n\t\t\t\tallContentElem = mainElem.querySelectorAll('.accord__content');\r\n\r\n\t\t\t\tfor (var i = 0; i < allButtonElem.length; i++) {\r\n\t\t\t\t\tallButtonElem[i].classList.remove('accord__button_active');\r\n\t\t\t\t\tallContentElem[i].style.height = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcontentElem.style.height = contentElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('accord__button_active');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.toggle(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","/*\r\ncall to init:\r\nMore.init(Str button selector);\r\n*/\r\nvar More;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tMore = {\r\n\t\ttoggle: function(elem) {\r\n\t\t\tvar contentElem = elem.previousElementSibling;\r\n\r\n\t\t\tif (elem.classList.contains('active')) {\r\n\t\t\t\tcontentElem.style.height = contentElem.getAttribute('data-height') +'px';\r\n\r\n\t\t\t\telem.classList.remove('active');\r\n\t\t\t} else {\r\n\t\t\t\tcontentElem.setAttribute('data-height', contentElem.offsetHeight);\r\n\r\n\t\t\t\tcontentElem.style.height = contentElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('active');\r\n\t\t\t}\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tvar btnTxt = elem.innerHTML;\r\n\r\n\t\t\t\telem.innerHTML = elem.getAttribute('data-btn-text');\r\n\r\n\t\t\t\telem.setAttribute('data-btn-text', btnTxt);\r\n\t\t\t}, 321);\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.toggle(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","/*\r\ncall to init:\r\nTab.init({\r\n\tcontainer: '.tab',\r\n\tbutton: '.tab__button',\r\n\titem: '.tab__item'\r\n});\r\n*/\r\nvar Tab;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tTab = {\r\n\t\toptions: null,\r\n\r\n\t\tchange: function(btnElem) {\r\n\t\t\tif (btnElem.classList.contains('active')) return;\r\n\r\n\t\t\tvar contElem = btnElem.closest(this.options.container),\r\n\t\t\tbtnElements = contElem.querySelectorAll(this.options.button),\r\n\t\t\ttabItemElements = contElem.querySelectorAll(this.options.item);\r\n\r\n\t\t\t//remove active state\r\n\t\t\tfor (var i = 0; i < btnElements.length; i++) {\r\n\t\t\t\tbtnElements[i].classList.remove('active');\r\n\r\n\t\t\t\ttabItemElements[i].classList.remove('active');\r\n\t\t\t}\r\n\r\n\t\t\t//get current tab item\r\n\t\t\tvar tabItemElem = contElem.querySelector(this.options.item +'[data-index=\"'+ btnElem.getAttribute('data-index') +'\"]');\r\n\r\n\t\t\t//set active state\r\n\t\t\ttabItemElem.classList.add('active');\r\n\r\n\t\t\tbtnElem.classList.add('active');\r\n\r\n\t\t\t//set height\r\n\t\t\tthis.setHeight(tabItemElem);\r\n\t\t},\r\n\r\n\t\tsetHeight: function(tabItemElem) {\r\n\t\t\ttabItemElem.parentElement.style.height = tabItemElem.offsetHeight +'px';\r\n\t\t},\r\n\r\n\t\treInit: function() {\r\n\t\t\tif (!this.options) return;\r\n\r\n\t\t\tvar contElements = document.querySelectorAll(this.options.container);\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < contElements.length; i++) {\r\n\t\t\t\tthis.setHeight(contElements[i].querySelector(this.options.item +'.active'));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(options) {\r\n\t\t\tvar contElements = document.querySelectorAll(options.container);\r\n\r\n\t\t\tif (!contElements.length) return;\r\n\r\n\t\t\tthis.options = options;\r\n\r\n\t\t\t//init tabs\r\n\t\t\tfor (let i = 0; i < contElements.length; i++) {\r\n\t\t\t\tvar contElem = contElements[i],\r\n\t\t\t\tbtnElements = contElem.querySelectorAll(options.button),\r\n\t\t\t\ttabItemElements = contElem.querySelectorAll(options.item),\r\n\t\t\t\ttabItemElemActive = contElem.querySelector(this.options.item +'.active');\r\n\r\n\t\t\t\tthis.setHeight(tabItemElemActive);\r\n\r\n\t\t\t\tfor (let i = 0; i < btnElements.length; i++) {\r\n\t\t\t\t\tbtnElements[i].setAttribute('data-index', i);\r\n\r\n\t\t\t\t\ttabItemElements[i].setAttribute('data-index', i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//btn event\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar btnElem = e.target.closest(options.button);\r\n\r\n\t\t\t\tif (!btnElem) return;\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.change(btnElem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","/*\r\nnew Alert({\r\n\t\r\n});\r\n*/\r\n\r\n; var Alert;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tvar alertIndex = 0;\r\n\r\n\tAlert = function (opt) {\r\n\t\topt = opt || {};\r\n\r\n\t\tvar alertId = 'alert-id-'+ alertIndex++;\r\n\r\n\t\tif (opt.showOnce && document.cookie) {\r\n\t\t\tvar reg = new RegExp('lastTimestampValue-'+ options.elemId +'=(\\\\d+)', 'i'),\r\n\t\t\tmatchArr = cookie.match(reg);\r\n\r\n\t\t\treturn matchArr ? matchArr[1] : null;\r\n\t\t}\r\n\r\n\t\t//add alert to DOM\r\n\t\tvar alertElem = document.createElement('div');\r\n\r\n\t\talertElem.className = 'alert';\r\n\r\n\t\talertElem.id = alertId;\r\n\r\n\t\talertElem.innerHTML = '<div></div><button class=\"alert-close-btn\"></button>';\r\n\r\n\t\tdocument.body.appendChild(alertElem);\r\n\r\n\t\tif (opt.position == 'top') {\r\n\t\t\talertElem.classList.add('alert_top');\r\n\t\t}\r\n\t\t\r\n\t\t// set content\r\n\t\tthis.setContent = function (content) {\r\n\t\t\talertElem.querySelector('div').innerHTML = content;\r\n\t\t}\r\n\r\n\t\tif (opt.content) {\r\n\t\t\tthis.setContent(opt.content);\r\n\t\t}\r\n\r\n\t\t// hide permanently\r\n\t\tfunction hidePermanently() {\r\n\t\t\tdocument.cookie = 'notShowAlert='+ alertId +'; expires='+ new Date(Date.now() + 86400).toUTCString();\r\n\t\t}\r\n\r\n\t\t// hide\r\n\t\tfunction hide() {\r\n\t\t\talertElem.classList.add('alert_hidden');\r\n\t\t\t\r\n\t\t\tif (opt.showOnce) {\r\n\t\t\t\thidePermanently();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\talertElem.querySelector('.alert-close-btn').addEventListener('click', hide);\r\n\t}\r\n})();","/*\r\nBubble.init({\r\n\telement: '.js-bubble'\r\n});\r\n*/\r\n\r\n; var Bubble;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tBubble = {\r\n\t\tbubbleDiv: null,\r\n\t\tbubbleClass: null,\r\n\t\tcanBeHidden: true,\r\n\r\n\t\tshow: function(elem) {\r\n\t\t\tthis.bubbleDiv.innerHTML = elem.getAttribute('data-bubble');\r\n\r\n\t\t\tthis.bubbleClass = elem.getAttribute('data-bubble-class');\r\n\r\n\t\t\tif (this.bubbleClass) {\r\n\t\t\t\tthis.bubbleDiv.classList.add(this.bubbleClass);\r\n\t\t\t}\r\n\r\n\t\t\tvar bubleStyle = this.bubbleDiv.style, \r\n\t\t\tbubbleMinWidth = 100,\r\n\t\t\tbubblePotentWidth = window.innerWidth - (elem.getBoundingClientRect().left + elem.offsetWidth) - 10,\r\n\t\t\tcoordX = elem.getBoundingClientRect().left + elem.offsetWidth;\r\n\r\n\t\t\tif (bubblePotentWidth < bubbleMinWidth) {\r\n\t\t\t\tbubblePotentWidth = bubbleMinWidth;\r\n\r\n\t\t\t\tcoordX = window.innerWidth - bubbleMinWidth - 10;\r\n\t\t\t}\r\n\r\n\t\t\tbubleStyle.width = bubblePotentWidth +'px';\r\n\t\t\tbubleStyle.left = coordX +'px';\r\n\r\n\t\t\tvar coordY = elem.getBoundingClientRect().top + pageYOffset - this.bubbleDiv.offsetHeight;\r\n\r\n\t\t\tbubleStyle.top = coordY +'px';\r\n\r\n\t\t\tthis.bubbleDiv.classList.add('bubble_visible');\r\n\t\t},\r\n\r\n\t\thide: function() {\r\n\t\t\tthis.bubbleDiv.classList.remove('bubble_visible');\r\n\t\t\tthis.bubbleDiv.removeAttribute('style');\r\n\t\t\tthis.bubbleDiv.innerHTML = '';\r\n\r\n\t\t\tif (this.bubbleClass) {\r\n\t\t\t\tthis.bubbleDiv.classList.remove(this.bubbleClass);\r\n\r\n\t\t\t\tthis.bubbleClass = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(opt) {\r\n\t\t\tvar mouseOver, mouseOut;\r\n\r\n\t\t\tmouseOut = (e) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tif (document.ontouchstart !== undefined) {\r\n\t\t\t\t\t\tthis.hide();\r\n\r\n\t\t\t\t\t\tdocument.removeEventListener('touchstart', mouseOut);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif ((e.target.closest(opt.element) && this.canBeHidden) || e.target.closest('.bubble')) {\r\n\t\t\t\t\t\t\tthis.hide();\r\n\r\n\t\t\t\t\t\t\tthis.canBeHidden = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 21);\r\n\t\t\t}\r\n\r\n\t\t\tmouseOver = (e) => {\r\n\t\t\t\tvar elem = e.target.closest(opt.element);\r\n\t\t\t\t\r\n\t\t\t\tif (!elem) return;\r\n\r\n\t\t\t\tif (document.ontouchstart !== undefined) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.show(elem);\r\n\r\n\t\t\t\t\tdocument.addEventListener('touchstart', mouseOut);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (elem) {\r\n\t\t\t\t\t\tthis.show(elem);\r\n\t\t\t\t\t} else if (e.target.closest('.bubble')) {\r\n\t\t\t\t\t\tthis.canBeHidden = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (document.ontouchstart !== undefined) {\r\n\t\t\t\tdocument.addEventListener('click', mouseOver);\r\n\t\t\t} else {\r\n\t\t\t\tdocument.addEventListener('mouseover', mouseOver);\r\n\t\t\t\tdocument.addEventListener('mouseout', mouseOut);\r\n\t\t\t}\r\n\r\n\t\t\t//add bubble to DOM\r\n\t\t\tthis.bubbleDiv = document.createElement('div');\r\n\t\t\tthis.bubbleDiv.className = 'bubble';\r\n\r\n\t\t\tdocument.body.appendChild(this.bubbleDiv);\r\n\t\t}\r\n\t};\r\n})();","/*\r\nAnchor.init(Str anchor selector[, Int duration ms[, Int shift px]]);\r\n*/\r\n\r\nvar Anchor;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tAnchor = {\r\n\t\tduration: 1000,\r\n\t\tshift: 0,\r\n\r\n\t\tscroll: function(anchorId, e) {\r\n\t\t\tvar anchorSectionElem = document.getElementById(anchorId +'-anchor');\r\n\r\n\t\t\tif (!anchorSectionElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\tvar scrollTo = anchorSectionElem.getBoundingClientRect().top + window.pageYOffset,\r\n\t\t\tscrollTo = scrollTo - this.shift;\r\n\r\n\t\t\tanimate(function(progress) {\r\n\t\t\t\twindow.scrollTo(0, ((scrollTo * progress) + ((1 - progress) * window.pageYOffset)));\r\n\t\t\t}, this.duration, 'easeInOutQuad');\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, duration, shift) {\r\n\t\t\tif (duration) {\r\n\t\t\t\tthis.duration = duration;\r\n\t\t\t}\r\n\r\n\t\t\tif (shift) {\r\n\t\t\t\tthis.shift = shift;\r\n\t\t\t}\r\n\r\n\t\t\t//click anchor\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.scroll(elem.getAttribute('href').split('#')[1], e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//hash anchor\r\n\t\t\tif (window.location.hash) {\r\n\t\t\t\twindow.addEventListener('load', () => {\r\n\t\t\t\t\tthis.scroll(window.location.hash.split('#')[1]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n})();","/*\r\nvar diagram = new Diagram({\r\n\tcanvasId: Str elem id,\r\n\tcharts: [\r\n\t{\r\n\t\tvalue: Int,\r\n\t\tcolor: Str,\r\n\t\twidth: Int px,\r\n\t\tnumContId: Str elem id\r\n\t}\r\n\t],\r\n\tmaxValue: Int,\r\n\tanimate: true\r\n});\r\n\r\ndiagram.animate(Int duration ms);\r\n*/\r\n\r\n; var Diagram;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tDiagram = function(options) {\r\n\t\tvar canvasElement = document.getElementById(options.canvasId);\r\n\r\n\t\tthis.animate = function(duration) {\r\n\t\t\tif (!canvasElement) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst chartValues = options.charts.map((obj) => obj.value);\r\n\t\t\t\r\n\t\t\tanimate((progress) => {\r\n\t\t\t\tthis.ctx.clearRect(0, 0, (this.center.x * 2), (this.center.y * 2));\r\n\t\t\t\tthis.prevChartsWidth = 0;\r\n\r\n\t\t\t\toptions.charts.forEach((chart, i) => {\r\n\t\t\t\t\tchart.value = chartValues[i] * progress;\r\n\r\n\t\t\t\t\tdrawChart(chart, i);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}, duration, 'easeInOutQuad');\r\n\t\t}\r\n\r\n\t\tif (!canvasElement) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcanvasElement.width = canvasElement.offsetWidth;\r\n\t\tcanvasElement.height = canvasElement.offsetHeight;\r\n\r\n\t\tthis.ctx = canvasElement.getContext('2d');\r\n\t\tthis.canvasWidth = canvasElement.width;\r\n\t\tthis.center = {x: canvasElement.width / 2, y: canvasElement.height / 2};\r\n\t\tthis.prevChartsWidth = 0;\r\n\r\n\t\tconst startAngle = 1.5 * Math.PI;\r\n\r\n\t\tvar drawChart = (chart, i) => {\r\n\t\t\tvar endAngle = 2 * Math.PI * chart.value / options.maxValue + startAngle,\r\n\t\t\tradius = this.canvasWidth / 2 - chart.width / 2 - (chart.offset || 0) - this.prevChartsWidth;\r\n\r\n\t\t\tthis.prevChartsWidth += chart.width + (chart.offset || 0);\r\n\r\n\t\t\tthis.ctx.beginPath();\r\n\t\t\tthis.ctx.arc(this.center.x, this.center.y, radius, startAngle, endAngle);\r\n\t\t\tthis.ctx.lineWidth = chart.width;\r\n\t\t\tthis.ctx.strokeStyle = chart.color;\r\n\t\t\tthis.ctx.stroke();\r\n\r\n\t\t\toutputNum(chart);\r\n\t\t}\r\n\r\n\t\tif (!options.animate) {\r\n\t\t\toptions.charts.forEach((chart, i) => {\r\n\t\t\t\tdrawChart(chart, i);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction outputNum(chart) {\r\n\t\t\tvar numElem = document.getElementById(chart.numContId);\r\n\r\n\t\t\tif (numElem) {\r\n\t\t\t\tnumElem.innerHTML = chart.value.toFixed(0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})();","var Numberspin;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tNumberspin = function(elementsStr) {\r\n\t\tthis.elements = document.querySelectorAll(elementsStr);\r\n\t\tthis.values = [];\r\n\r\n\t\tfor (var i = 0; i < this.elements.length; i++) {\r\n\t\t\tthis.values[i] = +this.elements[i].innerHTML;\r\n\t\t\tthis.elements[i].innerHTML = 0;\r\n\t\t}\r\n\r\n\t\tthis.animate = function(duration) {\r\n\t\t\tanimate((progress) => {\r\n\t\t\t\tfor (var i = 0; i < this.elements.length; i++) {\r\n\t\t\t\t\tthis.elements[i].innerHTML = Math.round(this.values[i] * progress);\r\n\t\t\t\t}\r\n\t\t\t}, duration);\r\n\t\t}\r\n\t}\r\n})();\r\n\r\n\r\n/*\r\nfunction Numberspin(elem, opt) {\r\n\tvar def = {\r\n\t\tanimation: 1\r\n\t},\r\n\topt = opt || {},\r\n\toptions = $.extend({}, def, opt),\r\n\tinterval = null,\r\n\tanimate = false,\r\n\t$Elem = $(elem),\r\n\tcurVal = 0,\r\n\tval = $Elem.html().replace(/[\\s]/g, ''),\r\n\tpattern = val.match(/[\\.,]/),\r\n\tendVal = +val.replace(/[\\D]/g, '');\r\n\r\n\t$Elem.html(0);\r\n\r\n\tthis.start = function() {\r\n\t\t\r\n\t\tif (!animate) {\r\n\t\t\tanimate = true;\r\n\t\t\tspin();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction spin() {\r\n\r\n\t\tinterval = setTimeout(function run() {\r\n\r\n\t\t\t\tif (curVal < endVal) {\r\n\r\n\t\t\t\t\tif (options.animation == 1) {\r\n\r\n\t\t\t\t\t\tvar d = endVal - curVal;\r\n\r\n\t\t\t\t\t\tif (d > 1213214321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 1213214321321;\r\n\t\t\t\t\t\t} else if (d > 3214321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 3214321321;\r\n\t\t\t\t\t\t} else if (d > 4321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 4321321;\r\n\t\t\t\t\t\t} else if (d > 321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 321321;\r\n\t\t\t\t\t\t} else if (d > 32321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 32321;\r\n\t\t\t\t\t\t} else if (d > 2321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 2321;\r\n\t\t\t\t\t\t} else if (d > 1321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 1321;\r\n\t\t\t\t\t\t} else if (d > 321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 321;\r\n\t\t\t\t\t\t} else if (d > 21) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 21;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcurVal++;\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t} else if (options.animation == 2) {\r\n\r\n\t\t\t\t\t\tvar endValArr = String(endVal).split(''),\r\n\t\t\t\t\t\tcurValArr = String(curVal).split('');\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < endValArr.length; i++) {\r\n\t\t\t\t\t\t\tif (curValArr[i]) {\r\n\t\t\t\t\t\t\t\tif (curValArr[i] < endValArr[i] && curValArr[i-1] == endValArr[i-1]) {\r\n\t\t\t\t\t\t\t\t\tcurValArr[i]++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (curValArr[i-1] && curValArr[i-1] == endValArr[i-1]) {\r\n\t\t\t\t\t\t\t\tcurValArr[i] = 0;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcurVal = curValArr.join('');\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar output = String(curVal);\r\n\r\n\t\t\t\t\tif (pattern) {\r\n\t\t\t\t\t\toutput = output.replace(new RegExp('(\\\\d{'+ pattern.index +'})'), '$1'+ pattern[0]);\r\n\t\t\t\t\t\toutput = output.replace(new RegExp('(\\\\d)?(?=(\\\\d{3})+?\\\\'+ pattern[0] +')', 'g'), '$1 ');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toutput = output.replace(/(\\d)?(?=(\\d{3})+$)/g, '$1 ');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t$Elem.html(output);\r\n\r\n\t\t\t\t\tsetTimeout(run, 85);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstop();\r\n\t\t\t\t}\r\n\r\n\t\t}, 1);\r\n\r\n\t}\r\n\r\n\tfunction stop() {\r\n\t\tclearTimeout(interval);\r\n\t}\r\n\r\n}\r\n\r\nvar numberspinObj = [], i = 0, ind;\r\nfunction numberspin(elem, opt) {\r\n\tif ($(elem)[0].ind == undefined) {\r\n\t\t$(elem)[0].ind = ind = i;\r\n\t} else {\r\n\t\tind = $(elem)[0].ind;\r\n\t}\r\n\r\n\tif (!(numberspinObj[elem+ind] instanceof Numberspin)) {\r\n\t\tnumberspinObj[elem+ind] = new Numberspin(elem, opt);\r\n\t}\r\n\ti++;\r\n\r\n\treturn numberspinObj[elem+ind];\r\n}\r\n*/","/*\r\nShare.init(Str button class);\r\n*/\r\n\r\n; var Share;\r\n\r\n;(function() {\r\n\t'use strict';\r\n\t\r\n\tvar encodedHref = encodeURIComponent(window.location.href);\r\n\r\n\tShare = {\r\n\t\tnetwork: function(elem) {\r\n\t\t\tvar net = elem.getAttribute('data-network');\r\n\r\n\t\t\tif (!net) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar url;\r\n\r\n\t\t\tswitch (net) {\r\n\t\t\t\tcase 'vk':\r\n\t\t\t\turl = 'http://vkontakte.ru/share.php?url='+ encodedHref;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'fb':\r\n\t\t\t\turl = 'http://www.facebook.com/sharer.php?u='+ encodedHref;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'tw':\r\n\t\t\t\turl = 'http://twitter.com/share?url='+ encodedHref;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'ok':\r\n\t\t\t\turl = 'https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl='+ encodedHref;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tthis.popup(url);\r\n\t\t},\r\n\r\n\t\tpopup: function(url) {\r\n\t\t\twindow.open(url, '', 'toolbar=0,status=0,width=626,height=436');\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.network(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n})();","; var Timer;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tTimer = function(options) {\r\n\t\tvar elem = document.getElementById(options.elemId);\r\n\r\n\t\tfunction setCookie() {\r\n\t\t\tdocument.cookie = 'lastTimestampValue-'+ options.elemId +'='+ Date.now() +'; expires='+ new Date(Date.now() + 259200000).toUTCString();\r\n\t\t}\r\n\r\n\t\tfunction output(time) {\r\n\t\t\tvar min = (time > 60) ? Math.floor(time / 60) : 0,\r\n\t\t\tsec = (time > 60) ? Math.round(time % 60) : time,\r\n\t\t\ttimerOut;\r\n\r\n\t\t\tif (options.format == 'extended') {\r\n\t\t\t\tfunction numToWord(num, wordsArr) {\r\n\t\t\t\t\tnum %= 100;\r\n\r\n\t\t\t\t\tif (num > 20) {\r\n\t\t\t\t\t\tnum %= 10;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tswitch (num) {\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\treturn wordsArr[0];\r\n\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tcase 3: \r\n\t\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\treturn wordsArr[1];\r\n\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn wordsArr[2];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar minTxt = numToWord(min, ['минуту', 'минуты', 'минут']), \r\n\t\t\t\tsecTxt = numToWord(sec, ['секунду', 'секунды', 'секунд']);\r\n\r\n\t\t\t\tvar minOut = (min != 0) ? min +' '+ minTxt : '',\r\n\t\t\t\tsecNum = (sec < 10) ? '0'+ sec : sec;\r\n\r\n\t\t\t\ttimerOut = ((min) ? min +' '+ minTxt +' ' : '')+''+ sec +' '+ secTxt;\r\n\t\t\t} else {\r\n\t\t\t\tvar minNum =  (min < 10) ? '0'+ min : min,\r\n\t\t\t\tsecNum = (sec < 10) ? '0'+ sec : sec;\r\n\r\n\t\t\t\ttimerOut = minNum +':'+ secNum;\r\n\t\t\t}\r\n\r\n\t\t\telem.innerHTML = timerOut;\r\n\t\t}\r\n\r\n\t\tthis.stop = function() {\r\n\t\t\tclearInterval(this.interval);\r\n\r\n\t\t\tif (this.onStop) {\r\n\t\t\t\tsetTimeout(this.onStop);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.start = function(startTime) {\r\n\t\t\tif (!elem) return;\r\n\t\t\t\r\n\t\t\tthis.time = startTime;\r\n\r\n\t\t\tvar lastTimestampValue = (function(cookie) {\r\n\t\t\t\tif (cookie) {\r\n\t\t\t\t\tvar reg = new RegExp('lastTimestampValue-'+ options.elemId +'=(\\\\d+)', 'i'),\r\n\t\t\t\t\tmatchArr = cookie.match(reg);\r\n\r\n\t\t\t\t\treturn matchArr ? matchArr[1] : null;\r\n\t\t\t\t}\r\n\t\t\t})(document.cookie);\r\n\r\n\t\t\tif (lastTimestampValue) {\r\n\t\t\t\tvar delta = Math.round((Date.now() - lastTimestampValue) / 1000);\r\n\r\n\t\t\t\tif (options.stopwatch) {\r\n\t\t\t\t\tthis.time += delta;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.time > delta) {\r\n\t\t\t\t\t\tthis.time -= delta;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetCookie();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsetCookie();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.interval = setInterval(() => {\r\n\t\t\t\tif (options.stopwatch) {\r\n\t\t\t\t\tthis.time++;\r\n\r\n\t\t\t\t\toutput(this.time);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.time--;\r\n\r\n\t\t\t\t\toutput(this.time);\r\n\r\n\t\t\t\t\tif (this.time == 0) {\r\n\t\t\t\t\t\tthis.stop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n})();","; var GetContentAjax;\r\n\r\n(function() {\r\n\t'use strict';\r\n\r\n\tGetContentAjax = function(options) {\r\n\t\tif (!document.querySelector(options.eventBtn)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.output = null;\r\n\r\n\t\tvar getContent = (eventBtnElem) => {\r\n\t\t\tvar outputDivElem = document.querySelector(options.outputDiv);\r\n\r\n\t\t\tajax({\r\n\t\t\t\turl: options.sourceFile,\r\n\t\t\t\tsend: eventBtnElem.getAttribute('data-send'),\r\n\t\t\t\tsuccess: (response) => {\r\n\t\t\t\t\tif (this.output === null) {\r\n\t\t\t\t\t\toutputDivElem.innerHTML = response;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toutputDivElem.innerHTML = this.output(response);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror: (response) => {\r\n\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (options.event == 'click') {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar eventBtnElem = e.target.closest(options.eventBtn);\r\n\r\n\t\t\t\tif (eventBtnElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tgetContent(eventBtnElem);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n})();\r\n\r\n\r\n/*var Ajax = {\r\n\ttake: function(url,data,id,fun) {\r\n\t\tvar _ = this;\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: url,\r\n\t\t\ttype:\"POST\",\r\n\t\t\tdataType:\"html\",\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: function(response){\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\t_.put(response, id);\r\n\t\t\t\t\tsetTimeout(fun, 721);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\terror: function() {\r\n\t\t\t\talert('Send Error');\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tput: function(resp,id) {\r\n\t\tvar Block = $(id);\r\n\t\tif (Block.hasClass('popup__window')) {\r\n\t\t\tBlock.find('.popup__inner').html(resp);\r\n\t\t\tPopup.show(id);\r\n\t\t} else {\r\n\t\t\tBlock.append(resp);\r\n\t\t\tcoverImg();\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\n$(document).ready(function() {\r\n\r\n\t$('body').on('click', '.js-ajax', function () {\r\n\t\tvar _$ = $(this);\r\n\r\n\t\tif (!_$.hasClass('lock')) {\r\n\t\t\t_$.addClass('lock');\r\n\r\n\t\t\tvar id = _$.attr('href') || '#'+ _$.attr('data-id'),\r\n\t\t\turl = _$.attr('data-url'),\r\n\t\t\tdata = _$.attr('data-data');\r\n\r\n\t\t\tif (_$.attr('data-page')) {\r\n\t\t\t\tvar page = +_$.attr('data-page');\r\n\r\n\t\t\t\tdata += '&page='+ page;\r\n\r\n\t\t\t\tAjax.take(url, data, id, function() {\r\n\t\t\t\t\tpage++;\r\n\t\t\t\t\t_$.attr('data-page', page).removeClass('lock');\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\t\t\t\tAjax.take(url, data, id, function() {\r\n\t\t\t\t\t_$.removeClass('lock');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t});\r\n\r\n\tif ($('.js-ajax-scroll').length && $(window).width() > 1000) {\r\n\t\tvar i = 0;\r\n\r\n\t\t$(window).scroll(function() {\r\n\t\t\tvar winScrTop = $(window).scrollTop(),\r\n\t\t\tPoint = $('.js-ajax-scroll');\r\n\r\n\t\t\tif (Point.offset().top < window.innerHeight && !Point.hasClass('lock')) {\r\n\t\t\t\tPoint.addClass('lock');\r\n\r\n\t\t\t\tvar id = '#'+ Point.attr('data-id'),\r\n\t\t\t\turl = Point.attr('data-url'),\r\n\t\t\t\tdata = Point.attr('data-data'),\r\n\t\t\t\tpage = +Point.attr('data-page');\r\n\r\n\t\t\t\tdata += '&page='+ page;\r\n\r\n\t\t\t\tAjax.take(url, data, id, function() {\r\n\t\t\t\t\tpage++;\r\n\t\t\t\t\tPoint.attr('data-page', page).removeClass('lock');\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\t\r\n\r\n});*/","; var DragLine;\r\n\r\n(function() {\r\n\t'use strict';\r\n\t\r\n\tDragLine = {\r\n\t\t\r\n\t\tdragStart: function(e) {\r\n\t\t\tif (e.type == 'mousedown' && e.which !== 1) return;\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tinit: function(opt) {\r\n\t\t\tvar dragLineElements = document.getElementsByClassName(opt.lineClass);\r\n\t\t\t\r\n\t\t\tif (!dragLineElements.length) return;\r\n\t\t\t\r\n\t\t\tfor (let i = 0; i < dragLineElements.length; i++) {\r\n\t\t\t\tvar dlElem = dragLineElements[i],\r\n\t\t\t\titemElements = dlElem.getElementsByTagName('div');\r\n\r\n\t\t\t\tfor (let i = 0; i < itemElements.length; i++) {\r\n\t\t\t\t\titemElements[i].classList.add(opt.lineClass +'__item');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdlElem.innerHTML = '<div class=\"'+ opt.lineClass +'__dragable\"><div class=\"'+ opt.lineClass +'__line\">'+ dlElem.innerHTML +'</div></div>';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (document.ontouchstart !== undefined) {\r\n\t\t\t\tdocument.addEventListener('touchstart', this.dragStart.bind(this));\r\n\t\t\t} else {\r\n\t\t\t\tdocument.addEventListener('mousedown', this.dragStart.bind(this));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n})();"]}