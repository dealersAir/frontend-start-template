{"version":3,"sources":["global.js","header.js","menu.js","fsscroll.js","toggle.js","flex-image.js","cover-image.js","video.js","popup.js","form.js","customform.js","validateform.js","accord.js","more.js","tab.js","anchor.js","diagram.js","numberspin.js","share.js","timer.js"],"names":["browser","ajax","animate","document","documentElement","setAttribute","navigator","userAgent","toLowerCase","test","CustomEvent","e","window","event","params","evt","bubbles","cancelable","detail","undefined","createEvent","initCustomEvent","prototype","Object","create","Event","winResizedEvent","rsz","addEventListener","setTimeout","dispatchEvent","Element","closest","ElProto","matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","selector","parentElement","elementIsHidden","elem","compStyles","getComputedStyle","display","visibility","opacity","options","xhr","XMLHttpRequest","open","url","send","setRequestHeader","onreadystatechange","readyState","status","success","response","draw","duration","ease","complete","start","performance","now","requestAnimationFrame","anim","time","timeFraction","progress","easing","quad","Math","pow","MobNav","headerElem","querySelector","pageYOffset","classList","add","body","contains","remove","winScrollTop","fixBody","st","style","top","scrollTo","navElem","getElementById","navId","close","openBtnElements","querySelectorAll","openBtn","i","length","init","openElem","target","closeElem","closeBtn","preventDefault","Menu","toggle","elementStr","subMenuStr","subMenuElem","height","mainElem","itemElements","subMenuElements","scrollHeight","FsScroll","contElem","scrolling","delta","current","midWinScrollTop","innerHeight","screenElements","screen","screenOffsetTop","getBoundingClientRect","offsetHeight","scroll","mouseScroll","currentScreenElem","winScrollBottom","nextScreenElem","nextElementSibling","currentScreenOffsetTop","nextScreenOffsetTop","previousElementSibling","container","deltaY","Toggle","toggledClass","role","targetElements","getAttribute","off","hasAttribute","innerHTML","on","FlexImg","elementsStr","load","images","split","forEach","image","imageProp","innerWidth","src","elements","CoverImg","cover","img","currentTarget","imgWrap","imgProportion","offsetWidth","imgWrapProportion","Infinity","margin","round","marginTop","marginLeft","reInit","parentElementStr","Date","getTime","Video","play","iFrame","createElement","allow","allowFullscreen","appendChild","Popup","MediaPopup","onClose","headerSelector","offset","clientWidth","right","callback","elemParent","message","msg","element","location","hash","args","elemPopup","popupStr","elemImg","href","video","next","group","index","slice","call","indexOf","type","caption","Form","NextFieldset","nextFieldset","currentFieldset","ValidateForm","validate","form","elemStr","formSelector","onSubmit","clear","value","CustomPlaceholder","hidePlaceholder","textareaMirrors","actSubmitBtn","removeAttribute","sending","obj","unlockSubmitButton","clearForm","CustomSelect","BindLabels","label","forID","id","htmlFor","ChangeCheckbox","change","checked","ChangeRadio","checkedElem","name","j","placeholder","elemFor","className","insertBefore","hide","lSt","textIndent","paddingLeft","paddingRight","field","fieldElements","listItemElements","scrollTop","selectMultipleVal","button","input","toButtonValue","toInputValue","inputsBlock","checkedElements","join","yetInput","targetAction","targetElem","selectVal","lalueElements","varHeightTextarea","setHeight","select","autocomplete","match","reg","RegExp","valueElements","valueElem","setOptions","fieldStr","optObj","val","fields","li","keyboard","key","hoverItem","nextItem","item","firstElementChild","lastElementChild","build","parent","optionsList","selectedOption","opt","require","head","multiple","class","inpDiv","hiddenInp","customElem","firstChild","removeChild","children","which","keyCode","CustomFile","loadPreview","file","imgPreviewBlock","reader","FileReader","onload","result","readAsDataURL","changeInput","maxFiles","files","fileItems","fileItem","mirror","mirrorOutput","replace","errorTip","err","errInd","errorTxt","errTip","customErrorTip","date","errDate","compDate","curDate","interval","valueOf","getFullYear","getMonth","getDate","email","tel","pass","minLng","errCount","size","maxSize","validateOnInputOrBlur","inpType","groups","checkedElement","compElemVal","submit","bind","Accord","contentElem","allButtonElem","allContentElem","More","btnTxt","Tab","btnElem","btnElements","tabItemElements","tabItemElem","contElements","tabItemElemActive","Anchor","shift","anchorId","anchorSectionElem","Diagram","canvasElement","canvasId","chartValues","charts","map","ctx","clearRect","center","x","y","prevChartsWidth","chart","drawChart","width","getContext","canvasWidth","startAngle","PI","endAngle","maxValue","radius","beginPath","arc","lineWidth","strokeStyle","color","stroke","outputNum","numElem","numContId","toFixed","Numberspin","values","Share","encodedHref","encodeURIComponent","network","net","popup","Timer","setTime","elemId","onStop","setCookies","cookie","toUTCString","timerCookieValue","cokArr","keyVal","output","min","floor","sec","minOut","secTxt","secNum","stop","clearInterval","setInterval"],"mappings":"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","file":"script.js","sourcesContent":["//global variables\r\n; var browser, ajax, animate;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//Get useragent\r\n\tdocument.documentElement.setAttribute('data-useragent', navigator.userAgent);\r\n\r\n\t//Browser identify\r\n\tbrowser = (function(userAgent) {\r\n\t\tuserAgent = userAgent.toLowerCase();\r\n\r\n\t\tif (/(msie|rv:11\\.0)/.test(userAgent)) {\r\n\t\t\treturn 'ie';\r\n\t\t}\r\n\t}(navigator.userAgent));\r\n\r\n\t//Add support CustomEvent constructor for IE\r\n\ttry {\r\n\t\tnew CustomEvent(\"IE has CustomEvent, but doesn't support constructor\");\r\n\t} catch (e) {\r\n\t\twindow.CustomEvent = function(event, params) {\r\n\t\t\tvar evt;\r\n\r\n\t\t\tparams = params || {\r\n\t\t\t\tbubbles: false,\r\n\t\t\t\tcancelable: false,\r\n\t\t\t\tdetail: undefined\r\n\t\t\t};\r\n\r\n\t\t\tevt = document.createEvent(\"CustomEvent\");\r\n\r\n\t\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n\r\n\t\t\treturn evt;\r\n\t\t}\r\n\r\n\t\tCustomEvent.prototype = Object.create(window.Event.prototype);\r\n\t}\r\n\r\n\t//Window Resized Event\r\n\tvar winResizedEvent = new CustomEvent('winResized'),\r\n\trsz = true;\r\n\r\n\twindow.addEventListener('resize', function() {\r\n\t\tif (rsz) {\r\n\t\t\trsz = false;\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\twindow.dispatchEvent(winResizedEvent);\r\n\t\t\t\trsz = true;\r\n\t\t\t}, 1021);\r\n\t\t}\r\n\t});\r\n\r\n\t//Closest polyfill\r\n\tif (!Element.prototype.closest) {\r\n\t\t(function(ElProto) {\r\n\t\t\tElProto.matches = ElProto.matches || ElProto.mozMatchesSelector || ElProto.msMatchesSelector || ElProto.oMatchesSelector || ElProto.webkitMatchesSelector;\r\n\r\n\t\t\tElProto.closest = ElProto.closest || function closest(selector) {\r\n\t\t\t\tif (!this) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.matches(selector)) {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this.parentElement) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.parentElement.closest(selector);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}(Element.prototype));\r\n\t}\r\n\r\n\t//Check element for hidden\r\n\tElement.prototype.elementIsHidden = function() {\r\n\t\tvar elem = this;\r\n\r\n\t\twhile (elem) {\r\n\t\t\tif (!elem) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tvar compStyles = getComputedStyle(elem);\r\n\r\n\t\t\tif (compStyles.display == 'none' || compStyles.visibility == 'hidden' || compStyles.opacity == '0') {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\telem = elem.parentElement;\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\t//Ajax\r\n\tajax = function(options) {\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\r\n\t\txhr.open('POST', options.url);\r\n\r\n\t\tif (typeof options.send == 'string') {\r\n\t\t\txhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\r\n\t\t}\r\n\t\t\r\n\t\txhr.onreadystatechange = function() {\r\n\t\t\tif (xhr.readyState == 4 && xhr.status == 200) {\r\n\t\t\t\toptions.success(xhr.response);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\txhr.send(options.send);\r\n\t}\r\n\r\n\t/*\r\n\tAnimation\r\n\tanimate(function(takes 0...1) {}, Int duration in ms[, Str easing[, Fun animation complete]]);\r\n\t*/\r\n\tanimate = function(draw, duration, ease, complete) {\r\n\t\tvar start = performance.now();\r\n\r\n\t\trequestAnimationFrame(function anim(time) {\r\n\t\t\tvar timeFraction = (time - start) / duration;\r\n\r\n\t\t\tif (timeFraction > 1) {\r\n\t\t\t\ttimeFraction = 1;\r\n\t\t\t}\r\n\r\n\t\t\tvar progress = (ease) ? easing(timeFraction, ease) : timeFraction;\r\n\r\n\t\t\tdraw(progress);\r\n\r\n\t\t\tif (timeFraction < 1) {\r\n\t\t\t\trequestAnimationFrame(anim);\r\n\t\t\t} else {\r\n\t\t\t\tif (complete != undefined) {\r\n\t\t\t\t\tcomplete();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction easing(timeFraction, ease) {\r\n\t\tif (ease == 'easeInOutQuad') {\r\n\t\t\tif (timeFraction <= 0.5) {\r\n\t\t\t\treturn quad(2 * timeFraction) / 2;\r\n\t\t\t} else {\r\n\t\t\t\treturn (2 - quad(2 * (1 - timeFraction))) / 2;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction quad(timeFraction) {\r\n\t\treturn Math.pow(timeFraction, 2)\r\n\t}\r\n\r\n}());","; var MobNav;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//fix header\r\n\tvar headerElem = document.querySelector('.header');\r\n\r\n\twindow.addEventListener('scroll', function() {\r\n\t\tif (window.pageYOffset > 21) {\r\n\t\t\theaderElem.classList.add('header_fixed');\r\n\t\t} else if (!document.body.classList.contains('popup-is-opened') && !document.body.classList.contains('mob-nav-is-opened')) {\r\n\t\t\theaderElem.classList.remove('header_fixed');\r\n\t\t}\r\n\t});\r\n\r\n\t//mob menu\r\n\tMobNav = {\r\n\t\toptions: null,\r\n\t\twinScrollTop: 0,\r\n\r\n\t\tfixBody: function(st) {\r\n\t\t\tif (st) {\r\n\t\t\t\tthis.winScrollTop = window.pageYOffset;\r\n\r\n\t\t\t\tdocument.body.classList.add('mob-nav-is-opened');\r\n\t\t\t\tdocument.body.style.top = -this.winScrollTop +'px';\r\n\t\t\t} else {\r\n\t\t\t\tdocument.body.classList.remove('mob-nav-is-opened');\r\n\r\n\t\t\t\twindow.scrollTo(0, this.winScrollTop);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function(elem) {\r\n\t\t\tvar navElem = document.getElementById(this.options.navId);\r\n\r\n\t\t\tif (!navElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (elem.classList.contains('opened')) {\r\n\t\t\t\tthis.close();\r\n\t\t\t} else {\r\n\t\t\t\telem.classList.add('opened');\r\n\t\t\t\tnavElem.classList.add('opened');\r\n\t\t\t\tthis.fixBody(true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar navElem = document.getElementById(this.options.navId);\r\n\r\n\t\t\tif (!navElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tnavElem.classList.remove('opened');\r\n\r\n\t\t\tvar openBtnElements = document.querySelectorAll(this.options.openBtn);\r\n\r\n\t\t\tfor (var i = 0; i < openBtnElements.length; i++) {\r\n\t\t\t\topenBtnElements[i].classList.remove('opened');\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(false);\r\n\t\t},\r\n\r\n\t\tinit: function(options) {\r\n\t\t\tthis.options = options;\r\n\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar openElem = e.target.closest(options.openBtn),\r\n\t\t\t\tcloseElem = e.target.closest(options.closeBtn);\r\n\r\n\t\t\t\tif (openElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.open(openElem);\r\n\t\t\t\t} else if (closeElem) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","/*\r\n* call Menu.init(Str menu item selector, Str sub menu selector);\r\n*/\r\nvar Menu;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tMenu = {\r\n\t\ttoggle: function(elem, elementStr, subMenuStr) {\r\n\t\t\tvar subMenuElem = elem.querySelector(subMenuStr);\r\n\r\n\t\t\tif (!subMenuElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (elem.classList.contains('active')) {\r\n\t\t\t\tsubMenuElem.style.height = 0;\r\n\r\n\t\t\t\telem.classList.remove('active');\r\n\t\t\t} else {\r\n\t\t\t\tvar mainElem = elem.closest('.menu'),\r\n\t\t\t\titemElements = mainElem.querySelectorAll(elementStr),\r\n\t\t\t\tsubMenuElements = mainElem.querySelectorAll(subMenuStr);\r\n\r\n\t\t\t\tfor (var i = 0; i < itemElements.length; i++) {\r\n\t\t\t\t\titemElements[i].classList.remove('accord__button_active');\r\n\t\t\t\t\tsubMenuElements[i].style.height = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsubMenuElem.style.height = subMenuElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('active');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, subMenuStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.toggle(elem, elementStr, subMenuStr);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","/*\r\nFsScroll.init({\r\n\tcontainer: Str selector,\r\n\tscreen: Str selector,\r\n\tduration: Int milliseconds\r\n});\r\n*/\r\n\r\nvar FsScroll;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tFsScroll = {\r\n\t\toptions: null,\r\n\t\tcontElem: null,\r\n\t\tscrolling: false,\r\n\t\tdelta: 0,\r\n\r\n\t\tcurrent: function() {\r\n\t\t\tvar midWinScrollTop = window.pageYOffset + window.innerHeight / 2,\r\n\t\t\tscreenElements = this.contElem.querySelectorAll(this.options.screen);\r\n\r\n\t\t\tfor (var i = 0; i < screenElements.length; i++) {\r\n\t\t\t\tscreenElements[i].classList.remove('fsscroll__screen_current');\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < screenElements.length; i++) {\r\n\t\t\t\tvar screenOffsetTop = screenElements[i].getBoundingClientRect().top + window.pageYOffset;\r\n\r\n\t\t\t\tif (screenOffsetTop <= midWinScrollTop && (screenOffsetTop + screenElements[i].offsetHeight) >= midWinScrollTop) {\r\n\r\n\t\t\t\t\tscreenElements[i].classList.add('fsscroll__screen_current');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tscroll: function(scrollTo, scroll) {\r\n\t\t\tthis.scrolling = true;\r\n\t\t\t\r\n\t\t\tvar duration = this.options.duration || 1000,\r\n\t\t\teasing = 'easeInOutQuad';\r\n\r\n\t\t\tif (scroll) {\r\n\t\t\t\tduration = 500;\r\n\t\t\t\teasing = 'easeInOutQuad';\r\n\t\t\t}\r\n\r\n\t\t\tanimate(function(progress) {\r\n\t\t\t\twindow.scrollTo(0, ((scrollTo * progress) + ((1 - progress) * window.pageYOffset)));\r\n\t\t\t}, duration, easing, () => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.current();\r\n\r\n\t\t\t\t\tthis.scrolling = false;\r\n\t\t\t\t\tthis.delta = 0;\r\n\t\t\t\t}, 321);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tmouseScroll: function(delta) {\r\n\t\t\tvar currentScreenElem = this.contElem.querySelector('.fsscroll__screen_current'),\r\n\t\t\twinScrollBottom = window.pageYOffset + window.innerHeight;\r\n\r\n\t\t\tif (delta > 0) {\r\n\t\t\t\tvar nextScreenElem = (currentScreenElem) ? currentScreenElem.nextElementSibling : null;\r\n\r\n\t\t\t\tif (currentScreenElem && ((currentScreenElem.offsetHeight - 21) < window.innerHeight) && !currentScreenElem.classList.contains('fsscroll__screen_last')) {\r\n\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\tvar currentScreenOffsetTop = currentScreenElem.getBoundingClientRect().top + window.pageYOffset;\r\n\r\n\t\t\t\t\t\tif ((window.pageYOffset + 21) < currentScreenOffsetTop) {\r\n\t\t\t\t\t\t\tthis.scroll(currentScreenOffsetTop);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenElem.getBoundingClientRect().top + window.pageYOffset);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar nextScreenOffsetTop = (nextScreenElem) ? nextScreenElem.getBoundingClientRect().top + window.pageYOffset : undefined;\r\n\r\n\t\t\t\t\tif (nextScreenElem && (winScrollBottom > nextScreenOffsetTop)) {\r\n\t\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenOffsetTop);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.delta += delta / 3;\r\n\r\n\t\t\t\t\t\tthis.scroll(window.pageYOffset + this.delta, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (delta < 0) {\r\n\t\t\t\tvar nextScreenElem = (currentScreenElem) ? currentScreenElem.previousElementSibling : null;\r\n\r\n\t\t\t\tif (nextScreenElem && ((currentScreenElem.offsetHeight - 21) < window.innerHeight) && !currentScreenElem.classList.contains('fsscroll__screen_first')) {\r\n\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\tvar currentScreenOffsetTop = currentScreenElem.getBoundingClientRect().top + window.pageYOffset;\r\n\r\n\t\t\t\t\t\tif ((winScrollBottom - 21) > (currentScreenOffsetTop + currentScreenElem.offsetHeight)) {\r\n\t\t\t\t\t\t\tthis.scroll(currentScreenOffsetTop + currentScreenElem.offsetHeight - window.innerHeight);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenElem.getBoundingClientRect().top + window.pageYOffset + nextScreenElem.offsetHeight - window.innerHeight);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar nextScreenOffsetTop = (nextScreenElem) ? nextScreenElem.getBoundingClientRect().top + window.pageYOffset : undefined;\r\n\r\n\t\t\t\t\tif (nextScreenElem && ((nextScreenOffsetTop + nextScreenElem.offsetHeight) > window.pageYOffset)) {\r\n\t\t\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\t\t\tthis.scroll(nextScreenOffsetTop);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.delta += delta / 3;\r\n\t\t\t\t\t\tthis.scroll(window.pageYOffset + this.delta, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(options) {\r\n\t\t\tvar contElem = document.querySelector(options.container);\r\n\r\n\t\t\tif (!contElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.options = options;\r\n\t\t\tthis.contElem = contElem;\r\n\r\n\t\t\tvar screenElements = contElem.querySelectorAll(options.screen);\r\n\r\n\t\t\tscreenElements[0].classList.add('fsscroll__screen_first');\r\n\t\t\tscreenElements[0].classList.add('fsscroll__screen_current');\r\n\t\t\tscreenElements[screenElements.length - 1].classList.add('fsscroll__screen_last');\r\n\r\n\t\t\tif ('onwheel' in document) {\r\n\t\t\t\tdocument.addEventListener('wheel', (e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.mouseScroll(e.deltaY);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twindow.addEventListener('scroll', () => {\r\n\t\t\t\tif (!this.scrolling) {\r\n\t\t\t\t\tthis.current();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","/*\r\nToggle.init(Str button selector[, Str toggle class, default: 'toggled']);\r\n\r\nToggle.role = function() {\r\n\treturn {\r\n\t\t[data-role]: {\r\n\t\t\ton: function() {\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\toff: function() {\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n}\r\n*/\r\n; var Toggle;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tToggle = {\r\n\t\ttoggledClass: 'toggled',\r\n\t\trole: null,\r\n\r\n\t\ttoggle: function(elem) {\r\n\t\t\tvar targetElements = document.querySelectorAll(elem.getAttribute('data-target-elements')),\r\n\t\t\trole = elem.getAttribute('data-role');\r\n\r\n\t\t\tif (!targetElements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (elem.classList.contains(this.toggledClass)) {\r\n\t\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\t\ttargetElements[i].classList.remove(this.toggledClass);\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.remove(this.toggledClass);\r\n\r\n\t\t\t\tif (role && this.role) {\r\n\t\t\t\t\tthis.role()[role].off();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.hasAttribute('data-first-text')) {\r\n\t\t\t\t\telem.innerHTML = elem.getAttribute('data-first-text');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\t\ttargetElements[i].classList.add(this.toggledClass);\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.add(this.toggledClass);\r\n\r\n\t\t\t\tif (role && this.role) {\r\n\t\t\t\t\tthis.role()[role].on();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.hasAttribute('data-secont-text')) {\r\n\t\t\t\t\telem.setAttribute('data-first-text', elem.innerHTML);\r\n\r\n\t\t\t\t\telem.innerHTML = elem.getAttribute('data-secont-text');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, toggledClass) {\r\n\t\t\tif (toggledClass) {\r\n\t\t\t\tthis.toggledClass = toggledClass;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.toggle(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","var FlexImg;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tFlexImg = function(elementsStr) {\r\n\r\n\t\tfunction load(elem) {\r\n\r\n\t\t\tif (!elem.hasAttribute('data-images')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar images = elem.getAttribute('data-images').split(',');\r\n\r\n\t\t\timages.forEach(function(image) {\r\n\r\n\t\t\t\tvar imageProp = image.split('->');\r\n\r\n\t\t\t\tif (window.innerWidth < (+imageProp[0])) {\r\n\t\t\t\t\telem.src = imageProp[1];\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t\t//init\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\tif (elements.length) {\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tload(elements[i]);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n}());","var CoverImg;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tCoverImg = {\r\n\t\tcover: function(e) {\r\n\t\t\tvar img = e.currentTarget,\r\n\t\t\timgWrap = img.closest('.cover-img-wrap'),\r\n\t\t\timgProportion = img.offsetWidth/img.offsetHeight,\r\n\t\t\timgWrapProportion = imgWrap.offsetWidth/imgWrap.offsetHeight;\r\n\r\n\t\t\tif (imgWrapProportion != Infinity && imgWrapProportion < 21) {\r\n\r\n\t\t\t\tif (imgProportion <= imgWrapProportion) {\r\n\t\t\t\t\tvar margin = Math.round(-(imgWrap.offsetWidth / imgProportion - imgWrap.offsetHeight) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t\t\timg.style.marginTop = margin +'px';\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar margin = Math.round(-(imgWrap.offsetHeight * imgProportion - imgWrap.offsetWidth) / 2);\r\n\r\n\t\t\t\t\timg.classList.add('cover-img_h');\r\n\t\t\t\t\timg.style.marginLeft = margin +'px';\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\timg.classList.add('cover-img_w');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\treInit: function(parentElementStr) {\r\n\r\n\t\t\tvar elements;\r\n\r\n\t\t\tif (parentElementStr) {\r\n\t\t\t\tif (typeof parentElementStr == 'string') {\r\n\t\t\t\t\telements = document.querySelectorAll(parentElementStr +' .cover-img');\r\n\t\t\t\t} else {\r\n\t\t\t\t\telements = parentElementStr.querySelectorAll('.cover-img');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\telements = document.querySelectorAll('.cover-img');\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar img = elements[i];\r\n\r\n\t\t\t\timg.classList.remove('cover-img_w');\r\n\t\t\t\timg.classList.remove('cover-img_h');\r\n\t\t\t\timg.style.marginTop = '';\r\n\t\t\t\timg.style.marginLeft = '';\r\n\t\t\t\timg.src = (browser == 'ie') ? (img.src +'?'+ new Date().getTime()) : img.src;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(parentElementStr) {\r\n\t\t\tvar elements = (parentElementStr) ? document.querySelectorAll(parentElementStr +' .cover-img, '+ parentElementStr +' .cover-img-wrap') : document.querySelectorAll('.cover-img, .cover-img-wrap');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\timg;\r\n\r\n\t\t\t\tif (elem.classList.contains('cover-img-wrap')) {\r\n\r\n\t\t\t\t\timg = elem.querySelector('img');\r\n\r\n\t\t\t\t\timg.classList.add('cover-img');\r\n\r\n\t\t\t\t} else if (elem.classList.contains('cover-img')) {\r\n\r\n\t\t\t\t\timg = elem;\r\n\r\n\t\t\t\t\timg.parentElement.classList.add('cover-img-wrap');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!img.hasAttribute('data-event')) {\r\n\r\n\t\t\t\t\timg.addEventListener('load', this.cover);\r\n\r\n\t\t\t\t\timg.setAttribute('data-event', 'true');\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (browser == 'ie') {\r\n\t\t\t\t\timg.src = img.src +'?'+ new Date().getTime();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n}());","/*\r\ncall to init:\r\nVideo.init(Str button selector);\r\n*/\r\nvar Video;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tVideo = {\r\n\t\tplay: function(elem) {\r\n\t\t\telem.nextElementSibling.classList.add('video__frame_visible');\r\n\r\n\t\t\tvar iFrame = document.createElement('iframe');\r\n\r\n\t\t\tiFrame.src = elem.getAttribute('data-src') +'?autoplay=1&rel=0&amp;showinfo=0';\r\n\t\t\tiFrame.allow = 'autoplay; encrypted-media';\r\n\t\t\tiFrame.allowFullscreen = true;\r\n\r\n\t\t\tiFrame.addEventListener('load', function() {\r\n\t\t\t\tiFrame.classList.add('visible');\r\n\t\t\t});\r\n\r\n\t\t\telem.nextElementSibling.appendChild(iFrame);\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.play(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","var Popup, MediaPopup;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//popup core\r\n\tPopup = {\r\n\t\twinScrollTop: 0,\r\n\t\tonClose: null,\r\n\t\theaderSelector: '.header',\r\n\r\n\t\tfixBody: function(st) {\r\n\t\t\tvar headerElem = document.querySelector(this.headerSelector);\r\n\r\n\t\t\tif (st && !document.body.classList.contains('popup-is-opened')) {\r\n\t\t\t\tthis.winScrollTop = window.pageYOffset;\r\n\r\n\t\t\t\tvar offset = window.innerWidth - document.documentElement.clientWidth;\r\n\r\n\t\t\t\tdocument.body.classList.add('popup-is-opened');\r\n\r\n\t\t\t\tif (headerElem) {\r\n\t\t\t\t\theaderElem.style.right = offset +'px';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdocument.body.style.right = offset +'px';\r\n\r\n\t\t\t\tdocument.body.style.top = (-this.winScrollTop) +'px';\r\n\t\t\t} else if (!st) {\r\n\t\t\t\tif (headerElem) {\r\n\t\t\t\t\theaderElem.style.right = '';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdocument.body.classList.remove('popup-is-opened');\r\n\r\n\t\t\t\twindow.scrollTo(0, this.winScrollTop);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function(elementStr, callback) {\r\n\t\t\tvar elem = document.querySelector(elementStr);\r\n\r\n\t\t\tif (!elem || !elem.classList.contains('popup__window')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.close();\r\n\r\n\t\t\tvar elemParent = elem.parentElement;\r\n\t\t\t\r\n\t\t\telemParent.classList.add('popup_visible');\r\n\r\n\t\t\telem.classList.add('popup__window_visible');\r\n\r\n\t\t\tif (callback) {\r\n\t\t\t\tthis.onClose = callback;\r\n\t\t\t}\r\n\r\n\t\t\tthis.fixBody(true);\r\n\r\n\t\t\treturn elem;\r\n\t\t},\r\n\r\n\t\tmessage: function(elementStr, msg, callback) {\r\n\t\t\tvar elem = this.open(elementStr, callback);\r\n\r\n\t\t\telem.querySelector('.popup__inner').innerHTML = '<div class=\"popup__message\">'+ msg +'</div>';\r\n\t\t},\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar elements = document.querySelectorAll('.popup__window');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.classList.contains('popup__window_visible')) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.remove('popup__window_visible');\r\n\t\t\t\telem.parentElement.classList.remove('popup_visible');\r\n\t\t\t}\r\n\r\n\t\t\tif (this.onClose) {\r\n\t\t\t\tthis.onClose();\r\n\t\t\t\tthis.onClose = null;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar element = e.target.closest(elementStr),\r\n\t\t\t\tcloseElem = e.target.closest('.js-popup-close');\r\n\r\n\t\t\t\tif (element) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.open(element.getAttribute('data-popup'));\r\n\t\t\t\t} else if (closeElem || (!e.target.closest('.popup__window') && e.target.closest('.popup'))) {\r\n\t\t\t\t\tthis.fixBody(false);\r\n\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (window.location.hash) {\r\n\t\t\t\tthis.open(window.location.hash);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//popup media\r\n\tMediaPopup = {\r\n\t\timage: function(args) {\r\n\t\t\tvar elemPopup = Popup.open(args.popupStr),\r\n\t\t\telemImg = elemPopup.querySelector('.popup-media__image');\r\n\r\n\t\t\tPopup.onClose = function() {\r\n\t\t\t\telemImg.src = '#';\r\n\t\t\t\telemImg.classList.remove('popup-media__image_visible'); \r\n\t\t\t}\r\n\r\n\t\t\telemImg.src = args.href;\r\n\t\t\telemImg.classList.add('popup-media__image_visible');\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tvideo: function(args) {\r\n\r\n\t\t},\r\n\r\n\t\tnext: function(elem) {\r\n\t\t\tif (!elem.hasAttribute('data-group')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar group = elem.getAttribute('data-group'),\r\n\t\t\tindex = [].slice.call(document.querySelectorAll('[data-group=\"'+ group +'\"]')).indexOf(elem);\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar element = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!element) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tvar type = element.getAttribute('data-type'),\r\n\t\t\t\targs = {\r\n\t\t\t\t\thref: element.href,\r\n\t\t\t\t\tcaption: element.getAttribute('data-caption'),\r\n\t\t\t\t\tgroup: element.getAttribute('data-group'),\r\n\t\t\t\t\tpopupStr: element.getAttribute('data-popup')\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (type == 'image') {\r\n\t\t\t\t\tthis.image(args);\r\n\t\t\t\t} else if (type == 'video') {\r\n\t\t\t\t\tthis.video(args);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.next(element);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n}());\r\n\r\n\r\n\r\n/*var pPopup = {\r\n\tcloseCallback: function() {},\r\n\tplay: null,\r\n\tind: 0,\r\n\tgroup: null,\r\n\tposition: 0,\r\n\r\n\tshow: function(id, fun) {\r\n\t\tvar _ = this,\r\n\t\t$popWin = $(id),\r\n\t\t$popup = $popWin.closest('.popup');\r\n\t\t\r\n\t\tif ($popWin.length && $popWin.hasClass('popup__window')) {\r\n\r\n\t\t\t_.position = $(window).scrollTop();\r\n\t\t\t$popup.fadeIn(321).scrollTop(0);\r\n\t\t\t$('.popup__window').removeClass('popup__window_visible');\r\n\t\t\t$popWin.addClass('popup__window_visible');\r\n\t\t\t$('body').css('top', -_.position).addClass('is-popup-opened');\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tCoverImg.reInit('#media-popup');\r\n\t\t\t}, 721);\r\n\r\n\t\t}\r\n\r\n\t\t_.closeCallback = fun || function() {};\r\n\t},\r\n\r\n\thide: function() {\r\n\t\tvar _ = this;\r\n\t\t$('.popup__window').removeClass('popup__window_visible');\r\n\t\t$('.popup').fadeOut(321);\r\n\t\t$('.popup__message').remove();\r\n\t\t$('body').removeClass('is-popup-opened').removeAttr('style');\r\n\t\t$('html, body').scrollTop(_.position);\r\n\t\t_.closeCallback();\r\n\t},\r\n\r\n\tmessage: function(id,msg,fun) {\r\n\t\tvar _ = this;\r\n\t\t$(id).find('.popup__inner').prepend('<div class=\"popup__message\">'+ msg +'</div>');\r\n\t\t_.show(id);\r\n\t\t_.closeCallback = fun || function() {};\r\n\t},\r\n\r\n\tresize: function($pop, $img) {\r\n\t\tvar popH = $pop.innerHeight();\r\n\t\tif (popH > window.innerHeight) {\r\n\t\t\t$pop.css('max-width', (window.innerHeight * ($pop.innerWidth() / popH)));\r\n\t\t}\r\n\t},\r\n\r\n\tmedia: function(_$,args,show) {\r\n\t\tvar _ = this,\r\n\t\tid = $(_$).attr('data-popup'),\r\n\t\tPop = $(id),\r\n\t\t$box = Pop.find('.popup-media__box'),\r\n\t\tImg = Pop.find('.popup-media__image'),\r\n\t\tBtnPlay = Pop.find('.popup-media__play'),\r\n\t\tIframe = Pop.find('.popup-media__iframe');\r\n\r\n\t\tif (args.data) {\r\n\t\t\tPop.find('.popup-media__bar').css('display', 'block');\r\n\t\t\tvar data = JSON.parse( args.data );\r\n\t\t\tfor (var i = 0; i < data.length; i++) {\r\n\t\t\t\tPop.find('.popup-media__data-'+ i).html(data[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (args.imgSize) {\r\n\t\t\tvar imgSize = JSON.parse(args.imgSize);\r\n\t\t\tImg.attr('width', imgSize[0]).attr('height', imgSize[1]);\r\n\t\t} else {\r\n\t\t\tImg.attr('width', '').attr('height', '');\r\n\t\t}\r\n\r\n\t\tif (args.img) {\r\n\t\t\tImg.css({visibility: 'visible', marginLeft: '', marginTop: ''}).removeClass('cover-img_w cover-img_h').attr('src', args.img);\r\n\t\t}\r\n\t\t\r\n\t\t//Pop.css('max-width', '');\r\n\t\tIframe.css('visibility', 'hidden').attr('src', '');\r\n\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t\r\n\t\tif (args.vid) {\r\n\t\t\t$box.removeClass('middle').addClass('cover-img-wrap');\r\n\t\t\tImg.removeClass('middle__img').addClass('cover-img');\r\n\t\t\tBtnPlay.css('visibility', 'visible').attr('href', args.vid);\r\n\r\n\t\t\t_.play = function() {\r\n\t\t\t\tvar utm = args.vid.match(/(?:youtu\\.be\\/|youtube\\.com\\/watch\\?v\\=|youtube\\.com\\/embed\\/)+?([\\w-]+)/i),\r\n\t\t\t\tifrSrc = 'https://www.youtube.com/embed/'+ utm[1] +'?autoplay=1';\r\n\t\t\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t\t\tImg.css('visibility', 'hidden');\r\n\t\t\t\tIframe.css('visibility', 'visible').attr('src', ifrSrc);\r\n\t\t\t}\r\n\r\n\t\t\tif (!args.img) {\r\n\t\t\t\t_.play();\r\n\t\t\t} else {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tCoverImg.init(id);\r\n\t\t\t\t\tImg.attr('src', args.img);\r\n\t\t\t\t}, 721);\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\r\n\t\t} else {\r\n\t\t\t$box.removeClass('cover-img-wrap').addClass('middle');\r\n\t\t\tImg.removeClass('cover-img').addClass('middle__img');\r\n\t\t}\r\n\r\n\r\n\r\n\t\tif (args.group) {\r\n\t\t\tPop.find('.popup-media__arr').css('display', 'block');\r\n\t\t\t_.group =  $(_$).attr('data-group');\r\n\t\t\t_.ind = $('[data-group=\"'+ _.group +'\"]').index(_$);\r\n\t\t}\r\n\r\n\t\tif (show) {\r\n\t\t\t_.show(id);\r\n\t\t}\r\n\r\n\t\tif (!args.vid) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t_.resize(Pop, Img);\r\n\t\t\t}, 721);\r\n\t\t}\r\n\r\n\t\t_.closeCallback = function() {\r\n\t\t\tImg.css('visibility', 'hidden').attr('src', '');\r\n\t\t\tIframe.css('visibility', 'hidden').attr('src', '');\r\n\t\t\tBtnPlay.css('visibility', 'hidden');\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tnext: function(dir) {\r\n\t\tvar _ = this,\r\n\t\t$next,\r\n\t\tind = _.ind;\r\n\r\n\t\tif (dir == 'next') {\r\n\t\t\tind++;\r\n\t\t\tif ($('[data-group=\"'+ _.group +'\"]').eq(ind).length) {\r\n\t\t\t\t$next = $('[data-group=\"'+ _.group +'\"]').eq(ind);\r\n\t\t\t}\r\n\t\t} else if (dir == 'prev' && ind > 0) {\r\n\t\t\tind--;\r\n\t\t\tif ($('[data-group=\"'+ _.group +'\"]').eq(ind).length) {\r\n\t\t\t\t$next = $('[data-group=\"'+ _.group +'\"]').eq(ind);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ($next) {\r\n\t\t\tvar args;\r\n\r\n\t\t\tif ($next.hasClass('js-open-popup-image')) {\r\n\t\t\t\targs = {\r\n\t\t\t\t\timg: $next.attr('href'),\r\n\t\t\t\t\timgSize: $next.attr('data-image-size'),\r\n\t\t\t\t\tgroup: $next.attr('data-group'),\r\n\t\t\t\t\tdata: $next.attr('data-data')\r\n\t\t\t\t};\r\n\t\t\t} else if ($next.hasClass('js-open-popup-video')) {\r\n\t\t\t\targs = {\r\n\t\t\t\t\tvid: $next.attr('href'),\r\n\t\t\t\t\timg: $next.attr('data-preview'),\r\n\t\t\t\t\timgSize: $next.attr('data-preview-size'),\r\n\t\t\t\t\tgroup: $next.attr('data-group'),\r\n\t\t\t\t\tdata: $next.attr('data-data')\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t_.media($next, args);\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n};*/\r\n\r\n\r\n/*$(document).ready(function() {\r\n\t$('body').on('click', '.js-open-popup', function () {\r\n\t\tPopup.show($(this).attr('data-popup'));\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-popup-image', function () {\r\n\t\tvar args = {\r\n\t\t\timg: $(this).attr('href'),\r\n\t\t\timgSize: $(this).attr('data-image-size'),\r\n\t\t\tgroup: $(this).attr('data-group'),\r\n\t\t\tdata: $(this).attr('data-data')\r\n\t\t};\r\n\t\tPopup.media(this, args, true);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-popup-video', function () {\r\n\t\tvar args = {\r\n\t\t\tvid: $(this).attr('href'),\r\n\t\t\timg: $(this).attr('data-preview'),\r\n\t\t\timgSize: $(this).attr('data-preview-size'),\r\n\t\t\tgroup: $(this).attr('data-group'),\r\n\t\t\tdata: $(this).attr('data-data')\r\n\t\t};\r\n\t\tPopup.media(this, args, true);\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup-media__play', function () {\r\n\t\tPopup.play();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup-media__arr', function () {\r\n\t\tPopup.next($(this).attr('data-dir'));\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.js-open-msg-popup', function () {\r\n\t\tPopup.message('#message-popup', 'Это всплывашка с сообщением.<br> вызов: <span class=\"c-red\">Popup.message(\"#id\", \"Текст или html\");</span>', function() { alert('После закрытия'); });\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup__close', function () {\r\n\t\tPopup.hide();\r\n\t\treturn false;\r\n\t});\r\n\r\n\t$('body').on('click', '.popup', function(e) {\r\n\t\tif (!$(e.target).closest('.popup__window').length) {\r\n\t\t\tPopup.hide();\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tif (window.location.hash) {\r\n\t\tvar hash = window.location.hash;\r\n\t\tif($(hash).length && $(hash).hasClass('popup__window')){\r\n\t\t\tPopup.show(hash);\r\n\t\t}\r\n\t}\r\n\r\n});*/","var Form, NextFieldset;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//next fieldset\r\n\tNextFieldset = {\r\n\r\n\t\tnext: function(elem) {\r\n\t\t\tvar nextFieldset = (elem.hasAttribute('data-next-fieldset-item')) ? document.querySelector(elem.getAttribute('data-next-fieldset-item')) : false;\r\n\r\n\t\t\tif (!nextFieldset) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar currentFieldset = elem.closest('.fieldset__item');\r\n\r\n\t\t\tif (ValidateForm.validate(currentFieldset)) {\r\n\t\t\t\tcurrentFieldset.classList.add('fieldset__item_hidden');\r\n\t\t\t\tnextFieldset.classList.remove('fieldset__item_hidden');\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function(form, elemStr) {\r\n\t\t\tif (form) {\r\n\t\t\t\tform.addEventListener('click', (e) => {\r\n\t\t\t\t\tvar elem = e.target.closest(elemStr);\r\n\r\n\t\t\t\t\tif (elem) {\r\n\t\t\t\t\t\tthis.next(elem);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t//init forms\r\n\tForm = function(formSelector) {\r\n\t\tthis.onSubmit = null;\r\n\r\n\t\tvar form = document.querySelector(formSelector);\r\n\r\n\t\tif (!form) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.form = form;\r\n\r\n\t\t//clear form\r\n\t\tfunction clear() {\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\telem.value = '';\r\n\t\t\t\tCustomPlaceholder.hidePlaceholder(elem, false);\r\n\t\t\t}\r\n\r\n\t\t\tvar textareaMirrors = form.querySelectorAll('.form__textarea-mirror');\r\n\r\n\t\t\tfor (var i = 0; i < textareaMirrors.length; i++) {\r\n\t\t\t\ttextareaMirrors[i].innerHTML = '';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//submit button\r\n\t\tfunction actSubmitBtn(st) {\r\n\t\t\tvar elements = form.querySelectorAll('button[type=\"submit\"], input[type=\"submit\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\tif (st) {\r\n\t\t\t\t\t\telem.removeAttribute('disabled');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\telem.setAttribute('disabled', 'disable');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//submit\r\n\t\tform.addEventListener('submit', (e) => {\r\n\t\t\tif (!this.onSubmit) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\t//call external method onSubmit\r\n\t\t\tvar sending = this.onSubmit(form, function(obj) {\r\n\t\t\t\tobj = obj || {};\r\n\r\n\t\t\t\tactSubmitBtn(obj.unlockSubmitButton);\r\n\r\n\t\t\t\tform.classList.remove('form_sending');\r\n\r\n\t\t\t\tif (obj.clearForm == true) {\r\n\t\t\t\t\tclear();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif (sending) {\r\n\t\t\t\tactSubmitBtn(false);\r\n\r\n\t\t\t\tform.classList.add('form_sending');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\r\n}());","var CustomPlaceholder, CustomSelect;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\t//bind labels\r\n\tfunction BindLabels(elementsStr) {\r\n\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\tvar elem = elements[i],\r\n\t\t\tlabel = elem.parentElement.querySelector('label'),\r\n\t\t\tforID = (elem.hasAttribute('id')) ? elem.id : 'keylabel-'+ i;\r\n\r\n\t\t\tif (!label.hasAttribute('for')) {\r\n\t\t\t\tlabel.htmlFor = forID;\r\n\t\t\t\telem.id = forID;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//show element on checkbox change\r\n\tvar ChangeCheckbox = {\r\n\r\n\t\tchange: function(elem) {\r\n\r\n\t\t\tvar targetElements = (elem.hasAttribute('data-target-elements')) ? document.querySelectorAll(elem.getAttribute('data-target-elements')) : {};\r\n\r\n\t\t\tif (!targetElements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < targetElements.length; i++) {\r\n\t\t\t\ttargetElements[i].style.display = (elem.checked) ? 'block' : 'none';\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.change(elem);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//show element on radio button change\r\n\tvar ChangeRadio = {\r\n\r\n\t\tchange: function(checkedElem) {\r\n\r\n\t\t\tvar elements = document.querySelectorAll('input[type=\"radio\"][name=\"'+ checkedElem.name +'\"]');\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\ttargetElements = (elem.hasAttribute('data-target-elements')) ? document.querySelectorAll(elem.getAttribute('data-target-elements')) : {};\r\n\r\n\t\t\t\tif (!targetElements.length) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var j = 0; j < targetElements.length; j++) {\r\n\t\t\t\t\ttargetElements[j].style.display = (elem.checked) ? 'block' : 'none';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"radio\"]');\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.change(elem);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//form custom placeholder\r\n\tCustomPlaceholder = {\r\n\r\n\t\tinit: function(elementsStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementsStr);\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.placeholder) {\r\n\r\n\t\t\t\t\tvar elemFor = (elem.id) ? elem.id : 'placeholder-index-'+ i,\r\n\t\t\t\t\tlabel = document.createElement('label');\r\n\r\n\t\t\t\t\tlabel.htmlFor = elemFor;\r\n\t\t\t\t\tlabel.className = 'custom-placeholder';\r\n\t\t\t\t\tlabel.innerHTML = elem.placeholder;\r\n\r\n\t\t\t\t\telem.parentElement.insertBefore(label, elem);\r\n\r\n\t\t\t\t\telem.removeAttribute('placeholder');\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!elem.id) {\r\n\t\t\t\t\t\telem.id = elemFor;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\t\t\t\t\tthis.hidePlaceholder(elem, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//events\r\n\t\t\tdocument.addEventListener('focus', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hidePlaceholder(elem, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t}, true);\r\n\r\n\r\n\t\t\tdocument.addEventListener('blur', (e) => {\r\n\r\n\t\t\t\tvar elem = e.target.closest(elementsStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.hidePlaceholder(elem, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}, true);\r\n\r\n\t\t},\r\n\t\t\r\n\t\thidePlaceholder: function(elem, hide) {\r\n\r\n\t\t\tvar label = document.querySelector('label[for=\"'+ elem.id +'\"]');\r\n\r\n\t\t\tif (!label) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar lSt = label.style;\r\n\r\n\t\t\tif (hide) {\r\n\r\n\t\t\t\tlSt.textIndent = '-9999px';\r\n\t\t\t\tlSt.paddingLeft = '0px';\r\n\t\t\t\tlSt.paddingRight = '0px';\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (!elem.value.length) {\r\n\t\t\t\t\tlSt.textIndent = '';\r\n\t\t\t\t\tlSt.paddingLeft = '';\r\n\t\t\t\t\tlSt.paddingRight = '';\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//Form CustomSelect\r\n\tCustomSelect = {\r\n\t\tfield: null,\r\n\r\n\t\tclose: function() {\r\n\t\t\tvar fieldElements = document.querySelectorAll('.custom-select');\r\n\r\n\t\t\tfor (var i = 0; i < fieldElements.length; i++) {\r\n\t\t\t\tfieldElements[i].classList.remove('custom-select_opened');\r\n\t\t\t}\r\n\r\n\t\t\tvar listItemElements = document.querySelectorAll('.custom-select__options li');\r\n\r\n\t\t\tfor (var i = 0; i < listItemElements.length; i++) {\r\n\t\t\t\tlistItemElements[i].classList.remove('hover');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\topen: function() {\r\n\t\t\tthis.field.classList.add('custom-select_opened');\r\n\r\n\t\t\tthis.field.querySelector('.custom-select__options').scrollTop = 0;\r\n\t\t},\r\n\r\n\t\tselectMultipleVal: function(elem, button, input) {\r\n\t\t\tvar toButtonValue = [],\r\n\t\t\ttoInputValue = [],\r\n\t\t\tinputsBlock = this.field.querySelector('.custom-select__multiple-inputs');\r\n\r\n\t\t\telem.classList.toggle('custom-select__val_checked');\r\n\r\n\t\t\tvar checkedElements = this.field.querySelectorAll('.custom-select__val_checked');\r\n\r\n\t\t\tfor (var i = 0; i < checkedElements.length; i++) {\r\n\t\t\t\tvar elem = checkedElements[i];\r\n\r\n\t\t\t\ttoButtonValue[i] = elem.innerHTML;\r\n\t\t\t\ttoInputValue[i] = (elem.hasAttribute('data-value')) ? elem.getAttribute('data-value') : elem.innerHTML;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tif (toButtonValue.length) {\r\n\t\t\t\tbutton.innerHTML = toButtonValue.join(', ');\r\n\r\n\t\t\t\tinput.value = toInputValue[0];\r\n\r\n\t\t\t\tinputsBlock.innerHTML = '';\r\n\r\n\t\t\t\tif (toInputValue.length > 1) {\r\n\r\n\t\t\t\t\tfor (var i = 1; i < toInputValue.length; i++) {\r\n\t\t\t\t\t\tvar yetInput = document.createElement('input');\r\n\r\n\t\t\t\t\t\tyetInput.type = 'hidden';\r\n\t\t\t\t\t\tyetInput.name = input.name;\r\n\t\t\t\t\t\tyetInput.value = toInputValue[i];\r\n\r\n\t\t\t\t\t\tinputsBlock.appendChild(yetInput);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tbutton.innerHTML = button.getAttribute('data-placeholder');\r\n\t\t\t\tinput.value = '';\r\n\t\t\t\tthis.close();\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\ttargetAction: function() {\r\n\t\t\tvar elements = this.field.querySelectorAll('.custom-select__val');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (!elem.hasAttribute('data-target-elements')) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar targetElem = document.querySelector(elem.getAttribute('data-target-elements'));\r\n\t\t\t\ttargetElem.style.display = (elem.classList.contains('custom-select__val_checked')) ? 'block' : 'none';\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tselectVal: function(elem) {\r\n\t\t\tvar button = this.field.querySelector('.custom-select__button'),\r\n\t\t\tinput = this.field.querySelector('.custom-select__input');\r\n\r\n\t\t\tif (this.field.classList.contains('custom-select_multiple')) {\r\n\t\t\t\t\r\n\t\t\t\tthis.selectMultipleVal(elem, button, input);\r\n\r\n\t\t\t} else {\r\n\t\t\t\tvar toButtonValue = elem.innerHTML,\r\n\t\t\t\ttoInputValue = (elem.hasAttribute('data-value')) ? elem.getAttribute('data-value') : elem.innerHTML;\r\n\r\n\t\t\t\tvar lalueElements = this.field.querySelectorAll('.custom-select__val');\r\n\r\n\t\t\t\tfor (var i = 0; i < lalueElements.length; i++) {\r\n\t\t\t\t\tlalueElements[i].classList.remove('custom-select__val_checked');\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.classList.add('custom-select__val_checked');\r\n\r\n\t\t\t\tif (button) {\r\n\t\t\t\t\tbutton.innerHTML = toButtonValue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinput.value = toInputValue;\r\n\t\t\t\t\r\n\t\t\t\tthis.close();\r\n\r\n\t\t\t\tCustomPlaceholder.hidePlaceholder(input, true);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.targetAction();\r\n\r\n\t\t\tif (input.classList.contains('var-height-textarea__textarea')) {\r\n\t\t\t\tvarHeightTextarea.setHeight(input);\r\n\t\t\t}\r\n\r\n\t\t\tthis.field.classList.add('custom-select_changed');\r\n\r\n\t\t\tValidateForm.select(input);\r\n\r\n\t\t},\r\n\r\n\t\tautocomplete: function(elem) {\r\n\t\t\tvar match = false,\r\n\t\t\treg = new RegExp(elem.value, 'gi'),\r\n\t\t\tvalueElements = this.field.querySelectorAll('.custom-select__val');\r\n\r\n\t\t\tif (elem.value.length) {\r\n\t\t\t\tfor (var i = 0; i < valueElements.length; i++) {\r\n\t\t\t\t\tvar valueElem = valueElements[i];\r\n\r\n\t\t\t\t\tvalueElem.classList.remove('custom-select__val_checked');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif (valueElem.innerHTML.match(reg)) {\r\n\t\t\t\t\t\tvalueElem.parentElement.classList.remove('hidden');\r\n\r\n\t\t\t\t\t\tmatch = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvalueElem.parentElement.classList.add('hidden');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!match) {\r\n\t\t\t\tfor (var i = 0; i < valueElements.length; i++) {\r\n\t\t\t\t\tvalueElements[i].parentElement.classList.remove('hidden');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsetOptions: function(fieldStr, optObj, val, name) {\r\n\t\t\tvar fields = document.querySelectorAll(fieldStr);\r\n\r\n\t\t\tfor (var i = 0; i < fields.length; i++) {\r\n\t\t\t\tvar options = fields[i].querySelector('.custom-select__options');\r\n\r\n\t\t\t\tfor (var i = 0; i < optObj.length; i++) {\r\n\t\t\t\t\tvar li = document.createElement('li');\r\n\r\n\t\t\t\t\tli.innerHTML = '<button type=\"button\" class=\"custom-select__val\" data-value=\"'+ optObj[i][val] +'\">'+ optObj[i][name] +'</button>';\r\n\r\n\t\t\t\t\toptions.appendChild(li);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tkeyboard: function(key) {\r\n\t\t\tvar options = this.field.querySelector('.custom-select__options'),\r\n\t\t\thoverItem = options.querySelector('li.hover');\r\n\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 40:\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = function(item) {\r\n\t\t\t\t\t\tvar elem = item.nextElementSibling;\r\n\r\n\t\t\t\t\t\twhile (elem) {\r\n\t\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem = elem.nextElementSibling;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}(hoverItem);\r\n\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\r\n\t\t\t\t\t\toptions.scrollTop = options.scrollTop + (nextItem.getBoundingClientRect().top - options.getBoundingClientRect().top);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar elem = options.firstElementChild;\r\n\r\n\t\t\t\t\twhile (elem) {\r\n\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\telem.classList.add('hover');\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem = elem.nextElementSibling;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 38:\r\n\t\t\t\tif (hoverItem) {\r\n\t\t\t\t\tvar nextItem = function(item) {\r\n\t\t\t\t\t\tvar elem = item.previousElementSibling;\r\n\r\n\t\t\t\t\t\twhile (elem) {\r\n\t\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\t\treturn elem;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem = elem.previousElementSibling;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}(hoverItem);\r\n\r\n\t\t\t\t\tif (nextItem) {\r\n\t\t\t\t\t\thoverItem.classList.remove('hover');\r\n\t\t\t\t\t\tnextItem.classList.add('hover');\r\n\r\n\t\t\t\t\t\toptions.scrollTop = options.scrollTop + (nextItem.getBoundingClientRect().top - options.getBoundingClientRect().top);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar elem = options.lastElementChild;\r\n\r\n\t\t\t\t\twhile (elem) {\r\n\t\t\t\t\t\tif (!elem) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!elem.elementIsHidden()) {\r\n\t\t\t\t\t\t\telem.classList.add('hover');\r\n\t\t\t\t\t\t\toptions.scrollTop = 9999;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem = elem.previousElementSibling;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 13:\r\n\t\t\t\tthis.selectVal(hoverItem.querySelector('.custom-select__val'));\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbuild: function(elementStr) {\r\n\t\t\tvar elements = document.querySelectorAll(elementStr);\r\n\r\n\t\t\tif (!elements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i],\r\n\t\t\t\toptions = elem.querySelectorAll('option'),\r\n\t\t\t\tparent = elem.parentElement,\r\n\t\t\t\toptionsList = '',\r\n\t\t\t\tselectedOption = null;\r\n\t\t\t\t\r\n\t\t\t\t//option list\r\n\t\t\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\t\t\tvar opt = options[i];\r\n\r\n\t\t\t\t\tif (opt.hasAttribute('selected')) {\r\n\t\t\t\t\t\tselectedOption = opt;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toptionsList += '<li><button type=\"button\" class=\"custom-select__val'+ ((opt.hasAttribute('selected')) ? ' custom-select__val_checked' : '') +'\"'+ ( (opt.hasAttribute('value')) ? ' data-value=\"'+ opt.value +'\"' : '' ) + ( (opt.hasAttribute('data-target-elements')) ? ' data-target-elements=\"'+ opt.getAttribute('data-target-elements') +'\"' : '' ) +'>'+ opt.innerHTML +'</button></li>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar require = (elem.hasAttribute('data-required')) ? ' data-required=\"'+ elem.getAttribute('data-required') +'\" ' : '',\r\n\t\t\t\thead = (elem.getAttribute('data-type') == 'autocomplete') ? '<input type=\"text\" name=\"'+ elem.name +'\"'+ require +'placeholder=\"'+ elem.getAttribute('data-placeholder') +'\" class=\"custom-select__input custom-select__autocomplete form__text-input\" value=\"'+ ((selectedOption) ? selectedOption.innerHTML : '') +'\">' : '<button type=\"button\" data-placeholder=\"'+ elem.getAttribute('data-placeholder') +'\" class=\"custom-select__button\">'+ ((selectedOption) ? selectedOption.innerHTML : elem.getAttribute('data-placeholder')) +'</button>',\r\n\t\t\t\tmultiple = {\r\n\t\t\t\t\tclass: (elem.multiple) ? ' custom-select_multiple' : '',\r\n\t\t\t\t\tinpDiv: (elem.multiple) ? '<div class=\"custom-select__multiple-inputs\"></div>' : ''\r\n\t\t\t\t},\r\n\t\t\t\thiddenInp = (elem.getAttribute('data-type') != 'autocomplete') ? '<input type=\"hidden\" name=\"'+ elem.name +'\"'+ require +'class=\"custom-select__input\" value=\"'+ ((selectedOption) ? selectedOption.value : '') +'\">' : '';\r\n\r\n\t\t\t\t//output select\r\n\t\t\t\tvar customElem = document.createElement('div');\r\n\t\t\t\tcustomElem.className = 'custom-select'+ multiple.class + ((selectedOption) ? ' custom-select_changed' : '');\r\n\t\t\t\tcustomElem.innerHTML = head +'<ul class=\"custom-select__options\">'+ optionsList +'</ul>'+ hiddenInp + multiple.inpDiv;\r\n\t\t\t\tparent.insertBefore(customElem, parent.firstChild);\r\n\t\t\t\tparent.removeChild(parent.children[1]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tthis.build(elementStr);\r\n\r\n\t\t\t//click on select button event\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__button');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tif (this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.close();\r\n\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//click on value button event\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__val');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tthis.selectVal(elem);\r\n\t\t\t});\r\n\r\n\t\t\t//focus autocomplete\r\n\t\t\tdocument.addEventListener('focus', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__autocomplete');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tthis.close();\r\n\r\n\t\t\t\tthis.open();\r\n\t\t\t}, true);\r\n\r\n\t\t\t//input autocomplete\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select__autocomplete');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tthis.autocomplete(elem);\r\n\r\n\t\t\t\tif (!this.field.classList.contains('custom-select_opened')) {\r\n\t\t\t\t\tthis.open();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//keyboard events\r\n\t\t\tdocument.addEventListener('keydown', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.custom-select_opened');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.field = elem.closest('.custom-select');\r\n\r\n\t\t\t\tvar key = e.which || e.keyCode || 0;\r\n\r\n\t\t\t\tif (key == 40 || key == 38 || key == 13) {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tthis.keyboard(key);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//close all\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tif (!e.target.closest('.custom-select_opened')) {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t//custom file\r\n\tvar CustomFile = {\r\n\r\n\t\tfield: null,\r\n\r\n\t\tloadPreview: function(file, i) {\r\n\t\t\tvar imgPreviewBlock = this.field.querySelectorAll('.custom-file__preview')[i];\r\n\r\n\t\t\tif (file.type.match('image')) {\r\n\t\t\t\tvar reader = new FileReader();\r\n\r\n\t\t\t\treader.onload = function(e) {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tvar img = document.createElement('img');\r\n\t\t\t\t\t\timg.src = e.target.result;\r\n\t\t\t\t\t\timgPreviewBlock.appendChild(img);\r\n\t\t\t\t\t}, 121);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treader.readAsDataURL(file);\r\n\t\t\t} else {\r\n\t\t\t\timgPreviewBlock.innerHTML = '<img src=\"images/preview.svg\">';\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\tchangeInput: function(elem) {\r\n\t\t\tvar maxFiles = +elem.getAttribute('data-max-files');\r\n\r\n\t\t\tif (maxFiles && elem.files.length > maxFiles) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.field = elem.closest('.custom-file');\r\n\r\n\t\t\tvar fileItems = this.field.querySelector('.custom-file__items');\r\n\r\n\t\t\tfileItems.innerHTML = '';\r\n\r\n\t\t\tfor (var i = 0; i < elem.files.length; i++) {\r\n\t\t\t\tvar file = elem.files[i],\r\n\t\t\t\tfileItem = document.createElement('div');\r\n\r\n\t\t\t\tfileItem.className = 'custom-file__item';\r\n\t\t\t\tfileItem.innerHTML = '<div class=\"custom-file__preview\"></div><div class=\"custom-file__name\">'+ file.name +'</div>';\r\n\r\n\t\t\t\tfileItems.appendChild(fileItem);\r\n\r\n\t\t\t\tthis.loadPreview(file, i);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"file\"]');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.changeInput(elem);\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//variable height textarea\r\n\tvar varHeightTextarea = {\r\n\r\n\t\tsetHeight: function(elem) {\r\n\t\t\tvar mirror = elem.parentElement.querySelector('.var-height-textarea__mirror'),\r\n\t\t\tmirrorOutput = elem.value.replace(/\\n/g, '<br>');\r\n\r\n\t\t\tmirror.innerHTML = mirrorOutput +'&nbsp;';\r\n\t\t},\r\n\r\n\t\tinit: function() {\r\n\r\n\t\t\tdocument.addEventListener('input', (e) => {\r\n\t\t\t\tvar elem = e.target.closest('.var-height-textarea__textarea');\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setHeight(elem);\r\n\r\n\t\t\t});\r\n\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t//init scripts\r\n\tdocument.addEventListener(\"DOMContentLoaded\", function() {\r\n\t\tCustomSelect.init('select');\r\n\t\tCustomFile.init();\r\n\t\tvarHeightTextarea.init();\r\n\t\tCustomPlaceholder.init('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\t\tBindLabels('input[type=\"checkbox\"], input[type=\"radio\"]');\r\n\t\tChangeCheckbox.init();\r\n\t\tChangeRadio.init();\r\n\t});\r\n\r\n}());","var ValidateForm;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tValidateForm = {\r\n\r\n\t\tinput: null,\r\n\r\n\t\terrorTip: function(err, errInd, errorTxt) {\r\n\t\t\tvar field = this.input.parentElement,\r\n\t\t\terrTip = field.querySelector('.field-error-tip') || field.parentElement.querySelector('.field-error-tip');\r\n\t\t\tif (err) {\r\n\t\t\t\tfield.classList.remove('field-success');\r\n\t\t\t\tfield.classList.add('field-error');\r\n\r\n\t\t\t\tif (errInd) {\r\n\t\t\t\t\tif (!errTip.hasAttribute('data-error-text')) {\r\n\t\t\t\t\t\terrTip.setAttribute('data-error-text', errTip.innerHTML);\r\n\t\t\t\t\t}\r\n\t\t\t\t\terrTip.innerHTML = (errInd != 'custom') ? errTip.getAttribute('data-error-text-'+ errInd) : errorTxt;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfield.classList.remove('field-error');\r\n\t\t\t\tfield.classList.add('field-success');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcustomErrorTip: function(input, errorTxt) {\r\n\t\t\tif (!input) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.input = input;\r\n\r\n\t\t\tthis.errorTip(true, 'custom', errorTxt);\r\n\t\t},\r\n\r\n\t\tname: function() {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^[a-zа-яё]{3,21}(\\s[a-zа-яё]{3,21})?(\\s[a-zа-яё]{3,21})?$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tdate: function() {\r\n\t\t\tvar err = false, \r\n\t\t\terrDate = false, \r\n\t\t\tmatches = this.input.value.match(/^(\\d{2}).(\\d{2}).(\\d{4})$/);\r\n\r\n\t\t\tif (!matches) {\r\n\t\t\t\terrDate = 1;\r\n\t\t\t} else {\r\n\t\t\t\tvar compDate = new Date(matches[3], (matches[2] - 1), matches[1]),\r\n\t\t\t\tcurDate = new Date();\r\n\r\n\t\t\t\tif (this.input.hasAttribute('data-min-years-passed')) {\r\n\t\t\t\t\tvar interval = curDate.valueOf() - new Date(curDate.getFullYear() - (+this.input.getAttribute('data-min-years-passed')), curDate.getMonth(), curDate.getDate()).valueOf();\r\n\r\n\t\t\t\t\tif (curDate.valueOf() < compDate.valueOf() || (curDate.getFullYear() - matches[3]) > 100) {\r\n\t\t\t\t\t\terrDate = 1;\r\n\t\t\t\t\t} else if ((curDate.valueOf() - compDate.valueOf()) < interval) {\r\n\t\t\t\t\t\terrDate = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (compDate.getFullYear() != matches[3] || compDate.getMonth() != (matches[2] - 1) || compDate.getDate() != matches[1]) {\r\n\t\t\t\t\terrDate = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (errDate == 1) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errDate == 2) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\temail: function() {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^[a-z0-9]+[\\w\\-\\.]*@[\\w\\-]{2,}\\.[a-z]{2,6}$/i.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\ttel: function() {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tif (!/^\\+7\\([0-9]{3}\\)[0-9]{3}-[0-9]{2}-[0-9]{2}$/.test(this.input.value)) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tpass: function() {\r\n\t\t\tvar err = false,\r\n\t\t\tminLng = this.input.getAttribute('data-min-length');\r\n\r\n\t\t\tif (minLng && this.input.value.length < minLng) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tselect: function(elem) {\r\n\t\t\tvar err = false;\r\n\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tif (elem.getAttribute('data-required') && !elem.value.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tfile: function(e) {\r\n\r\n\t\t\tif (e) {\r\n\t\t\t\tvar elem = e.target.closest('input[type=\"file\"]');\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.input = elem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar err = false,\r\n\t\t\terrCount = {type: 0, size: 0},\r\n\t\t\tfiles = this.input.files,\r\n\t\t\tmaxFiles = +this.input.getAttribute('data-max-files'),\r\n\t\t\ttype = this.input.getAttribute('data-type'),\r\n\t\t\tmaxSize = +this.input.getAttribute('data-max-size');\r\n\r\n\t\t\tfor (var i = 0; i < files.length; i++) {\r\n\t\t\t\tvar file = files[i];\r\n\r\n\t\t\t\tif (!file.type.match(type)) {\r\n\t\t\t\t\terrCount.type++;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (file.size > maxSize) {\r\n\t\t\t\t\terrCount.size++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (maxFiles && files.length > maxFiles) {\r\n\t\t\t\tthis.errorTip(true, 4);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.type) {\r\n\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\terr = true;\r\n\t\t\t} else if (errCount.size) {\r\n\t\t\t\tthis.errorTip(true, 3);\r\n\t\t\t\terr = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\r\n\t\t\treturn err;\r\n\t\t},\r\n\r\n\t\tvalidateOnInputOrBlur: function(e) {\r\n\r\n\t\t\tvar elem = e.target.closest('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tif (!elem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.input = elem;\r\n\r\n\t\t\tif (e.type == 'blur') {\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\t\t\t} else if (e.type == 'input' && !elem.getAttribute('data-tested')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar type = elem.getAttribute('data-type'),\r\n\t\t\tval = elem.value;\r\n\r\n\t\t\tif (elem.getAttribute('data-required') && !val.length) {\r\n\t\t\t\tthis.errorTip(true);\r\n\t\t\t} else if (val.length && type) {\r\n\t\t\t\tthis[type]();\r\n\t\t\t} else {\r\n\t\t\t\tthis.errorTip(false);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tvalidate: function(form) {\r\n\t\t\tvar err = 0;\r\n\r\n\t\t\t//text, password, textarea\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"text\"], input[type=\"password\"], textarea');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\telem.setAttribute('data-tested', 'true');\r\n\r\n\t\t\t\tvar inpType = elem.getAttribute('data-type');\r\n\r\n\t\t\t\tif (elem.value.length) {\r\n\t\t\t\t\tif (inpType && this[inpType]()) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (elem.getAttribute('data-required')) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//select\r\n\t\t\tvar elements = form.querySelectorAll('.custom-select__input');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.parentElement.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.select(elem)) {\r\n\t\t\t\t\terr++;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//checkboxes\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"checkbox\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tif (elem.getAttribute('data-required') && !elem.checked) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//checkbox group\r\n\t\t\tvar groups = form.querySelectorAll('.form__chbox-group');\r\n\r\n\t\t\tfor (var i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElements = 0;\r\n\r\n\t\t\t\tif (group.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"checkbox\"]');\r\n\r\n\t\t\t\tfor (var j = 0; j < elements.length; j++) {\r\n\t\t\t\t\tif (elements[j].checked) {\r\n\t\t\t\t\t\tcheckedElements++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (checkedElements < group.getAttribute('data-min')) {\r\n\t\t\t\t\tgroup.classList.add('form__chbox-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__chbox-group_error');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//radio group\r\n\t\t\tvar groups = form.querySelectorAll('.form__radio-group');\r\n\r\n\t\t\tfor (var i = 0; i < groups.length; i++) {\r\n\t\t\t\tvar group = groups[i],\r\n\t\t\t\tcheckedElement = false;\r\n\r\n\t\t\t\tif (group.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar elements = group.querySelectorAll('input[type=\"radio\"]');\r\n\r\n\t\t\t\tfor (var j = 0; j < elements.length; j++) {\r\n\t\t\t\t\tif (elements[j].checked) {\r\n\t\t\t\t\t\tcheckedElement = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!checkedElement) {\r\n\t\t\t\t\tgroup.classList.add('form__radio-group_error');\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroup.classList.remove('form__radio-group_error');\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//file\r\n\t\t\tvar elements = form.querySelectorAll('input[type=\"file\"]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tif (elem.files.length) {\r\n\t\t\t\t\tif (this.file()) {\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (elem.getAttribute('data-required')) {\r\n\t\t\t\t\tthis.errorTip(true);\r\n\t\t\t\t\terr++;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\t//passwords compare\r\n\t\t\tvar elements = form.querySelectorAll('input[data-pass-compare-input]');\r\n\r\n\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\r\n\t\t\t\tvar elem = elements[i];\r\n\r\n\t\t\t\tif (elem.elementIsHidden()) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.input = elem;\r\n\r\n\t\t\t\tvar val = elem.value;\r\n\r\n\t\t\t\tif (val.length) {\r\n\t\t\t\t\tvar compElemVal = form.querySelector(elem.getAttribute('data-pass-compare-input')).value;\r\n\r\n\t\t\t\t\tif (val !== compElemVal) {\r\n\t\t\t\t\t\tthis.errorTip(true, 2);\r\n\t\t\t\t\t\terr++;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.errorTip(false);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn (err) ? false : true;\r\n\t\t},\r\n\r\n\t\tsubmit: function(form) {\r\n\t\t\treturn this.validate(form);\r\n\t\t},\r\n\r\n\t\tinit: function(form) {\r\n\t\t\tif (!form) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tform.addEventListener('input', this.validateOnInputOrBlur.bind(this));\r\n\r\n\t\t\tform.addEventListener('blur', this.validateOnInputOrBlur.bind(this), true);\r\n\r\n\t\t\tform.addEventListener('change', this.file.bind(this));\r\n\r\n\t\t\tform.addEventListener('submit', (e) => {\r\n\t\t\t\tif (this.validate(form)) {\r\n\t\t\t\t\tform.classList.remove('form-error');\r\n\t\t\t\t} else {\r\n\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\tform.classList.add('form-error');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t};\r\n\r\n}());","/*\r\n* call Accord.init(Str button selector);\r\n*/\r\nvar Accord;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tAccord = {\r\n\t\ttoggle: function(elem) {\r\n\t\t\tvar contentElem = elem.nextElementSibling;\r\n\r\n\t\t\tif (elem.classList.contains('accord__button_active')) {\r\n\t\t\t\tcontentElem.style.height = 0;\r\n\r\n\t\t\t\telem.classList.remove('accord__button_active');\r\n\t\t\t} else {\r\n\t\t\t\tvar mainElem = elem.closest('.accord'),\r\n\t\t\t\tallButtonElem = mainElem.querySelectorAll('.accord__button'),\r\n\t\t\t\tallContentElem = mainElem.querySelectorAll('.accord__content');\r\n\r\n\t\t\t\tfor (var i = 0; i < allButtonElem.length; i++) {\r\n\t\t\t\t\tallButtonElem[i].classList.remove('accord__button_active');\r\n\t\t\t\t\tallContentElem[i].style.height = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcontentElem.style.height = contentElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('accord__button_active');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.toggle(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","/*\r\ncall to init:\r\nMore.init(Str button selector);\r\n*/\r\nvar More;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tMore = {\r\n\t\ttoggle: function(elem) {\r\n\t\t\tvar contentElem = elem.previousElementSibling;\r\n\r\n\t\t\tif (elem.classList.contains('active')) {\r\n\t\t\t\tcontentElem.style.height = contentElem.getAttribute('data-height') +'px';\r\n\r\n\t\t\t\telem.classList.remove('active');\r\n\t\t\t} else {\r\n\t\t\t\tcontentElem.setAttribute('data-height', contentElem.offsetHeight);\r\n\r\n\t\t\t\tcontentElem.style.height = contentElem.scrollHeight +'px';\r\n\r\n\t\t\t\telem.classList.add('active');\r\n\t\t\t}\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tvar btnTxt = elem.innerHTML;\r\n\r\n\t\t\t\telem.innerHTML = elem.getAttribute('data-btn-text');\r\n\r\n\t\t\t\telem.setAttribute('data-btn-text', btnTxt);\r\n\t\t\t}, 321);\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.toggle(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","/*\r\ncall to init:\r\nTab.init({\r\n\tcontainer: '.tab',\r\n\tbutton: '.tab__button',\r\n\titem: '.tab__item'\r\n});\r\n*/\r\nvar Tab;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tTab = {\r\n\t\toptions: null,\r\n\r\n\t\tchange: function(btnElem) {\r\n\t\t\tif (btnElem.classList.contains('active')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar contElem = btnElem.closest(this.options.container),\r\n\t\t\tbtnElements = contElem.querySelectorAll(this.options.button),\r\n\t\t\ttabItemElements = contElem.querySelectorAll(this.options.item);\r\n\r\n\t\t\t//remove active state\r\n\t\t\tfor (var i = 0; i < btnElements.length; i++) {\r\n\t\t\t\tbtnElements[i].classList.remove('active');\r\n\r\n\t\t\t\ttabItemElements[i].classList.remove('active');\r\n\t\t\t}\r\n\r\n\t\t\t//get current tab item\r\n\t\t\tvar tabItemElem = contElem.querySelector(this.options.item +'[data-index=\"'+ btnElem.getAttribute('data-index') +'\"]');\r\n\r\n\t\t\t//set active state\r\n\t\t\ttabItemElem.classList.add('active');\r\n\r\n\t\t\tbtnElem.classList.add('active');\r\n\r\n\t\t\t//set height\r\n\t\t\tthis.setHeight(tabItemElem);\r\n\t\t},\r\n\r\n\t\tsetHeight: function(tabItemElem) {\r\n\t\t\ttabItemElem.parentElement.style.height = tabItemElem.offsetHeight +'px';\r\n\t\t},\r\n\r\n\t\treInit: function() {\r\n\t\t\tif (!this.options) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar contElements = document.querySelectorAll(this.options.container);\r\n\t\t\t\r\n\t\t\tfor (var i = 0; i < contElements.length; i++) {\r\n\t\t\t\tthis.setHeight(contElements[i].querySelector(this.options.item +'.active'));\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tinit: function(options) {\r\n\t\t\tthis.options = options;\r\n\r\n\t\t\tvar contElements = document.querySelectorAll(options.container);\r\n\r\n\t\t\tif (!contElements.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//init tabs\r\n\t\t\tfor (let i = 0; i < contElements.length; i++) {\r\n\t\t\t\tvar contElem = contElements[i],\r\n\t\t\t\tbtnElements = contElem.querySelectorAll(options.button),\r\n\t\t\t\ttabItemElements = contElem.querySelectorAll(options.item),\r\n\t\t\t\ttabItemElemActive = contElem.querySelector(this.options.item +'.active');\r\n\r\n\t\t\t\tthis.setHeight(tabItemElemActive);\r\n\r\n\t\t\t\tfor (let i = 0; i < btnElements.length; i++) {\r\n\t\t\t\t\tbtnElements[i].setAttribute('data-index', i);\r\n\r\n\t\t\t\t\ttabItemElements[i].setAttribute('data-index', i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//btn event\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar btnElem = e.target.closest(options.button);\r\n\r\n\t\t\t\tif (!btnElem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.change(btnElem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","/*\r\nAnchor.init(Str anchor selector[, Int duration ms[, Int shift px]]);\r\n*/\r\n\r\nvar Anchor;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tAnchor = {\r\n\t\tduration: 1000,\r\n\t\tshift: 0,\r\n\r\n\t\tscroll: function(anchorId, e) {\r\n\t\t\tvar anchorSectionElem = document.getElementById(anchorId +'-anchor');\r\n\r\n\t\t\tif (!anchorSectionElem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\tvar scrollTo = anchorSectionElem.getBoundingClientRect().top + window.pageYOffset,\r\n\t\t\tscrollTo = scrollTo - this.shift;\r\n\r\n\t\t\tanimate(function(progress) {\r\n\t\t\t\twindow.scrollTo(0, ((scrollTo * progress) + ((1 - progress) * window.pageYOffset)));\r\n\t\t\t}, this.duration, 'easeInOutQuad');\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr, duration, shift) {\r\n\t\t\tif (duration) {\r\n\t\t\t\tthis.duration = duration;\r\n\t\t\t}\r\n\r\n\t\t\tif (shift) {\r\n\t\t\t\tthis.shift = shift;\r\n\t\t\t}\r\n\r\n\t\t\t//click anchor\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (elem) {\r\n\t\t\t\t\tthis.scroll(elem.getAttribute('href').split('#')[1], e);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//hash anchor\r\n\t\t\tif (window.location.hash) {\r\n\t\t\t\twindow.addEventListener('load', () => {\r\n\t\t\t\t\tthis.scroll(window.location.hash.split('#')[1]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}());","/*\r\nvar diagram = new Diagram({\r\n\tcanvasId: Str elem id,\r\n\tcharts: [\r\n\t{\r\n\t\tvalue: Int,\r\n\t\tcolor: Str,\r\n\t\twidth: Int px,\r\n\t\tnumContId: Str elem id\r\n\t}\r\n\t],\r\n\tmaxValue: Int,\r\n\tanimate: true\r\n});\r\n\r\ndiagram.animate(Int duration ms);\r\n*/\r\n\r\n; var Diagram;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tDiagram = function(options) {\r\n\t\tvar canvasElement = document.getElementById(options.canvasId);\r\n\r\n\t\tthis.animate = function(duration) {\r\n\t\t\tif (!canvasElement) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst chartValues = options.charts.map((obj) => obj.value);\r\n\t\t\t\r\n\t\t\tanimate((progress) => {\r\n\t\t\t\tthis.ctx.clearRect(0, 0, (this.center.x * 2), (this.center.y * 2));\r\n\t\t\t\tthis.prevChartsWidth = 0;\r\n\r\n\t\t\t\toptions.charts.forEach((chart, i) => {\r\n\t\t\t\t\tchart.value = chartValues[i] * progress;\r\n\r\n\t\t\t\t\tdrawChart(chart, i);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}, duration, 'easeInOutQuad');\r\n\t\t}\r\n\r\n\t\tif (!canvasElement) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcanvasElement.width = canvasElement.offsetWidth;\r\n\t\tcanvasElement.height = canvasElement.offsetHeight;\r\n\r\n\t\tthis.ctx = canvasElement.getContext('2d');\r\n\t\tthis.canvasWidth = canvasElement.width;\r\n\t\tthis.center = {x: canvasElement.width / 2, y: canvasElement.height / 2};\r\n\t\tthis.prevChartsWidth = 0;\r\n\r\n\t\tconst startAngle = 1.5 * Math.PI;\r\n\r\n\t\tvar drawChart = (chart, i) => {\r\n\t\t\tvar endAngle = 2 * Math.PI * chart.value / options.maxValue + startAngle,\r\n\t\t\tradius = this.canvasWidth / 2 - chart.width / 2 - (chart.offset || 0) - this.prevChartsWidth;\r\n\r\n\t\t\tthis.prevChartsWidth += chart.width + (chart.offset || 0);\r\n\r\n\t\t\tthis.ctx.beginPath();\r\n\t\t\tthis.ctx.arc(this.center.x, this.center.y, radius, startAngle, endAngle);\r\n\t\t\tthis.ctx.lineWidth = chart.width;\r\n\t\t\tthis.ctx.strokeStyle = chart.color;\r\n\t\t\tthis.ctx.stroke();\r\n\r\n\t\t\toutputNum(chart);\r\n\t\t}\r\n\r\n\t\tif (!options.animate) {\r\n\t\t\toptions.charts.forEach((chart, i) => {\r\n\t\t\t\tdrawChart(chart, i);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction outputNum(chart) {\r\n\t\t\tvar numElem = document.getElementById(chart.numContId);\r\n\r\n\t\t\tif (numElem) {\r\n\t\t\t\tnumElem.innerHTML = chart.value.toFixed(0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}());","var Numberspin;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tNumberspin = function(elementsStr) {\r\n\t\tthis.elements = document.querySelectorAll(elementsStr);\r\n\t\tthis.values = [];\r\n\r\n\t\tfor (var i = 0; i < this.elements.length; i++) {\r\n\t\t\tthis.values[i] = +this.elements[i].innerHTML;\r\n\t\t\tthis.elements[i].innerHTML = 0;\r\n\t\t}\r\n\r\n\t\tthis.animate = function(duration) {\r\n\t\t\tanimate((progress) => {\r\n\t\t\t\tfor (var i = 0; i < this.elements.length; i++) {\r\n\t\t\t\t\tthis.elements[i].innerHTML = Math.round(this.values[i] * progress);\r\n\t\t\t\t}\r\n\t\t\t}, duration);\r\n\t\t}\r\n\t}\r\n}());\r\n\r\n\r\n/*\r\nfunction Numberspin(elem, opt) {\r\n\tvar def = {\r\n\t\tanimation: 1\r\n\t},\r\n\topt = opt || {},\r\n\toptions = $.extend({}, def, opt),\r\n\tinterval = null,\r\n\tanimate = false,\r\n\t$Elem = $(elem),\r\n\tcurVal = 0,\r\n\tval = $Elem.html().replace(/[\\s]/g, ''),\r\n\tpattern = val.match(/[\\.,]/),\r\n\tendVal = +val.replace(/[\\D]/g, '');\r\n\r\n\t$Elem.html(0);\r\n\r\n\tthis.start = function() {\r\n\t\t\r\n\t\tif (!animate) {\r\n\t\t\tanimate = true;\r\n\t\t\tspin();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction spin() {\r\n\r\n\t\tinterval = setTimeout(function run() {\r\n\r\n\t\t\t\tif (curVal < endVal) {\r\n\r\n\t\t\t\t\tif (options.animation == 1) {\r\n\r\n\t\t\t\t\t\tvar d = endVal - curVal;\r\n\r\n\t\t\t\t\t\tif (d > 1213214321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 1213214321321;\r\n\t\t\t\t\t\t} else if (d > 3214321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 3214321321;\r\n\t\t\t\t\t\t} else if (d > 4321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 4321321;\r\n\t\t\t\t\t\t} else if (d > 321321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 321321;\r\n\t\t\t\t\t\t} else if (d > 32321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 32321;\r\n\t\t\t\t\t\t} else if (d > 2321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 2321;\r\n\t\t\t\t\t\t} else if (d > 1321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 1321;\r\n\t\t\t\t\t\t} else if (d > 321) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 321;\r\n\t\t\t\t\t\t} else if (d > 21) {\r\n\t\t\t\t\t\t\tcurVal = curVal + 21;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcurVal++;\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t} else if (options.animation == 2) {\r\n\r\n\t\t\t\t\t\tvar endValArr = String(endVal).split(''),\r\n\t\t\t\t\t\tcurValArr = String(curVal).split('');\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < endValArr.length; i++) {\r\n\t\t\t\t\t\t\tif (curValArr[i]) {\r\n\t\t\t\t\t\t\t\tif (curValArr[i] < endValArr[i] && curValArr[i-1] == endValArr[i-1]) {\r\n\t\t\t\t\t\t\t\t\tcurValArr[i]++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (curValArr[i-1] && curValArr[i-1] == endValArr[i-1]) {\r\n\t\t\t\t\t\t\t\tcurValArr[i] = 0;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcurVal = curValArr.join('');\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar output = String(curVal);\r\n\r\n\t\t\t\t\tif (pattern) {\r\n\t\t\t\t\t\toutput = output.replace(new RegExp('(\\\\d{'+ pattern.index +'})'), '$1'+ pattern[0]);\r\n\t\t\t\t\t\toutput = output.replace(new RegExp('(\\\\d)?(?=(\\\\d{3})+?\\\\'+ pattern[0] +')', 'g'), '$1 ');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toutput = output.replace(/(\\d)?(?=(\\d{3})+$)/g, '$1 ');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t$Elem.html(output);\r\n\r\n\t\t\t\t\tsetTimeout(run, 85);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstop();\r\n\t\t\t\t}\r\n\r\n\t\t}, 1);\r\n\r\n\t}\r\n\r\n\tfunction stop() {\r\n\t\tclearTimeout(interval);\r\n\t}\r\n\r\n}\r\n\r\nvar numberspinObj = [], i = 0, ind;\r\nfunction numberspin(elem, opt) {\r\n\tif ($(elem)[0].ind == undefined) {\r\n\t\t$(elem)[0].ind = ind = i;\r\n\t} else {\r\n\t\tind = $(elem)[0].ind;\r\n\t}\r\n\r\n\tif (!(numberspinObj[elem+ind] instanceof Numberspin)) {\r\n\t\tnumberspinObj[elem+ind] = new Numberspin(elem, opt);\r\n\t}\r\n\ti++;\r\n\r\n\treturn numberspinObj[elem+ind];\r\n}\r\n*/","/*\r\nShare.init(Str button class);\r\n*/\r\n\r\n; var Share;\r\n\r\n;(function() {\r\n\t\"use strict\";\r\n\t\r\n\tvar encodedHref = encodeURIComponent(window.location.href);\r\n\r\n\tShare = {\r\n\t\tnetwork: function(elem) {\r\n\t\t\tvar net = elem.getAttribute('data-network');\r\n\r\n\t\t\tif (!net) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar url;\r\n\r\n\t\t\tswitch (net) {\r\n\t\t\t\tcase 'vk':\r\n\t\t\t\turl = 'http://vkontakte.ru/share.php?url='+ encodedHref;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'fb':\r\n\t\t\t\turl = 'http://www.facebook.com/sharer.php?u='+ encodedHref;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'tw':\r\n\t\t\t\turl = 'http://twitter.com/share?url='+ encodedHref;\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'ok':\r\n\t\t\t\turl = 'https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl='+ encodedHref;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tthis.popup(url);\r\n\t\t},\r\n\r\n\t\tpopup: function(url) {\r\n\t\t\twindow.open(url, '', 'toolbar=0,status=0,width=626,height=436');\r\n\t\t},\r\n\r\n\t\tinit: function(elementStr) {\r\n\t\t\tdocument.addEventListener('click', (e) => {\r\n\t\t\t\tvar elem = e.target.closest(elementStr);\r\n\r\n\t\t\t\tif (!elem) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tthis.network(elem);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}());","; var Timer;\r\n\r\n(function() {\r\n\t\"use strict\";\r\n\r\n\tTimer = function(setTime, elemId) {\r\n\t\tvar elem = document.getElementById(elemId);\r\n\r\n\t\tthis.time = setTime;\r\n\t\tthis.interval = null;\r\n\t\tthis.onStop = null;\r\n\r\n\t\tfunction setCookies() {\r\n\t\t\tdocument.cookie = 'lastTimer'+ elemId +'='+ Date.now() +'; expires='+ new Date(Date.now() + 86400000).toUTCString();\r\n\t\t}\r\n\r\n\t\tvar timerCookieValue = (function() {\r\n\t\t\tif (document.cookie) {\r\n\t\t\t\tvar cokArr = document.cookie.replace(/(\\s)+/g, '').split(';');\r\n\r\n\t\t\t\tfor (var i = 0; i < cokArr.length; i++) {\r\n\t\t\t\t\tvar keyVal = cokArr[i].split('=');\r\n\t\t\t\t\tif (keyVal[0] == 'lastTimer'+ elemId) {\r\n\t\t\t\t\t\treturn keyVal[1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}());\r\n\r\n\t\tif (timerCookieValue) {\r\n\t\t\tvar delta = Math.round((Date.now() - timerCookieValue) / 1000);\r\n\t\t\tif (delta < this.time) {\r\n\t\t\t\tthis.time = this.time - delta;\r\n\t\t\t} else {\r\n\t\t\t\tsetCookies();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetCookies();\r\n\t\t}\r\n\r\n\t\tfunction output(time) {\r\n\t\t\tvar min = (time > 60) ? Math.floor(time / 60) : 0,\r\n\t\t\tsec = (time > 60) ? Math.round(time % 60) : time,\r\n\t\t\tminOut  = '',\r\n\t\t\tsecTxt = 'секунд';\r\n\r\n\t\t\tif (min != 0) {\r\n\t\t\t\tif (min == 1) {\r\n\t\t\t\t\tminOut = min +' минуту';\r\n\t\t\t\t} else if (min < 5) {\r\n\t\t\t\t\tminOut = min +' минуты';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (sec == 1 || sec == 21) {\r\n\t\t\t\tsecTxt = 'секунду';\r\n\t\t\t} else if (sec < 5) {\r\n\t\t\t\tsecTxt = 'секунды';\r\n\t\t\t} else if (sec < 21) {\r\n\t\t\t\tsecTxt = 'секунд';\r\n\t\t\t}\r\n\r\n\t\t\tvar secNum = (sec < 10) ? '0'+ sec : sec;\r\n\r\n\t\t\telem.innerHTML = [minOut, secNum, secTxt].join(' ');\r\n\t\t}\r\n\r\n\t\tvar stop = () => {\r\n\t\t\tclearInterval(this.interval);\r\n\r\n\t\t\tif (this.onStop) {\r\n\t\t\t\tsetTimeout(this.onStop);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.start = function() {\r\n\t\t\tif (!elem) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.interval = setInterval(() => {\r\n\t\t\t\tthis.time--;\r\n\r\n\t\t\t\toutput(this.time);\r\n\r\n\t\t\t\tif (this.time == 0) {\r\n\t\t\t\t\tstop();\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t}\r\n\t}\r\n}());"]}